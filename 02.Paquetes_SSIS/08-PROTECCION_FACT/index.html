
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../07-PROTECCION_DIMENSIONES/">
      
      
        <link rel="next" href="../09-ETLS_CUBO/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>08. PROTECCION_FACT - COMFENALCO</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="23abf7" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#proteccion_fact" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="COMFENALCO" class="md-header__button md-logo" aria-label="COMFENALCO" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            COMFENALCO
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              08. PROTECCION_FACT
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="COMFENALCO" class="md-nav__button md-logo" aria-label="COMFENALCO" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    COMFENALCO
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    00. INICIO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            00. INICIO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    INTRODUCCIÓN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instalacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    INSTALACIÓN Y CONFIGURACIÓN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Conexiones_BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CONEXIÓN A BASE DE DATOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../buenaspracticas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BUENAS PRÁCTICAS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01. SCRIPTS SQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            01. SCRIPTS SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/00.Inicio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/00.Eliminar_todo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00. Eliminar Todo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/01.Transversal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. Transversal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/02.Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02. Cedesarrollo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/03.Proteccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03. Proteccion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/04.Colegio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04. Colegio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02. ESTRUCTURA SHAREPOINT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            02. ESTRUCTURA SHAREPOINT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04.sharepoint/estructura_sharepoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estructura carpeta Sharepoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04.sharepoint/estructura_archivos_actualizacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estructura Archivos Actualizacion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    03. BI COMFENALCO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            03. BI COMFENALCO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00.params/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduccion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00-SCRAPING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00. WEB SCRAPING
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01.TRANSVERSAL_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. TRANSVERSAL_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-TRANSVERSAL_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02. TRANSVERSAL_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-COLEGIO_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03. COLEGIO_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-COLEGIO_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04. COLEGIO_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-CEDESARROLLO_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05. CEDESARROLLO_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-CEDESARROLLO_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06. CEDESARROLLO_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-PROTECCION_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07. PROTECCION_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    08. PROTECCION_FACT
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    08. PROTECCION_FACT
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proposito-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Propósito del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descripcion-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Descripción del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablas-y-columnas-clave" class="md-nav__link">
    <span class="md-ellipsis">
      Tablas y Columnas Clave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diagramas" class="md-nav__link">
    <span class="md-ellipsis">
      Diagramas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Diagramas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-diagrama-de-flujo-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Diagrama de Flujo de Datos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componentes" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Componentes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componente-truncar-caracterizacion-stage_area" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Truncar Caracterizacion STAGE_AREA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_caracterizacion-stage_area" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_CARACTERIZACION STAGE_AREA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_caracterizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_CARACTERIZACION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_diagnosticos_ee_jec" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_DIAGNOSTICOS_EE_JEC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_diagnosticos_ee_aipi" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_DIAGNOSTICOS_EE_AIPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_venta" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_VENTA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_entrega_material" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_ENTREGA_MATERIAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_visitas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_VISITAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_desercion" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_DESERCION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_plan_cobertura" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_PLAN_COBERTURA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-restaurar-llaves-foraneas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Restaurar llaves foraneas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-ETLS_CUBO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09. ETLS_CUBO
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    04. COMFENALCO EDUCACION
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            04. COMFENALCO EDUCACION
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01 SCRIPTS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            01 SCRIPTS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01. Q10
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            01. Q10
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_1" id="__nav_5_1_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    0.1. Educación Tecnica
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_1">
            <span class="md-nav__icon md-icon"></span>
            0.1. Educación Tecnica
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/01.Docentes_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.1. Docentes Cedesarrollo.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/02.Disenio_curricular/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.2. Diseño Curricular.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/03.Listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.3. Listado Matrículas.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/04.Ingresos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.4. Ingresos.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/05.Historico_notas_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.5. Histórico notas.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/06.Egresados_graduados_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.6. Egresados.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/07.Desertores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.7. Desertores.py
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_2" id="__nav_5_1_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    0.2. Educación Continua
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_2">
            <span class="md-nav__icon md-icon"></span>
            0.2. Educación Continua
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/01.Docentes_desarrollo_empresarial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.1. Docentes Desarrollo Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/02.Preinscritos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.2. Preinscritos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/03.Listado_matriculas_emp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.3. Listado Matrículas Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/04.Consolidado_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.4. Consolidado Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/05.Estudiantes_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.5. Estudiantes Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/06.Egresados_graduados_empresarial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.6. Egresados Graduados Empresarial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_3" id="__nav_5_1_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sharepoint
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_3">
            <span class="md-nav__icon md-icon"></span>
            Sharepoint
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_01_procesar_docentes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_01 procesar_docentes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_02_procesar_Dise%C3%B1o_Curricular/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_02 procesar_Diseño_Curricular
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_03_procesar_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_03 procesar_listado_matriculas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_04_procesar_cede_Ingresos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_04 procesar_Ingresos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_05_cede_Historico_Notas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_05 cede_Historico_Notas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_06_cede_Egresados_Graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_06 cede_Egresados_Graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_07_Cancelados_Desertores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_07 Cancelados Desertores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_01_Docentes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_01 Docentes Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_02_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_02 Listado Matrículas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_03_preinscritos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_03 Preinscritos Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_04_egresados_Graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_04 Egresados Graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_05_Estudiantes_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_05 Estudiantes Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_06_consolidado_Inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_06 Consolidado Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02. C4C
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            02. C4C
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_02.C4C/01.C4C_webscraping_v4_Actualizable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1. Webscraping Actualizable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_02.C4C/02.C4C_webscraping_v4_Historico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2. Webscraping Histórico
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/Funciones/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Funciones.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Download.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/Funciones_DM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Funciones_DM.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/c4c_from_sharepoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    c4c_from_sharepoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/dim_Estudiantes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dim_Estudiantes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/dim_periodo_academico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dim_periodo_academico
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_facturacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_facturacion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_cotizacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_cotizacion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_listado_matriculas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    05. CUBO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            05. CUBO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03.Cubo/00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03.Cubo/01.Origen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. ORIGEN Y MEDIDAS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03.Cubo/02.Tablas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02. TABLAS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03.Cubo/03.ETL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03. ETL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    06. POWER BI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            06. POWER BI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05.Power_BI/00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05.Power_BI/01.Dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. DASHBOARD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proposito-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Propósito del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descripcion-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Descripción del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablas-y-columnas-clave" class="md-nav__link">
    <span class="md-ellipsis">
      Tablas y Columnas Clave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diagramas" class="md-nav__link">
    <span class="md-ellipsis">
      Diagramas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Diagramas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-diagrama-de-flujo-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Diagrama de Flujo de Datos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componentes" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Componentes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componente-truncar-caracterizacion-stage_area" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Truncar Caracterizacion STAGE_AREA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_caracterizacion-stage_area" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_CARACTERIZACION STAGE_AREA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_caracterizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_CARACTERIZACION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_diagnosticos_ee_jec" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_DIAGNOSTICOS_EE_JEC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_diagnosticos_ee_aipi" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_DIAGNOSTICOS_EE_AIPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_venta" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_VENTA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_entrega_material" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_ENTREGA_MATERIAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_visitas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_VISITAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_desercion" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_DESERCION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-data-fact_plan_cobertura" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Data FACT_PLAN_COBERTURA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-restaurar-llaves-foraneas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Restaurar llaves foraneas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<!-- markdownlint-disable -->

<h1 id="proteccion_fact">PROTECCION_FACT<a class="headerlink" href="#proteccion_fact" title="Permanent link">&para;</a></h1>
<p>El paquete SSIS <strong>"08-PROTECCION_FACT"</strong> está diseñado para procesar, transformar y cargar información crítica relacionada con operaciones de protección social, como la caracterización de beneficiarios, diagnósticos, entregas de materiales y visitas de seguimiento. Este paquete consolida datos de múltiples fuentes en el Data Warehouse <code>DWH_COMFENALCO</code>, asegurando su calidad, consistencia y disponibilidad para análisis y reportes estratégicos.</p>
<hr />
<h2 id="proposito-del-paquete">Propósito del Paquete<a class="headerlink" href="#proposito-del-paquete" title="Permanent link">&para;</a></h2>
<p>El objetivo principal es integrar datos operativos de protección, garantizando la integridad y estructuración de la información para apoyar análisis avanzados y toma de decisiones en el ámbito social y educativo.</p>
<hr />
<h2 id="descripcion-del-paquete">Descripción del Paquete<a class="headerlink" href="#descripcion-del-paquete" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>Extracción de Datos</strong>  </p>
<ul>
<li><strong>Fuentes Principales:</strong>  <ul>
<li><strong>Archivos Planos:</strong><br />
  Se procesan datos desde archivos planos que alimentan las siguientes tablas de hechos:<br />
<code>FACT_CARACTERIZACION</code>, <code>FACT_DIAGNOSTICOS_EE_JEC</code>, <code>FACT_ENTREGA_MATERIAL</code>, <code>FACT_VISITAS</code> y <code>FACT_DESERCION</code>.</li>
<li><strong>Bases de Datos Relacionales:</strong><br />
  Se extrae información desde dimensiones y tablas de referencia como <code>DIM_TIEMPO</code>, <code>DIM_POBLACION</code>, <code>DIM_PROGRAMA</code>, <code>DIM_ESTABLECIMIENTO_EDUCATIVO</code>, entre otras.</li>
</ul>
</li>
<li><strong>Herramientas y Conexiones:</strong><br />
    Se emplean conexiones OLE DB y ADO.NET para la integración de datos.</li>
</ul>
</li>
<li>
<p><strong>Transformación de Datos</strong>  </p>
<ul>
<li><strong>Validaciones (<code>Lookup</code>):</strong><br />
  Se realizan búsquedas en tablas maestras para enriquecer los datos de entrada, por ejemplo, en <code>DIM_ESTABLECIMIENTO_EDUCATIVO</code> o <code>DIM_PREGUNTAS_EE_JEC</code>.</li>
<li><strong>Conversión de Tipos (<code>Data Conversion</code>):</strong><br />
  Se garantiza la compatibilidad de los datos al convertir tipos y longitudes según lo requiera el destino.</li>
<li><strong>Columnas Derivadas (<code>Derived Column</code>):</strong><br />
  Se generan claves únicas y se asignan valores predefinidos para facilitar la integración.</li>
</ul>
</li>
<li>
<p><strong>Carga de Datos en el Data Warehouse</strong>  </p>
<ul>
<li><strong>Tablas Procesadas:</strong>  <ul>
<li><code>FACT_CARACTERIZACION</code></li>
<li><code>FACT_DIAGNOSTICOS_EE_JEC</code></li>
<li><code>FACT_ENTREGA_MATERIAL</code></li>
<li><code>FACT_VISITAS</code></li>
<li><code>FACT_DESERCION</code></li>
</ul>
</li>
<li><strong>Configuración de Carga:</strong><br />
  Se habilitan las inserciones masivas para optimizar el rendimiento y se aseguran la integridad referencial y la consistencia en la carga de datos.</li>
</ul>
</li>
<li>
<p><strong>Automatización y Scripts</strong>  </p>
<ul>
<li>Uso de scripts SQL dinámicos para la restauración de claves foráneas en esquemas como Transversal, Cedesarrollo, Proteccion y Colegio, garantizando la integridad referencial en el Data Warehouse.</li>
</ul>
</li>
</ol>
<hr />
<h2 id="tablas-y-columnas-clave">Tablas y Columnas Clave<a class="headerlink" href="#tablas-y-columnas-clave" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>FACT_CARACTERIZACION:</strong>  </p>
<ul>
<li>Columnas clave: <code>ID_POBLACION</code>, <code>ID_PROGRAMA</code>, <code>ID_FECHA</code>, <code>TIPO_DOCUMENTO</code>, <code>DOCUMENTO</code>.</li>
</ul>
</li>
<li>
<p><strong>FACT_DIAGNOSTICOS_EE_JEC:</strong>  </p>
<ul>
<li>Columnas clave: <code>ID_FECHA</code>, <code>ID_PREGUNTA</code>, <code>ID_RESPUESTA</code>, <code>ID_REGISTRO</code>.</li>
</ul>
</li>
<li>
<p><strong>FACT_ENTREGA_MATERIAL:</strong>  </p>
<ul>
<li>Columnas clave: <code>ID_FECHA_ENTREGA</code>, <code>ID_MATERIAL</code>, <code>ID_PERSONAL</code>, <code>CANTIDAD_MATERIAL</code>.</li>
</ul>
</li>
<li>
<p><strong>FACT_VISITAS:</strong>  </p>
<ul>
<li>Columnas clave: <code>ID_FECHA</code>, <code>ID_PROGRAMA</code>, <code>MUNICIPIO</code>, <code>FECHA_PLANEADA</code>, <code>FECHA_EJECUTADA</code>.</li>
</ul>
</li>
<li>
<p><strong>FACT_DESERCION:</strong>  </p>
<ul>
<li>Columnas clave: <code>ID_ESTABLECIMIENTO_EDUCATIVO</code>, <code>ID_POBLACION</code>, <code>ID_FECHA_REGISTRO</code>, <code>PROGRAMA</code>, <code>CAUSA</code>.</li>
</ul>
</li>
</ol>
<hr />
<h2 id="diagramas">Diagramas<a class="headerlink" href="#diagramas" title="Permanent link">&para;</a></h2>
<h3 id="1-diagrama-de-flujo-de-datos">1. Diagrama de Flujo de Datos<a class="headerlink" href="#1-diagrama-de-flujo-de-datos" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
    participant SSIS as SSIS Package
    participant DB as Base de Datos
    participant Excel as Archivos Planos
    participant Python as Scripts Python
    participant DWH as Data Warehouse

    SSIS -&gt;&gt; DB: Extraer datos de dimensiones clave
    SSIS -&gt;&gt; Excel: Leer datos desde archivos planos
    SSIS -&gt;&gt; Python: Restaurar claves foráneas
    SSIS -&gt;&gt; DWH: Cargar datos procesados</code></pre>
<h2 id="componentes">Componentes<a class="headerlink" href="#componentes" title="Permanent link">&para;</a></h2>
<h3 id="componente-truncar-caracterizacion-stage_area">Componente <strong><code>Truncar Caracterizacion STAGE_AREA</code></strong><a class="headerlink" href="#componente-truncar-caracterizacion-stage_area" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general">Descripción General<a class="headerlink" href="#descripcion-general" title="Permanent link">&para;</a></h4>
<p>Este componente es una tarea de tipo <strong>Execute SQL Task</strong> en SSIS diseñada para truncar la tabla <code>[STAGE_AREA].[Transversal].[FACT_CARACTERIZACION_PROTECCION]</code>. El propósito principal es limpiar la tabla en el área de staging antes de cargar nuevos datos, asegurando que no existan registros previos que puedan interferir con el proceso ETL.</p>
<h4 id="propiedades-del-componente">Propiedades del Componente<a class="headerlink" href="#propiedades-del-componente" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Conexión:</strong><br />
  Utiliza la conexión identificada por <code>{57F24C4D-9B0A-4EBB-AE46-43F9B341582B}</code>.</p>
</li>
<li>
<p><strong>SQL Statement:</strong><br />
  Ejecuta la siguiente instrucción SQL:
  <div class="highlight"><pre><span></span><code><span class="k">truncate</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="p">[</span><span class="n">STAGE_AREA</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_CARACTERIZACION_PROTECCION</span><span class="p">]</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Descripción:</strong><br />
  "Tarea Ejecutar SQL" que se encarga de vaciar la tabla de staging para la caracterización de protección.</p>
</li>
</ul>
<h4 id="diagrama-de-secuencia">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant SSIS as SSIS Task
    participant SQL as SQL Server

    SSIS -&gt;&gt; SQL: Ejecuta "truncate table STAGE_AREA.Transversal.FACT_CARACTERIZACION_PROTECCION"
    SQL -&gt;&gt; SQL: Vacía la tabla</code></pre>
<h3 id="componente-data-fact_caracterizacion-stage_area">Componente <strong><code>Data FACT_CARACTERIZACION STAGE_AREA</code></strong><a class="headerlink" href="#componente-data-fact_caracterizacion-stage_area" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general_1">Descripción General<a class="headerlink" href="#descripcion-general_1" title="Permanent link">&para;</a></h4>
<p>Este componente forma parte de un flujo ETL en SSIS que procesa la información relacionada con la caracterización para el entorno de staging. Su objetivo es extraer datos desde un archivo plano, aplicar las transformaciones y conversiones necesarias, y finalmente cargar los datos resultantes en la tabla de destino<br />
<strong>Transversal.FACT_CARACTERIZACION_PROTECCION</strong> dentro del entorno de STAGE_AREA. Esto permite preparar los datos para su posterior integración y validación en el Data Warehouse.</p>
<h4 id="componentes-del-flujo-de-datos">Componentes del Flujo de Datos<a class="headerlink" href="#componentes-del-flujo-de-datos" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Flat File Source</strong>  </p>
<ul>
<li><strong>Descripción:</strong><br />
    Extrae datos desde un archivo plano (por ejemplo, CSV) que contiene columnas como DOCUMENTO, PROGRAMA, PREGUNTA, RESPUESTA, OBSERVACIONES, FECHA y TIPO_DOCUMENTO.</li>
<li><strong>Propiedades:</strong>  <ul>
<li>RetainNulls: false (no se retienen los valores nulos de origen).</li>
<li>No se utiliza una columna para el nombre del archivo.</li>
</ul>
</li>
<li><strong>Salida:</strong><br />
    Los datos extraídos se envían al siguiente componente para su transformación.</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET</strong>  </p>
<ul>
<li><strong>Descripción:</strong><br />
    Inserta los datos transformados en la tabla de destino. Se utiliza para cargar la información final en la tabla <strong>Transversal.FACT_CARACTERIZACION_PROTECCION</strong>.</li>
<li><strong>Propiedades Clave:</strong>  <ul>
<li><strong>TableOrViewName:</strong><br />
  "Transversal"."FACT_CARACTERIZACION_PROTECCION"</li>
<li><strong>BatchSize:</strong><br />
  0 (se usa el tamaño predeterminado del búfer interno de SSIS).</li>
<li><strong>CommandTimeout:</strong><br />
  30 segundos.</li>
<li><strong>UseBulkInsertWhenPossible:</strong><br />
  true (habilita la inserción masiva para optimizar el rendimiento).</li>
</ul>
</li>
<li><strong>Conexión:</strong><br />
    Se utiliza un administrador de conexiones configurado con el identificador DWH del área de staging.</li>
<li><strong>Mapeo de Columnas:</strong><br />
    Se asignan columnas provenientes del Flat File Source a las columnas correspondientes del destino. Entre ellas se incluyen DOCUMENTO, PROGRAMA, PREGUNTA, RESPUESTA, OBSERVACIONES, TIPO_DOCUMENTO y FECHA.</li>
</ul>
</li>
<li>
<p><strong>Rutas del Flujo de Datos</strong>  </p>
<ul>
<li>Se establece una ruta directa desde la salida del Flat File Source hacia la entrada del Destino ADO.NET, lo que indica que todos los datos extraídos se pasan sin separación intermedia a la carga final en la tabla de staging.</li>
</ul>
</li>
</ol>
<h3 id="componente-data-fact_caracterizacion">Componente <strong><code>Data FACT_CARACTERIZACION</code></strong><a class="headerlink" href="#componente-data-fact_caracterizacion" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general_2">Descripción General<a class="headerlink" href="#descripcion-general_2" title="Permanent link">&para;</a></h4>
<p>Este componente forma parte de un flujo ETL en SSIS que extrae, transforma y carga datos de caracterización. La fuente de datos se define mediante una instrucción SQL que utiliza una CTE para preparar la información proveniente de la tabla de staging. Se unen datos de diversas dimensiones (población, programa y campos de caracterización) para calcular un identificador de fecha basado en la fecha original. Posteriormente, se filtran los registros para incluir solo aquellos que aún no se encuentran en la tabla de destino. Finalmente, los datos se cargan en la tabla <strong>Proteccion.FACT_CARACTERIZACION</strong> en el Data Warehouse.</p>
<h4 id="componentes-del-flujo-de-datos_1">Componentes del Flujo de Datos<a class="headerlink" href="#componentes-del-flujo-de-datos_1" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos (caract)</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Extrae datos utilizando una instrucción SQL que define una CTE llamada FACT_CARACTERIZACION_PROTECCION. La consulta recupera columnas como FECHA, ID_POBLACION, ID_PROGRAMA, ID_PREGUNTA, RESPUESTA y OBSERVACIONES. Además, se calcula el identificador de fecha (ID_FECHA) a partir de la fecha, utilizando una concatenación de año, mes y día.</li>
<li><strong>Detalle de la Consulta SQL:</strong><br />
    La consulta extrae registros de la tabla en el área de staging y realiza LEFT JOIN con las dimensiones DIM_POBLACION, DIM_PROGRAMA y DIM_CAMPOS_CARACT para relacionar la información. Finalmente, se seleccionan únicamente los registros que no tienen coincidencia en la tabla de destino FACT_CARACTERIZACION.</li>
</ul>
</li>
<li>
<p><strong>Data Conversion</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Convierte el campo FECHA (extraído en formato de cadena) a tipo dbTimeStamp. El resultado se almacena en la columna "Copy of FECHA" para garantizar la compatibilidad con el destino.</li>
<li><strong>Propiedades Relevantes:</strong>  <ul>
<li>Conversión de FECHA a formato de fecha y hora (dbTimeStamp).</li>
<li>Se maneja la disposición de error configurada para abortar el componente en caso de error.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Inserta los datos transformados y convertidos en la tabla de destino <strong>Proteccion.FACT_CARACTERIZACION</strong>.</li>
<li><strong>Propiedades Clave:</strong>  <ul>
<li><strong>TableOrViewName:</strong> "Transversal"."FACT_CARACTERIZACION_PROTECCION" (para staging) o "Proteccion"."FACT_CARACTERIZACION" (para la carga final, según contexto de integración).</li>
<li><strong>BatchSize:</strong> 0 (se utiliza el tamaño predeterminado del búfer interno de SSIS).</li>
<li><strong>CommandTimeout:</strong> 30 segundos.</li>
<li><strong>UseBulkInsertWhenPossible:</strong> true (habilita la inserción masiva para optimizar el rendimiento).</li>
</ul>
</li>
<li><strong>Mapeo de Columnas:</strong><br />
    Se mapean columnas clave como ID_FECHA, ID_POBLACION, ID_PROGRAMA, ID_PREGUNTA, RESPUESTA y OBSERVACIONES desde la salida de la transformación hasta el destino final.</li>
</ul>
</li>
</ol>
<h4 id="diagrama-de-flujo-del-proceso">Diagrama de Flujo del Proceso<a class="headerlink" href="#diagrama-de-flujo-del-proceso" title="Permanent link">&para;</a></h4>
<p>El flujo de procesamiento se puede resumir de la siguiente manera:</p>
<pre class="mermaid"><code>graph TD
    A[SQL Data Source] --&gt; B[Data Conversion]
    B --&gt; C[ADO NET Destination]</code></pre>
<h3 id="componente-data-fact_diagnosticos_ee_jec">Componente <strong><code>Data FACT_DIAGNOSTICOS_EE_JEC</code></strong><a class="headerlink" href="#componente-data-fact_diagnosticos_ee_jec" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general_3">Descripción General<a class="headerlink" href="#descripcion-general_3" title="Permanent link">&para;</a></h4>
<p>Este componente es un flujo de datos (Data Flow Task) de SSIS diseñado para procesar y cargar datos relacionados con diagnósticos en el entorno educativo (EE) para el módulo JEC. El proceso extrae información de un archivo plano, realiza conversiones de datos, aplica varias transformaciones de búsqueda (Lookup) para enriquecer los datos con claves de dimensiones y hechos, y finalmente carga los registros resultantes en la tabla destino <strong>Proteccion.FACT_DIAGNOSTICOS_EE_JEC</strong> en el Data Warehouse.</p>
<h4 id="componentes-del-flujo-de-datos_2">Componentes del Flujo de Datos<a class="headerlink" href="#componentes-del-flujo-de-datos_2" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Flat File Source 1</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Extrae datos desde un archivo plano (CSV) utilizando la conexión definida por <code>Csv_Connection_Fact_Diagnosticos_EE_JEC</code>.</li>
<li><strong>Columnas de salida:</strong><br />
    Incluye campos como:<ul>
<li><code>FECHA</code></li>
<li><code>PROGRAMA</code></li>
<li><code>PREGUNTA</code></li>
<li><code>RESPUESTA</code></li>
<li><code>ID_REGISTRO</code></li>
<li><code>FECHA_HORA_INICIO</code></li>
<li><code>FECHA_HORA_FIN</code></li>
<li><code>CORREO_FUNCIONARIO</code></li>
<li><code>NOMBRE_FUNCIONARIO</code></li>
<li><code>TOTAL_PUNTOS</code></li>
<li><code>RECTOR</code></li>
<li><code>FECHA_ULT_MODIF</code></li>
</ul>
</li>
<li><strong>Errores:</strong><br />
    Las filas con errores son redirigidas a la salida de error con información adicional en las columnas <code>ErrorCode</code> y <code>ErrorColumn</code>.</li>
</ul>
</li>
<li>
<p><strong>Data Conversion</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Convierte los datos extraídos a los tipos y formatos requeridos para su procesamiento posterior. Por ejemplo, convierte las cadenas que representan fechas en valores del tipo <strong>dbTimeStamp</strong> y realiza conversiones de texto a tipos numéricos cuando es necesario.</li>
<li><strong>Columnas Convertidas:</strong>  <ul>
<li><code>ID_REGISTRO</code> se convierte a tipo <em>numeric</em>.</li>
<li><code>FECHA_HORA_INICIO</code> y <code>FECHA_HORA_FIN</code> se convierten a tipo <strong>dbTimeStamp</strong>.</li>
<li>Otros campos de texto (como <code>CORREO_FUNCIONARIO</code>, <code>NOMBRE_FUNCIONARIO</code>, <code>TOTAL_PUNTOS</code>, <code>RECTOR</code>, <code>FECHA</code>, <code>RESPUESTA</code>, <code>PREGUNTA</code> y <code>PROGRAMA</code>) se mantienen en formato cadena (wstr) con longitudes definidas.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lookup Transformations</strong></p>
<ul>
<li><strong>Lookup (DIM_TIEMPO):</strong><ul>
<li><strong>Descripción:</strong><br />
  Realiza una búsqueda en la dimensión del tiempo para obtener el identificador de fecha (<code>ID_FECHA</code>) usando el valor convertido de la columna <em>Copy of FECHA</em>.</li>
<li><strong>SQL de Referencia:</strong><br />
<code>SELECT * FROM [Dwh].[DIM_TIEMPO] WHERE FECHA = ?</code></li>
</ul>
</li>
<li><strong>Lookup 1 (DIM_PREGUNTAS_EE_JEC):</strong><ul>
<li><strong>Descripción:</strong><br />
  Cruza la columna convertida <em>Copy of PREGUNTA</em> con la tabla <code>DIM_PREGUNTAS_EE_JEC</code> para asociar cada registro con su correspondiente <code>ID_PREGUNTA</code>.</li>
<li><strong>SQL de Referencia:</strong><br />
<code>SELECT * FROM [Proteccion].[DIM_PREGUNTAS_EE_JEC] WHERE PREGUNTA = ?</code></li>
</ul>
</li>
<li><strong>Lookup 2 (DIM_RESPUESTAS_EE_JEC):</strong><ul>
<li><strong>Descripción:</strong><br />
  Usa las columnas <em>Copy of RESPUESTA</em> y el <code>ID_PREGUNTA</code> obtenido previamente para buscar el <code>ID_RESPUESTA</code> en la tabla <code>DIM_RESPUESTAS_EE_JEC</code>.</li>
<li><strong>SQL de Referencia:</strong><br />
<code>SELECT * FROM [Proteccion].[DIM_RESPUESTAS_EE_JEC] WHERE RESPUESTA = ? AND ID_PREGUNTA = ?</code></li>
</ul>
</li>
<li><strong>Lookup 3 (FACT_DIAGNOSTICOS_EE_JEC):</strong><ul>
<li><strong>Descripción:</strong><br />
  Verifica la existencia de registros duplicados en la tabla destino mediante una combinación de varias columnas (FECHA_HORA_INICIO, FECHA_HORA_FIN, CORREO_FUNCIONARIO, NOMBRE_FUNCIONARIO, TOTAL_PUNTOS, RECTOR, RESPUESTA, ID_PREGUNTA y ID_RESPUESTA). Los registros sin coincidencia se permiten continuar para su inserción.</li>
<li><strong>SQL de Referencia:</strong><br />
  La consulta compara todas las columnas clave para identificar duplicados.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Inserta los datos transformados y validados en la tabla <strong>Proteccion.FACT_DIAGNOSTICOS_EE_JEC</strong>.</li>
<li><strong>Propiedades Clave:</strong>  <ul>
<li><strong>TableOrViewName:</strong> <code>"Proteccion"."FACT_DIAGNOSTICOS_EE_JEC"</code></li>
<li><strong>BatchSize:</strong> 0 (usa el tamaño predeterminado del búfer interno de SSIS)</li>
<li><strong>CommandTimeout:</strong> 30 segundos</li>
<li><strong>UseBulkInsertWhenPossible:</strong> true (habilita la inserción masiva para optimizar el rendimiento)</li>
</ul>
</li>
<li><strong>Columnas Cargadas:</strong><br />
    Se cargan campos como:<ul>
<li><code>ID_FECHA</code> (obtenido de Lookup DIM_TIEMPO)</li>
<li><code>ID_PREGUNTA</code> (obtenido de Lookup 1)</li>
<li><code>ID_RESPUESTA</code> (obtenido de Lookup 2)</li>
<li>Además, se incluyen columnas provenientes de la Data Conversion: <em>Copy of ID_REGISTRO</em>, <em>Copy of FECHA_HORA_INICIO</em>, <em>Copy of FECHA_HORA_FIN</em>, <em>Copy of CORREO_FUNCIONARIO</em>, <em>Copy of NOMBRE_FUNCIONARIO</em>, <em>Copy of TOTAL_PUNTOS</em>, <em>Copy of RECTOR</em></li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="diagrama-de-flujo-del-proceso_1">Diagrama de Flujo del Proceso<a class="headerlink" href="#diagrama-de-flujo-del-proceso_1" title="Permanent link">&para;</a></h4>
<p>El proceso se puede resumir de la siguiente manera:</p>
<pre class="mermaid"><code>graph TD
    A[Flat File Source] --&gt; B[Data Conversion]
    B --&gt; C[Lookup: DIM_TIEMPO]
    C --&gt; D[Lookup 1: DIM_PREGUNTAS_EE_JEC]
    D --&gt; E[Lookup 2: DIM_RESPUESTAS_EE_JEC]
    E --&gt; F[Lookup 3: Verificación de duplicados en FACT_DIAGNOSTICOS_EE_JEC]
    F --&gt; G[ADO.NET Destination]</code></pre>
<h3 id="componente-data-fact_diagnosticos_ee_aipi">Componente <strong><code>Data FACT_DIAGNOSTICOS_EE_AIPI</code></strong><a class="headerlink" href="#componente-data-fact_diagnosticos_ee_aipi" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general_4">Descripción General<a class="headerlink" href="#descripcion-general_4" title="Permanent link">&para;</a></h4>
<p>El componente <strong>Data FACT_DIAGNOSTICOS_EE_AIPI</strong> es un flujo de datos (Data Flow Task) de SSIS diseñado para extraer, transformar y cargar información de diagnósticos para el módulo EE AIPI. Este proceso parte de un archivo plano que contiene información relevante, la cual es convertida a los formatos necesarios, enriquecida mediante varias transformaciones de búsqueda (Lookup) y, finalmente, insertada en la tabla destino <strong>Proteccion.FACT_DIAGNOSTICOS_EE_AIPI</strong> en el Data Warehouse.</p>
<hr />
<h4 id="componentes-del-flujo-de-datos_3">Componentes del Flujo de Datos<a class="headerlink" href="#componentes-del-flujo-de-datos_3" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Flat File Source</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Extrae datos desde un archivo plano delimitado utilizando la conexión configurada (<code>Csv_Connection_Fact_Diagnosticos_EE_AIPI</code>). Las columnas incluidas son:  <ul>
<li><em>ESTABLECIMIENTO EDUCATIVO</em></li>
<li><em>NOMBRE_SEDE</em></li>
<li><em>MUNICIPIO</em></li>
<li><em>ENTIDAD_ADMINISTRADORA</em></li>
<li><em>DIRECCION</em></li>
<li><em>FECHA</em></li>
<li><em>PROGRAMA</em></li>
<li><em>PREGUNTA</em></li>
<li><em>RESPUESTA</em></li>
<li><em>ID_REGISTRO</em></li>
<li><em>FECHA_HORA_INICIO</em></li>
<li><em>FECHA_HORA_FIN</em></li>
<li><em>CORREO_FUNCIONARIO</em></li>
<li><em>NOMBRE_FUNCIONARIO</em></li>
<li><em>TOTAL_PUNTOS</em></li>
<li><em>RECTOR</em></li>
<li><em>FECHA_ULT_MODIF</em></li>
</ul>
</li>
<li><strong>Manejo de Errores:</strong><br />
    Las filas que presenten errores durante la extracción se redirigen a una salida de error, registrando información adicional (por ejemplo, <code>ErrorCode</code> y <code>ErrorColumn</code>).</li>
</ul>
</li>
<li>
<p><strong>Data Conversion</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Convierte las columnas extraídas a los tipos de datos requeridos para el procesamiento posterior. Se crean columnas de copia para asegurar la integridad y compatibilidad de la información. Por ejemplo:</li>
<li><strong>Columnas Convertidas:</strong>  <ul>
<li><em>Copy of ESTABLECIMIENTO EDUCATIVO</em> (cadena extendida, wstr, longitud 255)</li>
<li><em>Copy of NOMBRE_SEDE</em> (wstr, longitud 200)</li>
<li><em>Copy of MUNICIPIO</em> (wstr, longitud 255)</li>
<li><em>Copy of ENTIDAD_ADMINISTRADORA</em> (wstr, longitud 255)</li>
<li><em>Copy of DIRECCION</em> (wstr, longitud 300)</li>
<li><em>Copy of FECHA</em> (convertido a dbTimeStamp)</li>
<li><em>Copy of PREGUNTA</em> (wstr, longitud 255)</li>
<li><em>Copy of RESPUESTA</em> (wstr, longitud 255)</li>
<li>Otros campos necesarios para el enriquecimiento.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Transformaciones Lookup</strong></p>
<ul>
<li><strong>Lookup 1: DIM_ESTABLECIMIENTO_EDUCATIVO</strong><ul>
<li><strong>Descripción:</strong><br />
  Cruza la columna <em>Copy of ESTABLECIMIENTO EDUCATIVO</em> con la dimensión de establecimientos educativos para obtener el <code>ID_ESTABLECIMIENTO_EDUCATIVO</code>.</li>
<li><strong>SQL de Referencia:</strong><br />
<code>select * from [Proteccion].[DIM_ESTABLECIMIENTO_EDUCATIVO] where NOMBRE_ESTABLECIMIENTO = ?</code></li>
</ul>
</li>
<li><strong>Lookup 2: DIM_PREGUNTAS_EE_AIPI</strong><ul>
<li><strong>Descripción:</strong><br />
  Utiliza la columna <em>Copy of PREGUNTA</em> para buscar el <code>ID_PREGUNTA</code> en la tabla <code>DIM_PREGUNTAS_EE_AIPI</code>.</li>
<li><strong>SQL de Referencia:</strong><br />
<code>select * from [Proteccion].[DIM_PREGUNTAS_EE_AIPI] where PREGUNTA = ?</code></li>
</ul>
</li>
<li><strong>Lookup 3: DIM_RESPUESTAS_EE_AIPI</strong><ul>
<li><strong>Descripción:</strong><br />
  Cruza la columna <em>Copy of RESPUESTA</em> junto con el <code>ID_PREGUNTA</code> obtenido previamente para asociar el registro con el <code>ID_RESPUESTA</code> en la tabla <code>DIM_RESPUESTAS_EE_AIPI</code>.</li>
<li><strong>SQL de Referencia:</strong><br />
<code>select * from [Proteccion].[DIM_RESPUESTAS_EE_AIPI] where RESPUESTA = ? and ID_PREGUNTA = ?</code></li>
</ul>
</li>
<li><strong>Lookup 4: Validación de Duplicados</strong><ul>
<li><strong>Descripción:</strong><br />
  Verifica la existencia de registros duplicados en la tabla destino. Esta transformación utiliza múltiples columnas (por ejemplo, <em>Copy of NOMBRE_SEDE</em>, <em>Copy of MUNICIPIO</em>, <em>Copy of ENTIDAD_ADMINISTRADORA</em>, <em>Copy of DIRECCION</em>, <em>Copy of FECHA</em>, <em>Copy of RESPUESTA</em>, <code>ID_ESTABLECIMIENTO_EDUCATIVO</code>, <code>ID_PREGUNTA</code> y <code>ID_RESPUESTA</code>) para identificar si el registro ya existe en <strong>Proteccion.FACT_DIAGNOSTICOS_EE_AIPI</strong>.</li>
<li><strong>SQL de Referencia:</strong><br />
  La consulta se estructura para comparar todas las columnas clave y enviar a la salida de "No Match" aquellos registros que no tengan duplicados.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET</strong></p>
<ul>
<li><strong>Descripción:</strong><br />
    Inserta los datos finales, ya convertidos y enriquecidos, en la tabla <strong>Proteccion.FACT_DIAGNOSTICOS_EE_AIPI</strong>.</li>
<li><strong>Propiedades Clave:</strong><ul>
<li><strong>TableOrViewName:</strong> <code>"Proteccion"."FACT_DIAGNOSTICOS_EE_AIPI"</code></li>
<li><strong>BatchSize:</strong> 0 (usa el tamaño predeterminado del búfer interno de SSIS)</li>
<li><strong>CommandTimeout:</strong> 30 segundos</li>
<li><strong>UseBulkInsertWhenPossible:</strong> true</li>
</ul>
</li>
<li><strong>Columnas Cargadas:</strong><br />
    Se incluyen columnas provenientes de la Data Conversion y los Lookups, tales como:<ul>
<li><code>ID_FECHA</code> (obtenido de Lookup DIM_TIEMPO, si se aplicara)</li>
<li><code>ID_ESTABLECIMIENTO_EDUCATIVO</code></li>
<li><code>ID_PREGUNTA</code></li>
<li><code>ID_RESPUESTA</code></li>
<li><em>Copy of ID_REGISTRO</em></li>
<li><em>Copy of FECHA_HORA_INICIO</em></li>
<li><em>Copy of FECHA_HORA_FIN</em></li>
<li><em>Copy of CORREO_FUNCIONARIO</em></li>
<li><em>Copy of NOMBRE_FUNCIONARIO</em></li>
<li><em>Copy of TOTAL_PUNTOS</em></li>
<li><em>Copy of RECTOR</em></li>
<li>Entre otros campos relevantes.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="diagrama-de-flujo-del-proceso_2">Diagrama de Flujo del Proceso<a class="headerlink" href="#diagrama-de-flujo-del-proceso_2" title="Permanent link">&para;</a></h4>
<p>El proceso general se representa de la siguiente forma:</p>
<pre class="mermaid"><code>graph TD
    A[Flat File Source] --&gt; B[Data Conversion]
    B --&gt; C[Lookup 1: DIM_ESTABLECIMIENTO_EDUCATIVO]
    C --&gt; D[Lookup 2: DIM_PREGUNTAS_EE_AIPI]
    D --&gt; E[Lookup 3: DIM_RESPUESTAS_EE_AIPI]
    E --&gt; F[Lookup 4: Validación de Duplicados]
    F --&gt; G[Destino ADO.NET]</code></pre>
<h3 id="componente-data-fact_venta">Componente <strong><code>Data FACT_VENTA</code></strong><a class="headerlink" href="#componente-data-fact_venta" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general_5">Descripción General<a class="headerlink" href="#descripcion-general_5" title="Permanent link">&para;</a></h4>
<p>El componente <strong>Data FACT_VENTA</strong> es un Data Flow Task de SSIS que se encarga de extraer, transformar y cargar información de ventas en el entorno de protección. La información se obtiene desde un archivo plano (CSV) y se procesa mediante varias transformaciones antes de insertarla en la tabla de destino <strong>Proteccion.FACT_VENTA</strong>. Este proceso integra la conversión de tipos de datos, el enriquecimiento mediante búsquedas en tablas de referencia (Lookup) y el uso de transformaciones derivadas para generar nuevos valores, como la asignación de identificadores y la estandarización de campos.</p>
<h4 id="componentes-del-flujo-de-datos_4">Componentes del Flujo de Datos<a class="headerlink" href="#componentes-del-flujo-de-datos_4" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Flat File Source</strong></p>
<ul>
<li><strong>Función:</strong><br />
    Extrae los datos desde un archivo plano delimitado. Entre las columnas que se leen se encuentran:<ul>
<li>FECHA</li>
<li>CODIGO</li>
<li>DOCUMENTO</li>
<li>NOMBRE_USUARIO</li>
<li>CATEGORIA_VENTA</li>
<li>SERVICIO</li>
<li>TIPO_DOCUMENTO</li>
<li>VALOR_PAGADO_SIN_IMP</li>
<li>COSTO</li>
<li>SUBSIDIO</li>
<li>PROGRAMA</li>
</ul>
</li>
<li><strong>Manejo de Errores:</strong><br />
    Los registros que presenten problemas durante la extracción se envían a una salida de error, la cual captura códigos y columnas de error para su posterior análisis.</li>
</ul>
</li>
<li>
<p><strong>Data Conversion</strong></p>
<ul>
<li><strong>Función:</strong><br />
    Convierte las columnas extraídas a los tipos de datos requeridos para el procesamiento. Por ejemplo, convierte la columna FECHA a un valor de tipo <strong>dbTimeStamp</strong> y ajusta las longitudes de campos de texto, como DOCUMENTO, NOMBRE_USUARIO, CATEGORIA_VENTA, SERVICIO y TIPO_DOCUMENTO.</li>
<li><strong>Resultado:</strong><br />
    Se generan columnas “Copy of …” que garantizan que los datos cumplen con el formato esperado en las transformaciones posteriores.</li>
</ul>
</li>
<li>
<p><strong>Derived Column (Transformación Derivada)</strong></p>
<ul>
<li><strong>Función:</strong><br />
    Crea nuevas columnas o modifica las existentes aplicando expresiones. En este caso, se utiliza para calcular y asignar valores derivados, como la conversión de la categoría de venta a un código numérico o la extracción del año a partir de la fecha.</li>
<li><strong>Ejemplo de Expresión:</strong><br />
    Se evalúa la columna de categoría y, según su valor, se asigna un código específico (por ejemplo, “A” → 1, “B” → 2, etc.).</li>
</ul>
</li>
<li>
<p><strong>Lookup – Dimensión Tiempo</strong></p>
<ul>
<li><strong>Función:</strong><br />
    Busca información en la dimensión de tiempo (almacenada en la base de datos DWH) utilizando el campo FECHA convertido. De esta forma se obtiene el identificador de fecha (ID_FECHA) que se usará en el registro de ventas.</li>
<li><strong>Consulta de Referencia:</strong><br />
    Una instrucción SQL que extrae todos los registros de la dimensión de tiempo y filtra aquellos cuyo campo FECHA coincide con el valor procesado.</li>
</ul>
</li>
<li>
<p><strong>Lookup – Dimensión Población</strong></p>
<ul>
<li><strong>Función:</strong><br />
    Utiliza los campos DOCUMENTO y TIPO_DOCUMENTO (ya convertidos) para buscar y obtener el identificador de población (ID_POBLACION) desde la tabla DIM_POBLACION del esquema Proteccion.</li>
<li><strong>Consulta de Referencia:</strong><br />
    La instrucción SQL compara DOCUMENTO y TIPO_DOCUMENTO para encontrar la fila correspondiente.</li>
</ul>
</li>
<li>
<p><strong>Lookup – Tarifas de Servicios</strong></p>
<ul>
<li><strong>Función:</strong><br />
    Consulta la tabla de tarifas de servicios (DIM_TARIFAS_SERVICIOS) del esquema Transversal para recuperar el identificador de tarifa (ID_TARIFA) aplicable al servicio registrado. Esta transformación utiliza campos como SERVICIO, la categoría derivada y el año de la fecha.</li>
<li><strong>Consulta de Referencia:</strong><br />
    Se utiliza una instrucción SQL parametrizada para filtrar la tarifa que corresponda a los datos de entrada.</li>
</ul>
</li>
<li>
<p><strong>Lookup – Verificación de Duplicados</strong></p>
<ul>
<li><strong>Función:</strong><br />
    Realiza una búsqueda en la tabla FACT_VENTA para detectar registros ya existentes. Esta verificación se realiza comparando campos clave (por ejemplo, FECHA, DOCUMENTO, CATEGORIA_VENTA, SERVICIO, TIPO_DOCUMENTO, ID_POBLACION e ID_TARIFA). Los registros que no tengan coincidencias (es decir, que sean nuevos) se envían a la salida de “No Match”, mientras que los duplicados se descartan.</li>
<li><strong>Importancia:</strong><br />
    Garantiza la integridad de la carga evitando la inserción de registros repetidos.</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET</strong></p>
<ul>
<li><strong>Función:</strong><br />
    Inserta los registros procesados y verificados en la tabla <strong>Proteccion.FACT_VENTA</strong>.</li>
<li><strong>Propiedades Principales:</strong><ul>
<li><strong>TableOrViewName:</strong> <code>"Proteccion"."FACT_VENTA"</code></li>
<li><strong>BatchSize:</strong> 0 (se utiliza el tamaño de búfer predeterminado de SSIS)</li>
<li><strong>CommandTimeout:</strong> 30 segundos</li>
<li><strong>UseBulkInsertWhenPossible:</strong> true (para mejorar el rendimiento mediante inserciones masivas)</li>
</ul>
</li>
<li><strong>Columnas Cargadas:</strong><br />
    Se incluyen campos provenientes de las etapas previas, como el identificador de fecha (ID_FECHA), identificador de población (ID_POBLACION), identificador de tarifa (ID_TARIFA), además de los campos originales o derivados de la fuente.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="flujo-del-proceso">Flujo del Proceso<a class="headerlink" href="#flujo-del-proceso" title="Permanent link">&para;</a></h4>
<p>El flujo de datos se organiza en los siguientes pasos:</p>
<ol>
<li>
<p><strong>Extracción:</strong><br />
   La fuente (Flat File Source) lee los datos del archivo CSV.</p>
</li>
<li>
<p><strong>Conversión:</strong><br />
   La transformación de Data Conversion ajusta el formato y tipo de datos, generando columnas “Copy of …”.</p>
</li>
<li>
<p><strong>Enriquecimiento y Transformación:</strong>  </p>
<ul>
<li>La transformación derivada (Derived Column) calcula nuevos valores basados en los datos convertidos.</li>
<li>Las transformaciones Lookup consultan las dimensiones de tiempo, población y tarifas, y también verifican la existencia de registros duplicados.</li>
</ul>
</li>
<li>
<p><strong>Carga:</strong><br />
   Finalmente, el componente ADO.NET Destination inserta los datos finales en la tabla <strong>Proteccion.FACT_VENTA</strong>.</p>
</li>
</ol>
<h3 id="componente-data-fact_entrega_material">Componente <strong><code>Data FACT_ENTREGA_MATERIAL</code></strong><a class="headerlink" href="#componente-data-fact_entrega_material" title="Permanent link">&para;</a></h3>
<p>Parte del paquete SSIS que ejecuta un Data Flow Task para el proceso ETL de entrega de material en el entorno de protección.</p>
<hr />
<h4 id="descripcion-general_6">Descripción General<a class="headerlink" href="#descripcion-general_6" title="Permanent link">&para;</a></h4>
<p>El componente <strong>Data FACT_ENTREGA_MATERIAL</strong> se encarga de extraer datos desde un archivo plano (CSV), transformarlos y finalmente cargarlos en la tabla de destino <strong>Proteccion.FACT_ENTREGA_MATERIAL</strong>. El proceso incluye la conversión de formatos de datos, enriquecimiento mediante búsquedas en tablas de referencia (Lookup) y la validación de la información antes de insertarla en la base de datos.</p>
<hr />
<h4 id="detalle-de-componentes">Detalle de Componentes<a class="headerlink" href="#detalle-de-componentes" title="Permanent link">&para;</a></h4>
<h5 id="1-flat-file-source-1">1. <strong>Flat File Source 1</strong><a class="headerlink" href="#1-flat-file-source-1" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Función:</strong><br />
  Extrae los datos de un archivo CSV.  </li>
<li><strong>Columnas extraídas:</strong>  <ul>
<li>FECHA_ENTREGA  </li>
<li>ID_PERSONAL  </li>
<li>ID_MATERIAL  </li>
<li>NOMBRE_MATERIAL  </li>
<li>TIPO_MATERIAL  </li>
<li>CANTIDAD_MATERIAL  </li>
<li>VALOR_MATERIAL  </li>
<li>TIPO_DOCUMENTO  </li>
<li>DOCUMENTO  </li>
<li>PROGRAMA  </li>
</ul>
</li>
<li><strong>Manejo de errores:</strong><br />
  Las filas con problemas durante la lectura se redirigen a una salida de error, la cual captura información sobre el error para su análisis.</li>
</ul>
<hr />
<h5 id="2-data-conversion">2. <strong>Data Conversion</strong><a class="headerlink" href="#2-data-conversion" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Función:</strong><br />
  Convierte los datos de las columnas extraídas al formato requerido por el proceso.  </li>
<li><strong>Columnas convertidas:</strong>  <ul>
<li>Se generan nuevas columnas (prefijadas con "Copy of …") para:</li>
<li>FECHA_ENTREGA: Convertida a tipo <em>dbTimeStamp</em>  </li>
<li>TIPO_DOCUMENTO, DOCUMENTO, NOMBRE_MATERIAL, TIPO_MATERIAL, PROGRAMA: Convertidas a cadenas de longitud adecuada  </li>
</ul>
</li>
<li><strong>Importancia:</strong><br />
  Garantiza que los datos cumplan con los requisitos de formato y tipo para las siguientes transformaciones y la carga final.</li>
</ul>
<hr />
<h5 id="3-lookup">3. <strong>Lookup</strong><a class="headerlink" href="#3-lookup" title="Permanent link">&para;</a></h5>
<p>Se utilizan varias transformaciones Lookup para enriquecer la información y relacionarla con datos de referencia:</p>
<ul>
<li>
<p><strong>Lookup (sin número):</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
  Consulta la dimensión de tiempo (DIM_TIEMPO) para obtener el identificador de fecha (ID_FECHA) basado en la columna FECHA convertida.  </li>
<li><strong>Consulta:</strong><br />
  Se utiliza una instrucción SQL parametrizada que filtra la dimensión de tiempo según el valor de FECHA.</li>
</ul>
</li>
<li>
<p><strong>Lookup 1:</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
  Recupera el identificador de programa (ID_PROGRAMA) a partir del valor de PROGRAMA.  </li>
<li><strong>Consulta:</strong><br />
  La transformación ejecuta una consulta en la tabla DIM_PROGRAMA del esquema Proteccion, filtrando por el campo PROGRAMA.</li>
</ul>
</li>
<li>
<p><strong>Lookup 2:</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
  Busca el identificador de población (ID_POBLACION) utilizando los valores TIPO_DOCUMENTO y DOCUMENTO.  </li>
<li><strong>Consulta:</strong><br />
  Se consulta la tabla DIM_POBLACION de Proteccion, comparando ambos campos para obtener el valor correspondiente.</li>
</ul>
</li>
<li>
<p><strong>Lookup 3:</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
  Valida y enriquece la información final consultando la tabla FACT_ENTREGA_MATERIAL.  </li>
<li><strong>Consulta:</strong><br />
  Se utiliza una consulta parametrizada que verifica la existencia de un registro en FACT_ENTREGA_MATERIAL usando como filtros FECHA_ENTREGA, NOMBRE_MATERIAL, TIPO_MATERIAL, ID_FECHA, ID_PROGRAMA e ID_POBLACION.  </li>
<li><strong>Comportamiento:</strong><br />
  Se ha configurado el Lookup para enviar a la salida “No Match” las filas que no tienen coincidencia, permitiendo la inserción únicamente de nuevos registros.</li>
</ul>
</li>
</ul>
<hr />
<h5 id="4-destino-adonet-proteccionfact_entrega_material">4. <strong>Destino ADO.NET (Proteccion.FACT_ENTREGA_MATERIAL)</strong><a class="headerlink" href="#4-destino-adonet-proteccionfact_entrega_material" title="Permanent link">&para;</a></h5>
<ul>
<li><strong>Función:</strong><br />
  Carga los datos finales transformados en la tabla de destino <strong>Proteccion.FACT_ENTREGA_MATERIAL</strong>.  </li>
<li><strong>Propiedades importantes:</strong>  </li>
<li><strong>TableOrViewName:</strong> <code>"Proteccion"."FACT_ENTREGA_MATERIAL"</code>  </li>
<li><strong>BatchSize:</strong> 0 (usa el tamaño de búfer predeterminado de SSIS)  </li>
<li><strong>CommandTimeout:</strong> 30 segundos  </li>
<li><strong>UseBulkInsertWhenPossible:</strong> true (para inserciones masivas que optimizan el rendimiento)</li>
<li><strong>Columnas cargadas:</strong><br />
  Se insertan campos provenientes del proceso, entre ellos:  </li>
<li>ID_PERSONAL, ID_MATERIAL  </li>
<li>Los valores convertidos y enriquecidos, como FECHA_ENTREGA, ID_FECHA, ID_PROGRAMA, ID_POBLACION  </li>
<li>Otras columnas con datos relativos al material entregado, como CANTIDAD_MATERIAL y VALOR_MATERIAL</li>
</ul>
<hr />
<h4 id="flujo-del-proceso_1">Flujo del Proceso<a class="headerlink" href="#flujo-del-proceso_1" title="Permanent link">&para;</a></h4>
<p>El proceso ETL en <strong>Data FACT_ENTREGA_MATERIAL</strong> se estructura en los siguientes pasos:</p>
<ol>
<li>
<p><strong>Extracción:</strong><br />
   El Flat File Source extrae los registros desde el archivo CSV.</p>
</li>
<li>
<p><strong>Conversión:</strong><br />
   La transformación Data Conversion genera versiones convertidas de los campos (por ejemplo, FECHA_ENTREGA a <em>dbTimeStamp</em>) para asegurar la compatibilidad con las transformaciones siguientes.</p>
</li>
<li>
<p><strong>Enriquecimiento y Validación:</strong>  </p>
</li>
<li>Las transformaciones Lookup consultan diferentes tablas de referencia para enriquecer y validar la información, verificando datos de tiempo, programa y población.  </li>
<li>
<p>Se utiliza un Lookup adicional para descartar registros duplicados mediante la verificación en la tabla de entrega de material.</p>
</li>
<li>
<p><strong>Carga:</strong><br />
   Los registros transformados y validados se insertan en la tabla de destino utilizando el componente ADO.NET, con inserciones masivas para un rendimiento óptimo.</p>
</li>
</ol>
<h3 id="componente-data-fact_visitas">Componente <strong><code>Data FACT_VISITAS</code></strong><a class="headerlink" href="#componente-data-fact_visitas" title="Permanent link">&para;</a></h3>
<p>Este Data Flow Task se encarga de procesar información relacionada con visitas, realizando la extracción desde un archivo plano, la transformación (incluida la conversión de datos y el enriquecimiento mediante múltiples búsquedas) y la carga en la tabla de destino en el esquema <strong>Proteccion</strong>.</p>
<hr />
<h4 id="resumen-del-proceso">Resumen del Proceso<a class="headerlink" href="#resumen-del-proceso" title="Permanent link">&para;</a></h4>
<p><strong>Objetivo Principal:</strong><br />
El flujo procesa registros de visitas, asegurando que los datos se transformen y enriquezcan adecuadamente antes de ser insertados en la tabla de destino <strong>Proteccion.FACT_VISITAS</strong> en el Data Warehouse.</p>
<hr />
<h4 id="componentes-clave">Componentes Clave<a class="headerlink" href="#componentes-clave" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Flat File Source</strong>  </p>
<ul>
<li><strong>Función:</strong> Extrae datos de un archivo plano (por ejemplo, CSV) con columnas como MUNICIPIO, FECHA_PLANEADA, ID_PERSONAL, PERSONAL, ACTIVIDAD, LUGAR, FECHA_EJECUTADA y PROGRAMA.</li>
<li><strong>Errores:</strong> Se redirigen a una salida de error en caso de problemas de conversión o lectura.</li>
</ul>
</li>
<li>
<p><strong>Data Conversion</strong>  </p>
<ul>
<li><strong>Función:</strong> Convierte las columnas extraídas al formato requerido.  </li>
<li><strong>Transformaciones:</strong>  <ul>
<li>Convierte la columna MUNICIPIO a un tipo de dato <em>wstr</em> con una longitud de 40 caracteres.  </li>
<li>Convierte FECHA_PLANEADA y FECHA_EJECUTADA a <em>dbTimeStamp</em>, asegurando la correcta interpretación de las fechas.</li>
</ul>
</li>
<li><strong>Objetivo:</strong> Garantizar la compatibilidad de tipos para las siguientes transformaciones y la carga.</li>
</ul>
</li>
<li>
<p><strong>Lookup (sin número y numerados)</strong>  </p>
<ul>
<li><strong>Lookup (general):</strong>  <ul>
<li><strong>Consulta:</strong> Realiza una búsqueda en la dimensión de tiempo (DIM_TIEMPO) del Data Warehouse ([Dwh].[DIM_TIEMPO]), utilizando la fecha (FECHA) como parámetro para obtener el identificador de fecha (ID_FECHA).</li>
</ul>
</li>
<li><strong>Lookup 1:</strong>  <ul>
<li><strong>Función:</strong> Enriquecer la información con el identificador de programa (ID_PROGRAMA) consultando la tabla DIM_PROGRAMA en el esquema Proteccion, basándose en el valor del campo PROGRAMA.</li>
</ul>
</li>
<li><strong>Lookup 2:</strong>  <ul>
<li><strong>Función:</strong> A través de la verificación de la población, se obtiene o valida el identificador de población (ID_POBLACION) mediante la comparación de columnas (por ejemplo, TIPO_DOCUMENTO y DOCUMENTO) en la tabla DIM_POBLACION.</li>
</ul>
</li>
<li><strong>Manejo de filas sin coincidencia:</strong>  <ul>
<li>Los registros sin coincidencia en el Lookup se envían a una salida específica (Lookup No Match Output) para ser procesados (por ejemplo, para ser insertados como nuevos registros).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET</strong>  </p>
<ul>
<li><strong>Función:</strong> Carga los datos finales en la tabla <strong>Proteccion.FACT_VISITAS</strong>.</li>
<li><strong>Propiedades Importantes:</strong>  <ul>
<li>Se utiliza la conexión ADO.NET con configuración de inserción masiva (UseBulkInsertWhenPossible=true).</li>
<li>Se definen propiedades como <em>BatchSize</em> (0, para usar el búfer interno de SSIS) y <em>CommandTimeout</em> (30 segundos).</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr />
<h4 id="flujo-de-datos">Flujo de Datos<a class="headerlink" href="#flujo-de-datos" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Extracción:</strong><br />
   Los datos se leen desde el archivo plano a través del componente <strong>Flat File Source</strong>.</p>
</li>
<li>
<p><strong>Conversión y Preparación:</strong><br />
   La transformación <strong>Data Conversion</strong> genera columnas "Copy of …" para las variables clave (por ejemplo, FECHA, DOCUMENTO, etc.), asegurando que los formatos sean los adecuados para los procesos posteriores.</p>
</li>
<li>
<p><strong>Enriquecimiento Mediante Lookups:</strong>  </p>
</li>
<li>El primer Lookup asocia la fecha con el identificador correspondiente (ID_FECHA).  </li>
<li>Lookups adicionales (Lookup 1 y Lookup 2) recuperan y validan el ID_PROGRAMA y el ID_POBLACION, respectivamente.</li>
<li>
<p>En caso de que algún registro ya exista (por ejemplo, para evitar duplicados), el proceso puede redirigirlo a una salida de “no match” o “error” según la configuración.</p>
</li>
<li>
<p><strong>Carga:</strong><br />
   Finalmente, el componente <strong>Destino de ADO NET</strong> inserta los datos transformados y enriquecidos en la tabla de destino <strong>Proteccion.FACT_VISITAS</strong>.</p>
</li>
</ol>
<h3 id="componente-data-fact_desercion">Componente <strong><code>Data FACT_DESERCION</code></strong><a class="headerlink" href="#componente-data-fact_desercion" title="Permanent link">&para;</a></h3>
<p>Este flujo se encarga de procesar información relacionada con la deserción (abandono escolar) y consolidarla en la tabla <strong>Proteccion.FACT_DESERCION</strong> en el Data Warehouse.</p>
<h4 id="descripcion-general_7">Descripción General<a class="headerlink" href="#descripcion-general_7" title="Permanent link">&para;</a></h4>
<p><strong>Propósito:</strong><br />
Extraer, transformar y cargar datos de deserción educativa. Los registros se leen desde un archivo plano (por ejemplo, CSV) y se transforman para asegurar la consistencia de la información antes de insertarlos en la tabla de destino.</p>
<hr />
<h4 id="componentes-clave_1">Componentes Clave<a class="headerlink" href="#componentes-clave_1" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Flat File Source</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
    Lee datos de un archivo de texto. Las columnas extraídas incluyen, entre otras, <code>FECHA_REGISTRO</code>, <code>PROGRAMA</code>, <code>NOMBRE_EE</code>, <code>DOCUMENTO</code>, <code>TIPO_DOCUMENTO</code>, <code>ANIO_ACADEMICO</code> y <code>CAUSA</code>.</li>
<li><strong>Manejo de errores:</strong><br />
    Los errores de conversión se redirigen a una salida de error, permitiendo el control y la depuración de registros con datos inválidos.</li>
</ul>
</li>
<li>
<p><strong>Data Conversion</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
    Convierte los datos extraídos a los tipos requeridos para el procesamiento posterior.  </li>
<li><strong>Transformaciones específicas:</strong>  <ul>
<li>Convierte <code>FECHA_REGISTRO</code> a formato <em>dbTimeStamp</em>.</li>
<li>Crea columnas "Copy of ..." para <code>PROGRAMA</code>, <code>NOMBRE_EE</code>, <code>DOCUMENTO</code>, <code>TIPO_DOCUMENTO</code>, <code>ANIO_ACADEMICO</code> y <code>CAUSA</code> en los formatos requeridos.</li>
</ul>
</li>
<li><strong>Objetivo:</strong><br />
    Garantizar la correcta transformación de los datos y la compatibilidad con los siguientes procesos.</li>
</ul>
</li>
<li>
<p><strong>Lookup Transformations</strong>  </p>
<ul>
<li><strong>Lookup General:</strong><br />
    Utiliza la dimensión de tiempo ([Dwh].[DIM_TIEMPO]) para asociar la fecha de registro a su identificador (ID_FECHA). La consulta utiliza la fecha como parámetro para filtrar el registro correspondiente.</li>
<li><strong>Lookup 1:</strong><br />
    Busca en la dimensión de programas ([Proteccion].[DIM_PROGRAMA]) para obtener el identificador de programa (ID_PROGRAMA) a partir del campo PROGRAMA.</li>
<li><strong>Lookup 2:</strong><br />
    Se conecta a la dimensión de establecimientos educativos para asociar el registro con el identificador de establecimiento (ID_ESTABLECIMIENTO_EDUCATIVO).  </li>
<li><strong>Lookup 3:</strong><br />
    Consulta la dimensión de población ([Proteccion].[DIM_POBLACION]) utilizando el DOCUMENTO y TIPO_DOCUMENTO, lo que permite determinar o validar el identificador de población (ID_POBLACION).</li>
<li><strong>Configuración de manejo de filas sin coincidencia:</strong><br />
    Los registros que no encuentran correspondencia en alguna de las búsquedas se canalizan a una salida de "no match", permitiendo su revisión o la inserción de nuevos registros en otras etapas.</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
    Inserta los datos transformados y enriquecidos en la tabla <strong>Proteccion.FACT_DESERCION</strong>.</li>
<li><strong>Propiedades importantes:</strong>  <ul>
<li>Se utiliza la interfaz ADO.NET con opciones de inserción masiva para optimizar el rendimiento (UseBulkInsertWhenPossible=true).</li>
<li>Los parámetros como <em>BatchSize</em> y <em>CommandTimeout</em> se configuran para asegurar la estabilidad durante la carga.</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr />
<h4 id="flujo-de-datos_1">Flujo de Datos<a class="headerlink" href="#flujo-de-datos_1" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Extracción:</strong><br />
   Los datos se leen desde el archivo plano mediante el componente <strong>Flat File Source</strong>.</p>
</li>
<li>
<p><strong>Transformación:</strong>  </p>
</li>
<li>El componente <strong>Data Conversion</strong> genera versiones convertidas de cada columna (por ejemplo, "Copy of FECHA_REGISTRO") para asegurar el formato correcto.</li>
<li>
<p>Las transformaciones Lookup enriquecen los datos obteniendo identificadores clave (ID_FECHA, ID_PROGRAMA, ID_ESTABLECIMIENTO_EDUCATIVO, ID_POBLACION) a partir de las dimensiones correspondientes.</p>
</li>
<li>
<p><strong>Carga:</strong><br />
   Finalmente, el componente <strong>Destino de ADO NET</strong> inserta los datos procesados en la tabla <strong>Proteccion.FACT_DESERCION</strong> del Data Warehouse.</p>
</li>
</ol>
<hr />
<h3 id="componente-data-fact_plan_cobertura">Componente <strong><code>Data FACT_PLAN_COBERTURA</code></strong><a class="headerlink" href="#componente-data-fact_plan_cobertura" title="Permanent link">&para;</a></h3>
<p>Se encarga de extraer, transformar y cargar los datos del plan de cobertura en la tabla <strong>Proteccion.FACT_PLAN_COBERTURA</strong>.</p>
<hr />
<h4 id="descripcion-general_8">Descripción General<a class="headerlink" href="#descripcion-general_8" title="Permanent link">&para;</a></h4>
<p><strong>Objetivo:</strong><br />
Integrar y transformar datos relacionados con el plan de cobertura, obtenidos de un archivo Excel, para consolidarlos en la tabla de destino. Los datos incluyen información sobre la cobertura proyectada, la línea de intervención, el año y el municipio.</p>
<hr />
<h4 id="componentes-clave_2">Componentes Clave<a class="headerlink" href="#componentes-clave_2" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Excel Source</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
    Extrae los registros del archivo Excel. Entre las columnas extraídas se encuentran:<ul>
<li><em>COBERTURA PROYECTADA</em></li>
<li><em>LINEA DE INTERVENCION</em></li>
<li><em>ANIO</em></li>
<li><em>MUNICIPIO</em></li>
<li>Además, se incluyen otras columnas de soporte (por ejemplo, <em>INSTTITUCIONES EDUCATIVAS</em>) para la realización de búsquedas posteriores.</li>
</ul>
</li>
<li><strong>Detalles:</strong><br />
    Utiliza la hoja "Sheet1$" y extrae las columnas con los datos originales.</li>
</ul>
</li>
<li>
<p><strong>Data Conversion</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
    Convierte las columnas extraídas a los formatos adecuados para las transformaciones y la carga en el destino.  </li>
<li><strong>Transformaciones realizadas:</strong>  <ul>
<li>Crea columnas "Copy of ..." para cada uno de los campos relevantes:</li>
<li><strong>Copy of COBERTURA PROYECTADA</strong></li>
<li><strong>Copy of LINEA DE INTERVENCION</strong></li>
<li><strong>Copy of ANIO</strong></li>
<li><strong>Copy of MUNICIPIO</strong></li>
</ul>
</li>
<li><strong>Objetivo:</strong><br />
    Asegurar que los datos tengan el tipo y la longitud correcta para las siguientes etapas del proceso.</li>
</ul>
</li>
<li>
<p><strong>Lookup Transformations</strong><br />
   Se utilizan varios Lookups para enriquecer y validar la información:</p>
<ul>
<li><strong>Lookup:</strong><br />
    Consulta la dimensión de tiempo ([Dwh].[DIM_TIEMPO]) para obtener el identificador de fecha (ID_FECHA) a partir de la fecha extraída.</li>
<li><strong>Lookup 1:</strong><br />
    Se conecta a la dimensión de programas ([Proteccion].[DIM_PROGRAMA]) para obtener el identificador de programa (ID_PROGRAMA) a partir del campo <em>PROGRAMA</em>.</li>
<li><strong>Lookup 2:</strong><br />
    Valida y/o obtiene datos de establecimientos educativos o de otros dominios para complementar el registro (por ejemplo, utilizando los campos <em>MUNICIPIO</em>, <em>LINEA DE INTERVENCION</em>, <em>COBERTURA PROYECTADA</em> y <em>ANIO</em> para verificar la existencia de un registro similar en el destino).</li>
<li><strong>Configuración:</strong><br />
    Cada transformación de Lookup utiliza parámetros basados en las columnas convertidas para unir los datos y, en caso de no encontrar coincidencia, canaliza los registros a una salida "no match" para su revisión.</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
    Inserta los datos transformados y enriquecidos en la tabla <strong>Proteccion.FACT_PLAN_COBERTURA</strong>.</li>
<li><strong>Configuración:</strong><br />
    Se utiliza la interfaz ADO.NET con opciones de inserción masiva (<em>UseBulkInsertWhenPossible</em> activado) para optimizar el rendimiento. Además, se configuran parámetros como <em>BatchSize</em> y <em>CommandTimeout</em> para asegurar una carga eficiente y confiable.</li>
</ul>
</li>
</ol>
<h3 id="componente-restaurar-llaves-foraneas">Componente <strong><code>Restaurar llaves foraneas</code></strong><a class="headerlink" href="#componente-restaurar-llaves-foraneas" title="Permanent link">&para;</a></h3>
<p>Esta tarea de ejecución SQL en SSIS, diseñada para restaurar las restricciones de claves foráneas en distintos esquemas de la base de datos. A continuación se describe el proceso:</p>
<p><strong>Objetivo:</strong><br />
Restaurar las restricciones de claves foráneas que fueron previamente removidas o almacenadas de forma persistente, utilizando scripts SQL generados dinámicamente para cada esquema (Transversal, Cedesarrollo, Proteccion y Colegio).</p>
<hr />
<h4 id="detalles-del-proceso">Detalles del Proceso<a class="headerlink" href="#detalles-del-proceso" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Generación Dinámica de SQL:</strong><br />
   Para cada esquema, se construye una instrucción SQL dinámica que:</p>
<ul>
<li>Utiliza un bucle (a través de una agregación en la consulta) para recorrer la tabla persistente correspondiente (por ejemplo, <code>dbo.ForeignKeys_Transversal</code>).</li>
<li>Para cada restricción, se arma un comando <code>ALTER TABLE</code> que intenta agregar la clave foránea usando <code>BEGIN TRY...END TRY</code> y <code>BEGIN CATCH...END CATCH</code> para capturar y notificar cualquier error (por ejemplo, si la constraint no puede agregarse).</li>
</ul>
</li>
<li>
<p><strong>Ejecución de las Instrucciones:</strong><br />
   Una vez generadas las cadenas SQL para cada esquema, se ejecutan mediante la instrucción <code>EXEC sp_executesql</code> para restaurar las restricciones.</p>
</li>
<li>
<p><strong>Limpieza (Opcional):</strong><br />
   Las líneas comentadas indican que, de ser necesario, se puede eliminar la tabla persistente con las definiciones de las llaves foráneas (<code>DROP TABLE dbo.ForeignKeys_&lt;Esquema&gt;</code>).</p>
</li>
</ol>
<hr />
<h4 id="esquemas-procesados">Esquemas Procesados<a class="headerlink" href="#esquemas-procesados" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Transversal:</strong> Se restauran las restricciones definidas en la tabla <code>dbo.ForeignKeys_Transversal</code>.</li>
<li><strong>Cedesarrollo:</strong> Se restauran las restricciones definidas en la tabla <code>dbo.ForeignKeys_Cedesarrollo</code>, determinando dinámicamente el esquema de referencia (Transversal, Dwh o Cedesarrollo) según la tabla de referencia.</li>
<li><strong>Proteccion:</strong> Se restauran las restricciones definidas en la tabla <code>dbo.ForeignKeys_Proteccion</code>, utilizando una lógica similar para determinar el esquema de referencia.</li>
<li><strong>Colegio:</strong> Se restauran las restricciones definidas en la tabla <code>dbo.ForeignKeys_Colegio</code>, asignando el esquema adecuado (Transversal, Dwh o Colegio).</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../js/mkdocs_pagetree_plugin.js"></script>
      
        <script src="../../js/init_mermaid.js"></script>
      
    
  </body>
</html>