
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../01.TRANSVERSAL_DIMENSIONES/">
      
      
        <link rel="next" href="../03-COLEGIO_DIMENSIONES/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>02. TRANSVERSAL_FACT - COMFENALCO</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="23abf7" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#transversal_fact" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="COMFENALCO" class="md-header__button md-logo" aria-label="COMFENALCO" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            COMFENALCO
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              02. TRANSVERSAL_FACT
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="COMFENALCO" class="md-nav__button md-logo" aria-label="COMFENALCO" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    COMFENALCO
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    00. INICIO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            00. INICIO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    INTRODUCCIÓN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instalacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    INSTALACIÓN Y CONFIGURACIÓN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Conexiones_BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CONEXIÓN A BASE DE DATOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../buenaspracticas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BUENAS PRÁCTICAS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01. SCRIPTS SQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            01. SCRIPTS SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/00.Inicio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/00.Eliminar_todo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00. Eliminar Todo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/01.Transversal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. Transversal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/02.Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02. Cedesarrollo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/03.Proteccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03. Proteccion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/04.Colegio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04. Colegio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02. ESTRUCTURA SHAREPOINT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            02. ESTRUCTURA SHAREPOINT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04.sharepoint/estructura_sharepoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estructura carpeta Sharepoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04.sharepoint/estructura_archivos_actualizacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estructura Archivos Actualizacion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    03. BI COMFENALCO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            03. BI COMFENALCO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00.params/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduccion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00-SCRAPING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00. WEB SCRAPING
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01.TRANSVERSAL_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. TRANSVERSAL_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    02. TRANSVERSAL_FACT
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    02. TRANSVERSAL_FACT
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proposito-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Propósito del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descripcion-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Descripción del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablas-y-columnas-clave" class="md-nav__link">
    <span class="md-ellipsis">
      Tablas y Columnas Clave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diagramas" class="md-nav__link">
    <span class="md-ellipsis">
      Diagramas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Diagramas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-diagrama-de-flujo-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Diagrama de Flujo de Datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-diagrama-de-transformaciones-y-validaciones" class="md-nav__link">
    <span class="md-ellipsis">
      2. Diagrama de Transformaciones y Validaciones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-diagrama-er-para-tablas-de-hechos" class="md-nav__link">
    <span class="md-ellipsis">
      3. Diagrama ER para Tablas de Hechos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componentes-clave-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes Clave del Paquete
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Componentes Clave del Paquete">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componente-ejecucion-etl-c4c_sharepoint" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Ejecución ETL C4C_SharePoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-ejecucion-etls" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Ejecución ETLs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_aportes_shr_det" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_APORTES_SHR_DET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_detalle_contable" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_DETALLE_CONTABLE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_convenios" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_CONVENIOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_presupuesto" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_PRESUPUESTO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_iniciativas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_INICIATIVAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-truncar-tmp_encuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Truncar TMP_ENCUESTAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-tmp_encuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente TMP_ENCUESTAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-actualizacion-fact_encuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Actualizacion FACT_ENCUESTAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_encuestas_psr" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_ENCUESTAS_PSR,
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagrama-de-secuencia_10" class="md-nav__link">
    <span class="md-ellipsis">
      Diagrama de Secuencia
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-COLEGIO_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03. COLEGIO_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-COLEGIO_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04. COLEGIO_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-CEDESARROLLO_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05. CEDESARROLLO_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-CEDESARROLLO_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06. CEDESARROLLO_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-PROTECCION_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07. PROTECCION_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-PROTECCION_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08. PROTECCION_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-ETLS_CUBO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09. ETLS_CUBO
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    04. COMFENALCO EDUCACION
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            04. COMFENALCO EDUCACION
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01 SCRIPTS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            01 SCRIPTS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01. Q10
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            01. Q10
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_1" id="__nav_5_1_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    0.1. Educación Tecnica
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_1">
            <span class="md-nav__icon md-icon"></span>
            0.1. Educación Tecnica
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/01.Docentes_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.1. Docentes Cedesarrollo.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/02.Disenio_curricular/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.2. Diseño Curricular.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/03.Listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.3. Listado Matrículas.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/04.Ingresos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.4. Ingresos.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/05.Historico_notas_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.5. Histórico notas.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/06.Egresados_graduados_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.6. Egresados.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/07.Desertores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.7. Desertores.py
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_2" id="__nav_5_1_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    0.2. Educación Continua
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_2">
            <span class="md-nav__icon md-icon"></span>
            0.2. Educación Continua
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/01.Docentes_desarrollo_empresarial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.1. Docentes Desarrollo Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/02.Preinscritos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.2. Preinscritos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/03.Listado_matriculas_emp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.3. Listado Matrículas Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/04.Consolidado_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.4. Consolidado Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/05.Estudiantes_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.5. Estudiantes Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/06.Egresados_graduados_empresarial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.6. Egresados Graduados Empresarial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_3" id="__nav_5_1_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sharepoint
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_3">
            <span class="md-nav__icon md-icon"></span>
            Sharepoint
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_01_procesar_docentes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_01 procesar_docentes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_02_procesar_Dise%C3%B1o_Curricular/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_02 procesar_Diseño_Curricular
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_03_procesar_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_03 procesar_listado_matriculas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_04_procesar_cede_Ingresos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_04 procesar_Ingresos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_05_cede_Historico_Notas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_05 cede_Historico_Notas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_06_cede_Egresados_Graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_06 cede_Egresados_Graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_07_Cancelados_Desertores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_07 Cancelados Desertores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_01_Docentes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_01 Docentes Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_02_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_02 Listado Matrículas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_03_preinscritos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_03 Preinscritos Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_04_egresados_Graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_04 Egresados Graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_05_Estudiantes_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_05 Estudiantes Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_06_consolidado_Inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_06 Consolidado Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02. C4C
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            02. C4C
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_02.C4C/01.C4C_webscraping_v4_Actualizable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1. Webscraping Actualizable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_02.C4C/02.C4C_webscraping_v4_Historico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2. Webscraping Histórico
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/Funciones/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Funciones.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Download.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/Funciones_DM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Funciones_DM.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/c4c_from_sharepoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    c4c_from_sharepoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/dim_Estudiantes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dim_Estudiantes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/dim_periodo_academico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dim_periodo_academico
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_facturacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_facturacion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_cotizacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_cotizacion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_listado_matriculas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    05. CUBO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            05. CUBO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03.Cubo/00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03.Cubo/01.Origen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. ORIGEN Y MEDIDAS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03.Cubo/02.Tablas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02. TABLAS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03.Cubo/03.ETL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03. ETL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    06. POWER BI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            06. POWER BI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05.Power_BI/00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05.Power_BI/01.Dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. DASHBOARD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proposito-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Propósito del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descripcion-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Descripción del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablas-y-columnas-clave" class="md-nav__link">
    <span class="md-ellipsis">
      Tablas y Columnas Clave
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diagramas" class="md-nav__link">
    <span class="md-ellipsis">
      Diagramas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Diagramas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-diagrama-de-flujo-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Diagrama de Flujo de Datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-diagrama-de-transformaciones-y-validaciones" class="md-nav__link">
    <span class="md-ellipsis">
      2. Diagrama de Transformaciones y Validaciones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-diagrama-er-para-tablas-de-hechos" class="md-nav__link">
    <span class="md-ellipsis">
      3. Diagrama ER para Tablas de Hechos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componentes-clave-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes Clave del Paquete
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Componentes Clave del Paquete">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componente-ejecucion-etl-c4c_sharepoint" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Ejecución ETL C4C_SharePoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-ejecucion-etls" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Ejecución ETLs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_aportes_shr_det" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_APORTES_SHR_DET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_detalle_contable" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_DETALLE_CONTABLE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_convenios" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_CONVENIOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_presupuesto" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_PRESUPUESTO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_iniciativas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_INICIATIVAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-truncar-tmp_encuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Truncar TMP_ENCUESTAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-tmp_encuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente TMP_ENCUESTAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-actualizacion-fact_encuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Actualizacion FACT_ENCUESTAS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_encuestas_psr" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_ENCUESTAS_PSR,
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagrama-de-secuencia_10" class="md-nav__link">
    <span class="md-ellipsis">
      Diagrama de Secuencia
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<!-- markdownlint-disable -->

<h1 id="transversal_fact">TRANSVERSAL_FACT<a class="headerlink" href="#transversal_fact" title="Permanent link">&para;</a></h1>
<p>El paquete SSIS <strong>"02-TRANSVERSAL_FACT"</strong> está diseñado para procesar y consolidar datos financieros, educativos y operativos relacionados con diversas áreas estratégicas. Este paquete facilita la extracción, transformación y carga (ETL) de datos, asegurando que se integren de manera efectiva en el Data Warehouse <code>DWH_COMFENALCO</code>.</p>
<hr />
<h2 id="proposito-del-paquete">Propósito del Paquete<a class="headerlink" href="#proposito-del-paquete" title="Permanent link">&para;</a></h2>
<p>El objetivo principal es gestionar datos transversales críticos, desde detalles contables y presupuestarios hasta encuestas y convenios. Este paquete asegura que los datos cargados en el Data Warehouse estén preparados para análisis estratégicos, garantizando calidad, consistencia y precisión.</p>
<hr />
<h2 id="descripcion-del-paquete">Descripción del Paquete<a class="headerlink" href="#descripcion-del-paquete" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>Extracción de Datos</strong>:</p>
<ul>
<li>Fuentes principales:<ul>
<li><strong>Bases de Datos</strong>:</li>
<li><code>FACT_DETALLE_CONTABLE</code></li>
<li><code>FACT_PRESUPUESTO</code></li>
<li><code>FACT_ENCUESTAS_PSR</code></li>
<li><code>FACT_CONVENIOS</code></li>
<li><code>FACT_INICIATIVAS</code></li>
<li><strong>Archivos Excel y CSV</strong>:</li>
<li>Encuestas, PQRS, y otros registros de entrada.</li>
</ul>
</li>
<li>Herramientas utilizadas:<ul>
<li>Conexiones ADO.NET y OLE DB para acceso eficiente.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Transformación de Datos</strong>:</p>
<ul>
<li><strong>Validaciones (<code>Lookup</code>)</strong>:<ul>
<li>Garantiza la consistencia comparando con tablas maestras (<code>DIM_TIEMPO</code>, <code>DIM_AFILIADOS</code>, <code>DIM_EMPRESAS</code>).</li>
</ul>
</li>
<li><strong>División Condicional (<code>Conditional Split</code>)</strong>:<ul>
<li>Clasifica registros en válidos y no válidos según criterios específicos.</li>
</ul>
</li>
<li><strong>Conversión de Tipos (<code>Data Conversion</code>)</strong>:<ul>
<li>Asegura compatibilidad con el destino.</li>
</ul>
</li>
<li><strong>Columnas Derivadas (<code>Derived Column</code>)</strong>:<ul>
<li>Genera claves auxiliares y valores predeterminados.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Carga de Datos en el Data Warehouse</strong>:</p>
<ul>
<li>Tablas destino:<ul>
<li><code>FACT_DETALLE_CONTABLE</code></li>
<li><code>FACT_PRESUPUESTO</code></li>
<li><code>FACT_ENCUESTAS_PSR</code></li>
<li><code>FACT_CONVENIOS</code></li>
<li><code>FACT_INICIATIVAS</code></li>
</ul>
</li>
<li>Configuración:<ul>
<li>Inserciones masivas habilitadas para maximizar el rendimiento.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Automatización y Scripts</strong>:</p>
<ul>
<li>Scripts Python para automatizar tareas relacionadas con conexiones a SharePoint y procesamiento dinámico de datos.</li>
</ul>
</li>
<li>
<p><strong>Mantenimiento de Restricciones</strong>:</p>
<ul>
<li>Restauración dinámica de llaves foráneas utilizando SQL dinámico para mantener integridad referencial.</li>
</ul>
</li>
</ol>
<h2 id="tablas-y-columnas-clave">Tablas y Columnas Clave<a class="headerlink" href="#tablas-y-columnas-clave" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>FACT_DETALLE_CONTABLE</strong>:</p>
<ul>
<li><code>ID_CEBE</code>, <code>ID_CUENTA</code>, <code>ID_FECHA</code>, <code>IMPORTE</code>, <code>GASTOS</code>, <code>ACTIVO</code>, <code>PASIVO</code>, entre otros.</li>
</ul>
</li>
<li>
<p><strong>FACT_PRESUPUESTO</strong>:</p>
<ul>
<li><code>ID_CEBE</code>, <code>ID_FECHA</code>, <code>ID_TIPO_PRESUPUESTO</code>, <code>SEGMENT</code>, <code>VALOR</code>, <code>GASTOS</code>, <code>COSTOS</code>.</li>
</ul>
</li>
<li>
<p><strong>FACT_ENCUESTAS_PSR</strong>:</p>
<ul>
<li><code>ID_FECHA</code>, <code>ID_EMPRESA</code>, <code>ID_BENEFICIARIO</code>, <code>DOCUMENTO</code>, <code>CALIFICACION</code>.</li>
</ul>
</li>
<li>
<p><strong>FACT_CONVENIOS</strong>:</p>
<ul>
<li><code>ID_FECHA</code>, <code>NOMBRE_CONVENIO</code>, <code>VALOR_CONVENIO</code>, <code>ID_PROGRAMA</code>, <code>ID_UNIDAD</code>.</li>
</ul>
</li>
<li>
<p><strong>FACT_INICIATIVAS</strong>:</p>
<ul>
<li><code>ID_INICIATIVA</code>, <code>ID_FECHA</code>, <code>NOMBRE_INICIATIVA</code>, <code>DESCRIPCION_INICIATIVA</code>, <code>OBSERVACIONES</code>.</li>
</ul>
</li>
</ol>
<h2 id="diagramas">Diagramas<a class="headerlink" href="#diagramas" title="Permanent link">&para;</a></h2>
<h3 id="1-diagrama-de-flujo-de-datos">1. <strong>Diagrama de Flujo de Datos</strong><a class="headerlink" href="#1-diagrama-de-flujo-de-datos" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
    participant SSIS as SSIS Package
    participant DB as Base de Datos
    participant Excel as Archivos Excel y CSV
    participant Python as Scripts Python
    participant DWH as Data Warehouse

    SSIS -&gt;&gt; DB: Extraer datos de tablas maestras y transaccionales
    SSIS -&gt;&gt; Excel: Leer datos de encuestas y PQRS
    SSIS -&gt;&gt; Python: Ejecutar scripts de automatización
    SSIS -&gt;&gt; DWH: Cargar datos procesados en tablas destino</code></pre>
<h3 id="2-diagrama-de-transformaciones-y-validaciones">2. <strong>Diagrama de Transformaciones y Validaciones</strong><a class="headerlink" href="#2-diagrama-de-transformaciones-y-validaciones" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>graph TD
    A1[Fuente de Datos] --&gt; T1[Conversión de Datos]
    A2[Tablas Maestras] --&gt; T2[Validación mediante Lookup]
    T1 --&gt; C1[División por Condicional Split]
    T2 --&gt; L1[Agregar Columnas Derivadas]
    C1 --&gt; C2[Cargar datos transformados]</code></pre>
<h3 id="3-diagrama-er-para-tablas-de-hechos">3. <strong>Diagrama ER para Tablas de Hechos</strong><a class="headerlink" href="#3-diagrama-er-para-tablas-de-hechos" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>erDiagram
    FACT_DETALLE_CONTABLE {
        int ID_CEBE
        int ID_CUENTA
        int ID_FECHA
        float IMPORTE
    }
    FACT_PRESUPUESTO {
        int ID_CEBE
        int ID_FECHA
        int ID_TIPO_PRESUPUESTO
        float VALOR
    }
    FACT_ENCUESTAS_PSR {
        int ID_FECHA
        int ID_EMPRESA
        int ID_BENEFICIARIO
        string DOCUMENTO
    }
    FACT_CONVENIOS {
        int ID_FECHA
        string NOMBRE_CONVENIO
        float VALOR_CONVENIO
    }
    FACT_INICIATIVAS {
        int ID_INICIATIVA
        int ID_FECHA
        string NOMBRE_INICIATIVA
    }
    FACT_DETALLE_CONTABLE ||--|| FACT_PRESUPUESTO : "Relación Financiera"
    FACT_PRESUPUESTO ||--|| FACT_CONVENIOS : "Conexión por Programas"
    FACT_ENCUESTAS_PSR ||--|| FACT_INICIATIVAS : "Análisis de Impacto"</code></pre>
<h2 id="componentes-clave-del-paquete">Componentes Clave del Paquete<a class="headerlink" href="#componentes-clave-del-paquete" title="Permanent link">&para;</a></h2>
<h3 id="componente-ejecucion-etl-c4c_sharepoint">Componente <strong><code>Ejecución ETL C4C_SharePoint</code></strong><a class="headerlink" href="#componente-ejecucion-etl-c4c_sharepoint" title="Permanent link">&para;</a></h3>
<p>Este componente es una tarea de proceso (Execute Process Task) dentro del paquete SSIS, diseñado para automatizar la ejecución de un script Python que extrae y procesa datos desde SharePoint, específicamente para la integración con la solución C4C. La tarea se configura dinámicamente mediante expresiones de proyecto, lo que permite adaptar el ejecutable y el directorio de trabajo a diferentes entornos (por ejemplo, desarrollo, pruebas y producción).</p>
<hr />
<h5 id="proposito-del-componente">Propósito del Componente<a class="headerlink" href="#proposito-del-componente" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><strong>Extracción y Procesamiento de Datos:</strong><br />
  Ejecutar el script <code>c4c_from_sharepoint.py</code> que se encarga de conectarse a SharePoint para descargar y procesar datos relacionados con la solución C4C.</p>
</li>
<li>
<p><strong>Automatización del Proceso ETL:</strong><br />
  Integrar de manera automatizada la extracción de datos de SharePoint dentro del flujo de trabajo ETL de la solución SSIS, facilitando la consolidación y actualización de la información en el Data Warehouse.</p>
</li>
</ul>
<hr />
<h5 id="descripcion-tecnica">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><strong>Tipo de Tarea:</strong><br />
  Execute Process Task.</p>
</li>
<li>
<p><strong>Propiedades Clave:</strong></p>
<ul>
<li><strong>Executable:</strong><br />
  Se utiliza una expresión de propiedad para definir dinámicamente la ruta del ejecutable de Python:
  <div class="highlight"><pre><span></span><code>@[$Project::Python_Executable]
</code></pre></div></li>
<li><strong>WorkingDirectory:</strong><br />
  La ruta de trabajo se define también de forma dinámica, estableciendo el directorio base donde se encuentra el script:
  <div class="highlight"><pre><span></span><code>@[$Project::Working_Directory] +&quot;COMFENALCO_EDUCACION\\01.Scripts\\Utils&quot;
</code></pre></div></li>
<li><strong>Arguments:</strong><br />
  El script a ejecutar es:
  <div class="highlight"><pre><span></span><code>c4c_from_sharepoint.py
</code></pre></div></li>
</ul>
</li>
<li>
<p><strong>Datos del Objeto:</strong></p>
</li>
<li><strong>Executable (ruta física):</strong><br />
<code>COMFENALCO_EDUCACION\01.Scripts\Utils\env\Scripts\python.exe</code></li>
<li><strong>WorkingDirectory (ruta física):</strong><br />
<code>COMFENALCO_EDUCACION\01.Scripts\Utils</code></li>
</ul>
<hr />
<h5 id="flujo-de-ejecucion">Flujo de Ejecución<a class="headerlink" href="#flujo-de-ejecucion" title="Permanent link">&para;</a></h5>
<p>El proceso sigue los siguientes pasos:</p>
<ol>
<li>
<p><strong>Inicio de la Tarea:</strong><br />
   El paquete SSIS inicia la tarea de ejecución de proceso.</p>
</li>
<li>
<p><strong>Ejecución del Script Python:</strong><br />
   Se ejecuta el ejecutable de Python con el argumento <code>c4c_from_sharepoint.py</code> en el directorio especificado. El script se conecta a SharePoint para realizar las operaciones de extracción y procesamiento de datos.</p>
</li>
<li>
<p><strong>Finalización de la Tarea:</strong><br />
   Una vez finalizada la ejecución del script, la tarea devuelve el código de retorno y el flujo ETL continúa con las siguientes operaciones definidas en el paquete.</p>
</li>
</ol>
<hr />
<h5 id="diagrama-de-secuencia">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia" title="Permanent link">&para;</a></h5>
<pre class="mermaid"><code>sequenceDiagram
    participant SSIS as SSIS Package
    participant ExecProcess as Tarea Ejecutar Proceso
    participant PythonScript as c4c_from_sharepoint.py

    SSIS -&gt;&gt; ExecProcess: Inicia Ejecución ETL C4C_SharePoint
    ExecProcess -&gt;&gt; PythonScript: Ejecuta script de Python
    PythonScript --&gt;&gt; ExecProcess: Devuelve código de retorno
    ExecProcess -&gt;&gt; SSIS: Finaliza la tarea ETL</code></pre>
<h3 id="componente-ejecucion-etls">Componente <strong><code>Ejecución ETLs</code></strong><a class="headerlink" href="#componente-ejecucion-etls" title="Permanent link">&para;</a></h3>
<p>Tarea de proceso (Execute Process Task) dentro del paquete SSIS, diseñada para ejecutar un script Python que se encarga de establecer la conexión con SharePoint desde el entorno Transversal. El propósito es automatizar la extracción y el procesamiento de datos desde SharePoint, integrándolos en el flujo ETL global del Data Warehouse <code>DWH_COMFENALCO</code>.</p>
<hr />
<h4 id="proposito-del-componente_1">Propósito del Componente<a class="headerlink" href="#proposito-del-componente_1" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Conexión y Extracción de Datos desde SharePoint:</strong><br />
  Ejecutar el script <code>05.SharePoint_Connection_Transversal.py</code> que establece la conexión a SharePoint para extraer y procesar datos específicos del entorno Transversal.</p>
</li>
<li>
<p><strong>Automatización del Proceso ETL:</strong><br />
  Integrar de forma automatizada la conexión y extracción de datos en el flujo ETL, asegurando la consolidación y actualización continua de la información en el Data Warehouse.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_1">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_1" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Tipo de Tarea:</strong><br />
  Execute Process Task.</p>
</li>
<li>
<p><strong>Propiedades Clave:</strong></p>
<ul>
<li><strong>Executable:</strong><br />
  Se utiliza una expresión de propiedad para definir dinámicamente la ruta del ejecutable de Python:
  <div class="highlight"><pre><span></span><code>@[$Project::Python_Executable]
</code></pre></div></li>
<li><strong>WorkingDirectory:</strong><br />
  La ruta de trabajo se define dinámicamente con la siguiente expresión:
  <div class="highlight"><pre><span></span><code>@[$Project::Working_Directory] +&quot;COMFENALCO_EDUCACION\\01.Scripts\\03.Archivos_Manuales\\01.Transversal&quot;
</code></pre></div></li>
<li><strong>Arguments:</strong><br />
  El script a ejecutar es:
  <div class="highlight"><pre><span></span><code>05.SharePoint_Connection_Transversal.py
</code></pre></div></li>
</ul>
</li>
<li>
<p><strong>Datos del Objeto:</strong></p>
<ul>
<li><strong>Executable (ruta física):</strong><br />
<code>COMFENALCO_EDUCACION\01.Scripts\Utils\env\Scripts\python.exe</code></li>
<li><strong>WorkingDirectory (ruta física):</strong><br />
<code>COMFENALCO_EDUCACION\01.Scripts\03.Archivos_Manuales\01.Transversal</code></li>
</ul>
</li>
</ul>
<h5 id="flujo-de-ejecucion_1">Flujo de Ejecución<a class="headerlink" href="#flujo-de-ejecucion_1" title="Permanent link">&para;</a></h5>
<p>El proceso sigue estos pasos:</p>
<ol>
<li>
<p><strong>Inicio de la Tarea:</strong><br />
   El paquete SSIS inicia la tarea de proceso que ejecuta el script.</p>
</li>
<li>
<p><strong>Ejecución del Script Python:</strong><br />
   Se invoca el ejecutable de Python con el argumento <code>05.SharePoint_Connection_Transversal.py</code> en el directorio de trabajo especificado. El script se encarga de conectarse a SharePoint, extraer y procesar los datos requeridos para el entorno Transversal.</p>
</li>
<li>
<p><strong>Finalización de la Tarea:</strong><br />
   Tras la ejecución del script, la tarea finaliza y retorna el código de retorno, permitiendo que el flujo ETL continúe con las siguientes operaciones.</p>
</li>
</ol>
<hr />
<h4 id="diagrama-de-secuencia_1">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_1" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant SSIS as SSIS Package
    participant ExecProcess as Ejecución ETLs
    participant PythonScript as 05.SharePoint_Connection_Transversal.py

    SSIS -&gt;&gt; ExecProcess: Inicia tarea de proceso
    ExecProcess -&gt;&gt; PythonScript: Ejecuta script de Python
    PythonScript --&gt;&gt; ExecProcess: Devuelve código de retorno
    ExecProcess -&gt;&gt; SSIS: Finaliza tarea de proceso</code></pre>
<h3 id="componente-fact_aportes_shr_det">Componente <strong><code>FACT_APORTES_SHR_DET</code></strong><a class="headerlink" href="#componente-fact_aportes_shr_det" title="Permanent link">&para;</a></h3>
<p>El componente <strong>FACT_APORTES_SHR_DET</strong> es una tarea de flujo de datos (Data Flow Task) en el paquete SSIS diseñada para procesar y consolidar datos relacionados con los aportes. Este flujo de datos forma parte de la solución de integración ETL del Data Warehouse <code>DWH_COMFENALCO</code> y se encarga de extraer datos desde la fuente de aportes, aplicar transformaciones y validaciones, y cargar la información final en la tabla de destino.</p>
<hr />
<h4 id="proposito-del-componente_2">Propósito del Componente<a class="headerlink" href="#proposito-del-componente_2" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Extracción y Consolidación de Datos de Aportes:</strong><br />
  Obtiene información financiera y operativa de aportes, considerando aportes, intereses y otros campos relevantes, para garantizar que los datos financieros estén correctamente integrados en el Data Warehouse.</p>
</li>
<li>
<p><strong>Transformación y Validación de Datos:</strong><br />
  Realiza conversiones de tipos de datos y cruces (lookups) para verificar la existencia y consistencia de registros en tablas relacionadas (por ejemplo, validación de datos de afiliados y empresas). Además, se asegura que solo se inserten nuevos registros mediante la comparación con datos ya existentes.</p>
</li>
<li>
<p><strong>Carga de Datos con Rendimiento Optimizado:</strong><br />
  Utiliza inserciones masivas (bulk insert) para la carga en la tabla <code>"Transversal"."FACT_APORTES_SHR_DET"</code>, garantizando una alta performance durante el proceso de ETL.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_2">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_2" title="Permanent link">&para;</a></h4>
<p>El flujo de datos del componente FACT_APORTES_SHR_DET se estructura en dos grandes grupos de componentes:</p>
<ol>
<li>
<p><strong>Fuente y Transformación de Datos:</strong></p>
<ul>
<li><strong>Fuente de Datos ADO.NET:</strong><br />
    Se extrae la información de aportes mediante una consulta SQL definida en el componente. La consulta obtiene campos como <code>ID_EMPRESA</code>, <code>ID_AFILIADO</code>, <code>PERIODO</code>, <code>OPBEL</code>, <code>BELNR</code>, <code>MOVIMIENTO</code>, <code>FECHA_CONTABLE</code>, <code>NUM_CUENTA</code>, <code>APORTE</code>, <code>INTERES</code>, <code>ESTADOREGISTRO</code>, <code>FECHA_ACTUALIZACION</code>, <code>DESDE</code>, <code>HASTA</code>, <code>PROCESO</code>, <code>BP_EMPRESA</code>, <code>BP_AFILIADO</code>, <code>TIPO_APORTANTE</code>, <code>SW_AJUSTE</code> y <code>APORTE_NUEVO</code> de la tabla <code>[Aportes].[FACT_APORTES_SHR_DET]</code> para registros a partir del año 2022.</li>
<li><strong>Transformaciones y Cruces:</strong><br />
    Se realizan conversiones de datos (por ejemplo, el campo <code>FECHA_CONTABLE</code> se utiliza en su formato numérico) y se aplican lookups adicionales en tablas relacionadas para:<ul>
<li>Validar y enriquecer la información con datos de afiliados y empresas.</li>
<li>Comparar los datos extraídos con los registros existentes en el esquema transversal para evitar duplicidades.<br />
El uso de condiciones en los lookups permite identificar registros nuevos (aquellos que no se encuentran en el destino) que serán insertados.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Carga de Datos en el Data Warehouse:</strong></p>
<ul>
<li><strong>Destino de Datos ADO.NET:</strong><br />
    La información procesada se carga en la tabla destino <code>"Transversal"."FACT_APORTES_SHR_DET"</code>. Se configura el destino para usar inserciones masivas (bulk insert) y se establecen parámetros como el tamaño del lote (BatchSize=0) y el tiempo de espera (CommandTimeout=600 segundos) para optimizar el rendimiento.</li>
</ul>
</li>
</ol>
<h4 id="flujo-de-ejecucion_2">Flujo de Ejecución<a class="headerlink" href="#flujo-de-ejecucion_2" title="Permanent link">&para;</a></h4>
<p>El flujo de datos del componente FACT_APORTES_SHR_DET se describe a continuación:</p>
<ol>
<li>
<p><strong>Extracción de Datos:</strong><br />
   El componente de origen ADO.NET ejecuta la consulta SQL para extraer los registros de aportes desde la base de datos <code>DWH_COMFENALCO</code>.</p>
</li>
<li>
<p><strong>Transformación y Enriquecimiento:</strong>  </p>
</li>
<li>Se aplican conversiones de datos para asegurar la correcta tipificación (por ejemplo, conversión de <code>FECHA_CONTABLE</code>).</li>
<li>Se realizan búsquedas (lookups) en las tablas DIM_AFILIADOS y DIM_EMPRESAS para validar que los registros de afiliados y empresas existan.  </li>
<li>
<p>Se efectúa una comparación (mediante un lookup con parámetros múltiples) contra la tabla ya cargada en el esquema Transversal para identificar registros nuevos.</p>
</li>
<li>
<p><strong>Carga de Datos:</strong><br />
   Los registros que no coinciden con los existentes en el destino se cargan en la tabla <code>"Transversal"."FACT_APORTES_SHR_DET"</code> utilizando la configuración de inserción masiva, asegurando una transferencia eficiente y confiable.</p>
</li>
</ol>
<h4 id="diagrama-de-secuencia_2">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_2" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant AdoNetSource as Fuente de ADO.NET (FACT_APORTES_SHR_DET)
    participant DataConversion as Data Conversion
    participant Lookup1 as Lookup en DIM_AFILIADOS
    participant ConditionalSplit as División Condicional
    participant Lookup2 as Lookup en DIM_EMPRESAS
    participant ConditionalSplit1 as Segunda División Condicional
    participant Lookup as Lookup en FACT_APORTES_SHR_DET Transversal
    participant AdoNetDestination as Destino de ADO NET

    AdoNetSource -&gt;&gt; DataConversion: Extrae datos de aportes
    DataConversion -&gt;&gt; Lookup1: Aplica conversión de datos
    Lookup1 -&gt;&gt; ConditionalSplit: Cruza con DIM_AFILIADOS
    ConditionalSplit -&gt;&gt; Lookup2: Filtra registros válidos (ID_AFILIADO existe)
    Lookup2 -&gt;&gt; ConditionalSplit1: Cruza con DIM_EMPRESAS
    ConditionalSplit1 -&gt;&gt; Lookup: Compara con registros existentes en Transversal
    Lookup -&gt;&gt; AdoNetDestination: Inserta registros nuevos</code></pre>
<h3 id="componente-fact_detalle_contable">Componente <strong><code>FACT_DETALLE_CONTABLE</code></strong><a class="headerlink" href="#componente-fact_detalle_contable" title="Permanent link">&para;</a></h3>
<p>El componente <strong>FACT_DETALLE_CONTABLE</strong> es una tarea de flujo de datos (Data Flow Task) del paquete SSIS diseñada para extraer, transformar y cargar datos financieros provenientes de la tabla <code>FACT_DETALLE_CONTABLE</code> ubicada en el esquema <code>Financiera</code> del Data Warehouse <code>DWH_COMFENALCO</code>. Este proceso forma parte del conjunto de operaciones ETL que alimentan la capa transversal del Data Warehouse, asegurando que los datos financieros se integren de manera precisa y sin duplicidades.</p>
<h4 id="proposito-del-componente_3">Propósito del Componente<a class="headerlink" href="#proposito-del-componente_3" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Extracción de Datos Financieros:</strong><br />
  Recuperar información detallada relacionada con cuentas, fechas, importes, ingresos, gastos, activos, pasivos y otros indicadores financieros de la tabla <code>FACT_DETALLE_CONTABLE</code>.</p>
</li>
<li>
<p><strong>Transformación y Validación:</strong><br />
  Aplicar conversiones de tipos de datos, especialmente para fechas (por ejemplo, <code>FECHA_REGISTRO_SAP</code> y <code>FECHA_PROCESO</code>), y validar que la información extraída no se encuentre duplicada en el esquema transversal. Esto se logra mediante un cruce (lookup) con la tabla <code>[Transversal].[FACT_DETALLE_CONTABLE]</code>.</p>
</li>
<li>
<p><strong>Carga de Datos con Alta Performance:</strong><br />
  Insertar únicamente los registros nuevos (aquellos que no existen en la tabla de destino) en la tabla <code>"Transversal"."FACT_DETALLE_CONTABLE"</code>, utilizando inserciones masivas (bulk insert) para optimizar el rendimiento del proceso.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_3">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_3" title="Permanent link">&para;</a></h4>
<p>El flujo de datos de <strong>FACT_DETALLE_CONTABLE</strong> se compone de los siguientes pasos:</p>
<ol>
<li>
<p><strong>Fuente de Datos ADO.NET:</strong>  </p>
<ul>
<li>Se ejecuta una consulta SQL que extrae las columnas relevantes de la tabla <code>[Financiera].[FACT_DETALLE_CONTABLE]</code>.  </li>
<li>La consulta incluye la conversión de los campos <code>FECHA_REGISTRO_SAP</code> y <code>FECHA_PROCESO</code> al tipo <code>smalldatetime</code> para facilitar su procesamiento.</li>
</ul>
</li>
<li>
<p><strong>Conversión de Datos:</strong>  </p>
<ul>
<li>Se utilizan componentes de Data Conversion para generar copias de las columnas de fecha (<code>Copy of FECHA_REGISTRO_SAP</code> y <code>Copy of FECHA_PROCESO</code>), asegurando que el formato y tipo de datos sean compatibles con los componentes de destino.</li>
</ul>
</li>
<li>
<p><strong>Lookup para Validación de Duplicidad:</strong>  </p>
<ul>
<li>Se realiza un cruce (lookup) con la tabla <code>[Transversal].[FACT_DETALLE_CONTABLE]</code> para comparar los registros extraídos.  </li>
<li>La unión se efectúa mediante las claves: <code>ID_CEBE</code>, <code>ID_CUENTA</code>, <code>ID_FECHA</code>, <code>SEGMENT</code>, <code>IMPORTE</code> y <code>FECHA_REGISTRO_SAP</code>.  </li>
<li>Solo se consideran los registros que no encuentran coincidencia en el destino (es decir, aquellos para los cuales el lookup devuelve un valor nulo).</li>
</ul>
</li>
<li>
<p><strong>Destino de Datos ADO.NET:</strong>  </p>
<ul>
<li>Los registros resultantes, considerados nuevos, se cargan en la tabla <code>"Transversal"."FACT_DETALLE_CONTABLE"</code>.  </li>
<li>Se configuran parámetros de inserción masiva (Bulk Insert) con un tamaño de lote predeterminado (BatchSize=0) y un CommandTimeout de 300 segundos para optimizar la operación.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="flujo-de-ejecucion_3">Flujo de Ejecución<a class="headerlink" href="#flujo-de-ejecucion_3" title="Permanent link">&para;</a></h4>
<p>El proceso ETL se puede resumir en los siguientes pasos:</p>
<ol>
<li>
<p><strong>Extracción:</strong><br />
   La fuente ADO.NET ejecuta la consulta para recuperar los datos financieros desde la tabla origen en el esquema <code>Financiera</code>.</p>
</li>
<li>
<p><strong>Transformación:</strong>  </p>
<ul>
<li>Se convierten los campos de fecha a un formato adecuado.  </li>
<li>Se realiza un cruce (lookup) para verificar la existencia de cada registro en la tabla destino del esquema <code>Transversal</code>.</li>
</ul>
</li>
<li>
<p><strong>Carga:</strong><br />
   Los registros que no están presentes en la tabla de destino se insertan en <code>"Transversal"."FACT_DETALLE_CONTABLE"</code>, garantizando la integración de solo datos nuevos y evitando duplicidades.</p>
</li>
</ol>
<hr />
<h4 id="diagrama-de-secuencia_3">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_3" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant AdoNetSource as Fuente de ADO.NET (FACT_DETALLE_CONTABLE)
    participant DataConversion as Componente Data Conversion
    participant Lookup as Componente Lookup (Validación en Transversal)
    participant AdoNetDestination as Destino de ADO NET

    AdoNetSource -&gt;&gt; DataConversion: Extrae datos financieros
    DataConversion -&gt;&gt; Lookup: Aplica conversión de fechas
    Lookup -&gt;&gt; AdoNetDestination: Filtra registros nuevos (Lookup sin coincidencias)</code></pre>
<h3 id="componente-fact_convenios">Componente <strong><code>FACT_CONVENIOS</code></strong><a class="headerlink" href="#componente-fact_convenios" title="Permanent link">&para;</a></h3>
<p>El componente <strong>FACT_CONVENIOS</strong> es una tarea de flujo de datos (Data Flow Task) del paquete SSIS que se encarga de procesar y cargar datos de convenios extraídos de archivos Excel hacia el Data Warehouse <code>DWH_COMFENALCO</code>. Este proceso forma parte de la integración transversal y se encarga de transformar la información para enriquecer la capa analítica con datos de convenios, sus entidades y condiciones asociadas.</p>
<hr />
<h4 id="proposito-del-componente_4">Propósito del Componente<a class="headerlink" href="#proposito-del-componente_4" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Extracción de Datos desde Excel:</strong><br />
  Se leen datos de convenios provenientes de un archivo Excel. Entre la información extraída se encuentran los nombres de convenios, la identificación del acto del convenio, la entidad responsable, el código del municipio, el valor del convenio, el aporte de Comfenalco, el estado del convenio, las fechas de inicio y fin, y los identificadores relacionados con el programa y la unidad.</p>
</li>
<li>
<p><strong>Transformación y Conversión de Datos:</strong><br />
  Se aplican conversiones de datos para adecuar los tipos de datos a los requeridos por el destino. Por ejemplo, se convierten las fechas de inicio y fin a un tipo de fecha (timestamp) y se transforma el identificador del programa y la unidad a tipos numéricos compatibles.</p>
</li>
<li>
<p><strong>Carga de Datos con Alta Performance:</strong><br />
  Los datos transformados se insertan en la tabla <code>"Transversal"."FACT_CONVENIOS"</code> utilizando inserciones masivas (Bulk Insert) para optimizar el rendimiento del proceso.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_4">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_4" title="Permanent link">&para;</a></h4>
<p>El flujo de datos del componente <strong>FACT_CONVENIOS</strong> se estructura en los siguientes pasos:</p>
<ol>
<li>
<p><strong>Fuente de Datos Excel:</strong>  </p>
<ul>
<li><strong>Objetivo:</strong> Leer la información de convenios desde una hoja de Excel (por ejemplo, <code>Sheet1$</code>).  </li>
<li><strong>Columnas Extraídas:</strong>  <ul>
<li><code>NOMBRE_CONVENIO</code>,  </li>
<li><code>IDENTIFICACION_ACTO_CONVENIO</code>,  </li>
<li><code>ENTIDAD_CONVENIO</code>,  </li>
<li><code>COD_MUNICIPIO</code>,  </li>
<li><code>VALOR_CONVENIO</code>,  </li>
<li><code>APORTE_COMFENALCO</code>,  </li>
<li><code>ESTADO_CONVENIO</code>,  </li>
<li><code>FECHA_INICIO</code>,  </li>
<li><code>FECHA_FIN</code>,  </li>
<li><code>PROGRAMA</code>,  </li>
<li><code>ID_PROGRAMA</code>,  </li>
<li><code>ID_UNIDAD</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Conversión de Datos:</strong>  </p>
<ul>
<li><strong>Objetivo:</strong> Transformar y ajustar los tipos de datos de las columnas extraídas para que sean compatibles con los procesos posteriores.  </li>
<li><strong>Conversiones Específicas:</strong>  <ul>
<li><code>FECHA_INICIO</code> y <code>FECHA_FIN</code> se convierten a un formato de fecha/hora (timestamp) y se renombran como <code>Copy of FECHA_INICIO</code> y <code>Copy of FECHA_FIN</code>.  </li>
<li><code>ID_PROGRAMA</code> se transforma a formato numérico y se guarda en <code>Copy of ID_PROGRAMA</code>.  </li>
<li>Se crea una versión reducida (por ejemplo, de 40 caracteres) de la columna <code>PROGRAMA</code> denominada <code>Copy of PROGRAMA</code>.  </li>
<li>De igual manera se generan copias de <code>NOMBRE_CONVENIO</code>, <code>ENTIDAD_CONVENIO</code> y <code>IDENTIFICACION_ACTO_CONVENIO</code> con el tamaño adecuado.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino de Datos ADO.NET:</strong>  </p>
<ul>
<li><strong>Objetivo:</strong> Cargar la información transformada en la tabla de destino <code>"Transversal"."FACT_CONVENIOS"</code>.  </li>
<li><strong>Configuración:</strong>  <ul>
<li>Se utiliza inserción masiva (Bulk Insert) para optimizar el rendimiento.  </li>
<li>El componente se conecta a la base de datos destino mediante el administrador de conexiones <code>DWH_COMFENALCO_Destino</code>.</li>
</ul>
</li>
<li><strong>Columnas Cargadas:</strong>  <ul>
<li>Se incluyen tanto las columnas transformadas (por ejemplo, <code>Copy of FECHA_INICIO</code>, <code>Copy of FECHA_FIN</code>, <code>Copy of ID_PROGRAMA</code>, <code>Copy of PROGRAMA</code>, <code>Copy of NOMBRE_CONVENIO</code>, <code>Copy of ENTIDAD_CONVENIO</code>, <code>Copy of IDENTIFICACION_ACTO_CONVENIO</code>) como aquellas que provienen directamente de la fuente (por ejemplo, <code>COD_MUNICIPIO</code>, <code>VALOR_CONVENIO</code>, <code>APORTE_COMFENALCO</code>, <code>ESTADO_CONVENIO</code>).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Integración con el Proceso ETL:</strong>  </p>
<ul>
<li>La salida del componente Excel se une a la transformación (Data Conversion) y, posteriormente, el flujo se conecta directamente al destino de ADO.NET.  </li>
<li>Se garantiza que la información cargada en la tabla de destino esté normalizada y lista para su análisis en el contexto transversal.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="flujo-de-ejecucion_4">Flujo de Ejecución<a class="headerlink" href="#flujo-de-ejecucion_4" title="Permanent link">&para;</a></h4>
<p>El proceso ETL en <strong>FACT_CONVENIOS</strong> se puede resumir en los siguientes pasos:</p>
<ol>
<li>
<p><strong>Extracción:</strong><br />
   La fuente de datos Excel extrae los registros de convenios de la hoja configurada.</p>
</li>
<li>
<p><strong>Transformación:</strong><br />
   Los datos se pasan a través de un componente de Data Conversion, donde se aplican las conversiones necesarias (fechas, identificadores y textos) para normalizar la información.</p>
</li>
<li>
<p><strong>Carga:</strong><br />
   Los registros transformados se insertan en la tabla <code>"Transversal"."FACT_CONVENIOS"</code> utilizando un destino ADO.NET configurado para inserciones masivas.</p>
</li>
</ol>
<hr />
<h4 id="diagrama-de-secuencia_4">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_4" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant ExcelSource as Fuente de Excel (FACT_CONVENIOS)
    participant DataConversion as Componente Data Conversion
    participant AdoNetDestination as Destino de ADO NET

    ExcelSource -&gt;&gt; DataConversion: Extrae datos desde Excel
    DataConversion -&gt;&gt; AdoNetDestination: Transforma y pasa datos
    AdoNetDestination -&gt;&gt; AdoNetDestination: Inserta registros en "Transversal"."FACT_CONVENIOS"</code></pre>
<h3 id="componente-fact_presupuesto">Componente <strong><code>FACT_PRESUPUESTO</code></strong><a class="headerlink" href="#componente-fact_presupuesto" title="Permanent link">&para;</a></h3>
<p>El componente <strong>FACT_PRESUPUESTO</strong> es una tarea de flujo de datos (Data Flow Task) del paquete SSIS diseñado para extraer, transformar y cargar datos financieros del presupuesto. Este componente extrae registros de la tabla <code>FACT_PRESUPUESTO</code> del esquema <code>Financiera</code> en el Data Warehouse <code>DWH_COMFENALCO</code>, y posteriormente inserta los registros nuevos en la tabla de destino <code>"Transversal"."FACT_PRESUPUESTO"</code>. El proceso garantiza que la información presupuestal se integre de forma precisa y sin duplicidades en la capa transversal.</p>
<hr />
<h4 id="proposito-del-componente_5">Propósito del Componente<a class="headerlink" href="#proposito-del-componente_5" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Extracción de Datos Financieros:</strong><br />
  Se obtienen los registros de la tabla <code>[DWH_COMFENALCO].[Financiera].[FACT_PRESUPUESTO]</code>, que contienen indicadores como valor, ingresos, gastos y otros datos relevantes para el análisis presupuestal.</p>
</li>
<li>
<p><strong>Transformación y Validación:</strong>  </p>
<ul>
<li>Se realiza la conversión de los datos extraídos para asegurar la compatibilidad de tipos, especialmente en campos numéricos y de fecha.</li>
<li>Se efectúa una validación mediante un cruce (lookup) para verificar que los registros a cargar sean nuevos, comparando la información existente en la tabla de destino del esquema <code>Transversal</code>.</li>
</ul>
</li>
<li>
<p><strong>Carga de Datos con Alta Performance:</strong><br />
  Se insertan los registros nuevos en la tabla <code>"Transversal"."FACT_PRESUPUESTO"</code> utilizando inserciones masivas (bulk insert) para maximizar el rendimiento del proceso ETL.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_5">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_5" title="Permanent link">&para;</a></h4>
<p>El flujo de datos del componente <strong>FACT_PRESUPUESTO</strong> se compone de los siguientes pasos:</p>
<ol>
<li>
<p><strong>Fuente de Datos ADO.NET:</strong>  </p>
<ul>
<li>
<p><strong>Consulta SQL:</strong><br />
    Se ejecuta una instrucción que extrae los datos de la tabla <code>[DWH_COMFENALCO].[Financiera].[FACT_PRESUPUESTO]</code> y que filtra los registros mediante una unión con la tabla <code>[Transversal].[DIM_UNIDADES_ORGANIZATIVAS]</code> para asegurar que se consideren solo aquellos registros que correspondan a unidades organizativas válidas.</p>
<p>La consulta utiliza la cláusula <code>WITH</code> para definir un conjunto intermedio de datos (fact presupuestario) y, posteriormente, se realiza un cruce con la tabla destino para seleccionar únicamente los registros nuevos (aquellos para los que no existe coincidencia en <code>"Transversal"."FACT_PRESUPUESTO"</code>).</p>
</li>
</ul>
</li>
<li>
<p><strong>Transformación y Conversión de Datos:</strong>  </p>
<ul>
<li>Se garantiza que los tipos de datos sean compatibles con el destino, incluyendo conversiones necesarias para campos numéricos y fechas.</li>
<li>La transformación asegura que los datos sean limpios y listos para su integración en la capa transversal.</li>
</ul>
</li>
<li>
<p><strong>Destino de Datos ADO.NET:</strong>  </p>
<ul>
<li><strong>Configuración:</strong>  <ul>
<li><strong>Tabla de Destino:</strong> <code>"Transversal"."FACT_PRESUPUESTO"</code>.</li>
<li><strong>Parámetros:</strong>  </li>
<li><code>BatchSize</code> se configura a 0 para utilizar el tamaño de búfer interno de SSIS.</li>
<li><code>CommandTimeout</code> se establece en 600 segundos para procesos de alta carga.</li>
<li>Se utiliza la opción de Bulk Insert para optimizar la inserción de grandes volúmenes de datos.</li>
</ul>
</li>
<li><strong>Carga de Registros Nuevos:</strong><br />
    Solo se insertan aquellos registros que no han sido previamente cargados en el destino, de acuerdo al cruce (lookup) realizado en la consulta SQL.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="flujo-de-ejecucion_5">Flujo de Ejecución<a class="headerlink" href="#flujo-de-ejecucion_5" title="Permanent link">&para;</a></h4>
<p>El proceso ETL del componente <strong>FACT_PRESUPUESTO</strong> se resume en los siguientes pasos:</p>
<ol>
<li>
<p><strong>Extracción:</strong><br />
   Se ejecuta la consulta SQL en la fuente ADO.NET para recuperar los datos financieros del presupuesto desde la tabla en el esquema <code>Financiera</code>.</p>
</li>
<li>
<p><strong>Transformación:</strong><br />
   Se aplican conversiones y validaciones para asegurar que los datos cumplan con los requisitos de la capa transversal.</p>
</li>
<li>
<p><strong>Carga:</strong><br />
   Los registros validados y que no existen en la tabla destino se insertan en <code>"Transversal"."FACT_PRESUPUESTO"</code>, integrándose al Data Warehouse para análisis y reportes estratégicos.</p>
</li>
</ol>
<hr />
<h4 id="diagrama-de-secuencia_5">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_5" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant AdoNetSource as Fuente de ADO.NET (FACT_PRESUPUESTO)
    participant Lookup as Componente Lookup (Validación y filtrado)
    participant AdoNetDestination as Destino de ADO NET

    AdoNetSource -&gt;&gt; Lookup: Extrae datos de FACT_PRESUPUESTO
    Lookup -&gt;&gt; AdoNetDestination: Filtra e inserta registros nuevos</code></pre>
<h3 id="componente-fact_iniciativas">Componente <strong><code>FACT_INICIATIVAS</code></strong><a class="headerlink" href="#componente-fact_iniciativas" title="Permanent link">&para;</a></h3>
<p>El componente <strong>FACT_INICIATIVAS</strong> es una tarea de flujo de datos (Data Flow Task) del paquete SSIS que se encarga de extraer, transformar y cargar información relacionada con iniciativas. Esta información se obtiene principalmente desde un archivo Excel y, mediante una transformación de datos y búsquedas (lookup), se enriquece con información adicional de la dimensión de tiempo para asignar el identificador de fecha correspondiente. Finalmente, los datos transformados se insertan en la tabla <code>"Transversal"."FACT_INICIATIVAS"</code> del Data Warehouse <code>DWH_COMFENALCO</code>.</p>
<hr />
<h4 id="proposito-del-componente_6">Propósito del Componente<a class="headerlink" href="#proposito-del-componente_6" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Extracción de Datos:</strong><br />
  Se leen los registros de iniciativas desde un archivo Excel. Entre los datos extraídos se encuentran los identificadores de la iniciativa, la unidad, la fecha de inicio, la fecha de fin, el nombre de la iniciativa, la descripción y observaciones.</p>
</li>
<li>
<p><strong>Transformación y Conversión:</strong>  </p>
<ul>
<li>Se aplican conversiones de datos para asegurar la correcta transformación de los campos de fecha (de texto a timestamp) y la normalización de los campos de texto.</li>
<li>Estas conversiones permiten trabajar con formatos adecuados para la integración en la base de datos.</li>
</ul>
</li>
<li>
<p><strong>Enriquecimiento mediante Lookup:</strong><br />
  Se realiza una búsqueda (lookup) en la dimensión de tiempo (<code>DIM_TIEMPO</code>) para obtener el valor de <code>ID_FECHA</code> correspondiente a la fecha de inicio de la iniciativa, lo que facilita la integración de la información temporal en el proceso ETL.</p>
</li>
<li>
<p><strong>Carga de Datos:</strong><br />
  Los datos transformados y enriquecidos se insertan en la tabla destino <code>"Transversal"."FACT_INICIATIVAS"</code>, garantizando la integración de la información de iniciativas en la capa transversal del Data Warehouse para posteriores análisis estratégicos.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_6">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_6" title="Permanent link">&para;</a></h4>
<p>El flujo de datos del componente <strong>FACT_INICIATIVAS</strong> se compone de los siguientes pasos:</p>
<ol>
<li>
<p><strong>Excel Source:</strong>  </p>
<ul>
<li><strong>Función:</strong> Extraer los datos de iniciativas desde un archivo Excel.</li>
<li><strong>Datos Extraídos:</strong>  <ul>
<li><code>ID_INICIATIVA</code></li>
<li><code>ID_UNIDAD</code></li>
<li><code>FECHA_INICIO</code></li>
<li><code>FECHA_FIN</code></li>
<li><code>NOMBRE_INICIATIVA</code></li>
<li><code>DESCRIPCION_INICIATIVA</code></li>
<li><code>OBSERVACIONES</code></li>
</ul>
</li>
<li><strong>Conexión:</strong> Se utiliza el administrador de conexiones configurado para Excel.</li>
</ul>
</li>
<li>
<p><strong>Data Conversion:</strong>  </p>
<ul>
<li><strong>Función:</strong> Convertir los datos extraídos a tipos compatibles con el procesamiento posterior.</li>
<li><strong>Conversiones Realizadas:</strong>  <ul>
<li>Se convierten los campos <code>FECHA_INICIO</code> y <code>FECHA_FIN</code> de texto a tipo <strong>dbTimeStamp</strong>.</li>
<li>Se realizan copias de los campos <code>NOMBRE_INICIATIVA</code>, <code>DESCRIPCION_INICIATIVA</code> y <code>OBSERVACIONES</code> para mantener la integridad de la información durante la transformación.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lookup (DIM_TIEMPO):</strong>  </p>
<ul>
<li><strong>Función:</strong> Enriquecer los datos del flujo mediante una búsqueda en la tabla <code>DIM_TIEMPO</code> para obtener el valor de <code>ID_FECHA</code>.</li>
<li><strong>Parámetros:</strong>  <ul>
<li>Se utiliza el campo convertido <code>Copy of FECHA_INICIO</code> para unir con la columna <code>FECHA</code> de la tabla <code>DIM_TIEMPO</code>.</li>
</ul>
</li>
<li><strong>Resultado:</strong>  <ul>
<li>Se obtiene el <code>ID_FECHA</code> que se agregará al flujo de datos para relacionar la iniciativa con la dimensión de tiempo.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino de Datos ADO.NET:</strong>  </p>
<ul>
<li><strong>Función:</strong> Insertar los datos transformados y enriquecidos en la tabla de destino.</li>
<li><strong>Tabla de Destino:</strong> <code>"Transversal"."FACT_INICIATIVAS"</code>.</li>
<li><strong>Configuración:</strong>  <ul>
<li>Se emplea Bulk Insert para mejorar el rendimiento.</li>
<li>Los parámetros de lote (BatchSize) y tiempo de espera (CommandTimeout) se configuran para optimizar la inserción de grandes volúmenes de datos.</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr />
<h4 id="flujo-de-ejecucion_6">Flujo de Ejecución<a class="headerlink" href="#flujo-de-ejecucion_6" title="Permanent link">&para;</a></h4>
<p>El proceso ETL del componente <strong>FACT_INICIATIVAS</strong> se resume en los siguientes pasos:</p>
<ol>
<li>
<p><strong>Extracción:</strong><br />
   Los datos se leen desde un archivo Excel mediante el componente <em>Excel Source</em>.</p>
</li>
<li>
<p><strong>Transformación:</strong><br />
   Se aplican conversiones a los campos de fecha y texto usando el componente <em>Data Conversion</em>.</p>
</li>
<li>
<p><strong>Enriquecimiento:</strong><br />
   El componente <em>Lookup</em> consulta la tabla <code>DIM_TIEMPO</code> para asignar a cada registro el valor correspondiente de <code>ID_FECHA</code> basándose en la fecha de inicio.</p>
</li>
<li>
<p><strong>Carga:</strong><br />
   Los registros resultantes se insertan en la tabla <code>"Transversal"."FACT_INICIATIVAS"</code> utilizando el destino ADO.NET.</p>
</li>
</ol>
<h4 id="diagrama-de-secuencia_6">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_6" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant ExcelSource as Excel Source
    participant DataConversion as Data Conversion
    participant Lookup as Lookup (DIM_TIEMPO)
    participant AdoNetDestination as Destino de ADO NET

    ExcelSource -&gt;&gt; DataConversion: Extrae datos desde Excel
    DataConversion -&gt;&gt; Lookup: Convierte y envía datos (p.ej., Copy of FECHA_INICIO)
    Lookup -&gt;&gt; AdoNetDestination: Enrich &amp; Filtra datos (asigna ID_FECHA) y carga registros nuevos</code></pre>
<h3 id="componente-truncar-tmp_encuestas">Componente <strong><code>Truncar TMP_ENCUESTAS</code></strong><a class="headerlink" href="#componente-truncar-tmp_encuestas" title="Permanent link">&para;</a></h3>
<p>El componente <strong>Truncar TMP_ENCUESTAS</strong> es una tarea de ejecución de SQL (Execute SQL Task) en un paquete SSIS. Su función principal es limpiar la tabla temporal <code>[STAGE_AREA].[Transversal].[TMP_ENCUESTAS]</code> antes de cargar nuevos datos durante el proceso ETL. Esta acción es fundamental para garantizar que la tabla no contenga datos residuales de ejecuciones anteriores, asegurando así la calidad y consistencia de la información que se insertará posteriormente.</p>
<hr />
<h4 id="proposito-del-componente_7">Propósito del Componente<a class="headerlink" href="#proposito-del-componente_7" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Limpieza de Datos:</strong><br />
  El objetivo principal es truncar (vaciar) la tabla <code>[STAGE_AREA].[Transversal].[TMP_ENCUESTAS]</code> para eliminar todos los registros existentes, preparando la tabla para una nueva carga de datos.</p>
</li>
<li>
<p><strong>Garantizar Integridad:</strong><br />
  Al vaciar la tabla temporal, se evita la mezcla de datos antiguos y nuevos, lo que contribuye a la precisión del proceso ETL y facilita el manejo de la información en etapas posteriores.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_7">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_7" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Tipo de Tarea:</strong><br />
<strong>Execute SQL Task</strong> – Permite la ejecución de sentencias SQL directamente desde el paquete SSIS.</p>
</li>
<li>
<p><strong>Instrucción SQL:</strong><br />
  La tarea ejecuta la siguiente sentencia:
  <div class="highlight"><pre><span></span><code><span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">STAGE_AREA</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">TMP_ENCUESTAS</span><span class="p">]</span>
</code></pre></div>
  Esta sentencia elimina de forma rápida y eficiente todos los registros de la tabla, sin registrar cada eliminación individualmente (a diferencia de una sentencia DELETE).</p>
</li>
<li>
<p><strong>Conexión:</strong><br />
  Se utiliza una conexión preconfigurada (identificada mediante el GUID <code>{5972EC76-2533-4771-BB68-A92E1CDD645D}</code>) que apunta a la base de datos de destino, asegurando que la operación se realice sobre el entorno correcto.</p>
</li>
<li>
<p><strong>Tiempo de Espera:</strong><br />
  La configuración predeterminada de tiempo de espera se aplica, aunque este parámetro puede ajustarse según las necesidades del entorno.</p>
</li>
</ul>
<hr />
<h4 id="flujo-de-ejecucion_7">Flujo de Ejecución<a class="headerlink" href="#flujo-de-ejecucion_7" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Inicio de la Tarea:</strong><br />
   Al ejecutar el paquete SSIS, se inicia la tarea de SQL que contiene la sentencia de truncamiento.</p>
</li>
<li>
<p><strong>Ejecución de la Sentencia SQL:</strong><br />
   La sentencia <code>TRUNCATE TABLE [STAGE_AREA].[Transversal].[TMP_ENCUESTAS]</code> se envía a la base de datos a través del administrador de conexiones configurado.</p>
</li>
<li>
<p><strong>Limpieza de la Tabla:</strong><br />
   Todos los registros en la tabla temporal se eliminan, dejándola vacía y lista para la nueva carga de datos.</p>
</li>
<li>
<p><strong>Finalización de la Tarea:</strong><br />
   Una vez completada la operación, la tarea finaliza y el proceso ETL puede continuar con las siguientes etapas de carga y transformación.</p>
</li>
</ol>
<hr />
<h4 id="diagrama-de-secuencia_7">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_7" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant SQLTask as Truncar TMP_ENCUESTAS
    participant DB as Base de Datos

    SQLTask -&gt;&gt; DB: Ejecuta "TRUNCATE TABLE [STAGE_AREA].[Transversal].[TMP_ENCUESTAS]"
    DB --&gt;&gt; SQLTask: Confirmación de limpieza</code></pre>
<h3 id="componente-tmp_encuestas">Componente <strong><code>TMP_ENCUESTAS</code></strong><a class="headerlink" href="#componente-tmp_encuestas" title="Permanent link">&para;</a></h3>
<p>El paquete SSIS <strong>"TMP_ENCUESTAS"</strong> es un flujo de datos (Data Flow Task) diseñado para extraer, transformar y cargar información proveniente de un archivo plano (CSV) hacia la tabla <code>[Transversal].[TMP_ENCUESTAS]</code> en la base de datos de staging. Este flujo se encarga de convertir datos de entrada, aplicar expresiones para derivar nuevos valores (por ejemplo, el identificador de unidad basado en el servicio) y, finalmente, cargar la información limpia y transformada en el destino.</p>
<hr />
<h4 id="proposito-del-paquete_1">Propósito del Paquete<a class="headerlink" href="#proposito-del-paquete_1" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Extracción de Datos:</strong><br />
  Se leen los registros de un archivo CSV que contiene información de encuestas, incluyendo columnas como FECHA_ENCUESTA, DOCUMENTO, TIPO_DOCUMENTO, CALIFICACION, SERVICIO, PREGUNTA y NPS.</p>
</li>
<li>
<p><strong>Transformación de Datos:</strong><br />
    El proceso incluye:</p>
<ul>
<li><strong>Conversión de Datos:</strong> Se transforma la información extraída (por ejemplo, se convierte la fecha de encuesta a formato de fecha/hora compatible con la base de datos).</li>
<li><strong>Derivación de Columnas:</strong> Se utiliza una transformación Derivada para calcular la columna <strong>ID_UNIDAD</strong> a partir del valor de la columna SERVICIO. La expresión asigna diferentes valores numéricos según el contenido de SERVICIO (por ejemplo, “Consultorias” → 3, “Egresados” → 2, etc.).</li>
</ul>
</li>
<li>
<p><strong>Carga de Datos:</strong><br />
  La información transformada se carga en la tabla <code>[Transversal].[TMP_ENCUESTAS]</code> del área de staging, utilizando un destino ADO.NET optimizado para inserciones masivas.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_8">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_8" title="Permanent link">&para;</a></h4>
<h5 id="componentes-principales">Componentes Principales:<a class="headerlink" href="#componentes-principales" title="Permanent link">&para;</a></h5>
<ol>
<li>
<p><strong>Flat File Source:</strong>  </p>
<ul>
<li><strong>Función:</strong> Extrae los datos del archivo CSV.</li>
<li><strong>Columnas de Origen:</strong>  <ul>
<li>FECHA_ENCUESTA  </li>
<li>DOCUMENTO  </li>
<li>PREGUNTA  </li>
<li>CALIFICACION  </li>
<li>SERVICIO  </li>
<li>TIPO_DOCUMENTO  </li>
<li>NPS  </li>
</ul>
</li>
<li><strong>Configuración:</strong> Se utiliza una conexión definida (Csv_Connection_Fact_Encuestas) y se lee la hoja o sección definida en el archivo.</li>
</ul>
</li>
<li>
<p><strong>Data Conversion:</strong>  </p>
<ul>
<li><strong>Función:</strong> Convierte las columnas de datos extraídos a tipos de datos compatibles para operaciones posteriores.</li>
<li><strong>Conversiones Realizadas:</strong>  <ul>
<li>FECHA_ENCUESTA se convierte a tipo <strong>dbTimeStamp</strong> (formato fecha/hora).  </li>
<li>DOCUMENTO, TIPO_DOCUMENTO, CALIFICACION, SERVICIO, PREGUNTA y NPS se convierten a cadenas de caracteres (wstr) con longitudes específicas.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Derived Column (ID_UNIDAD):</strong>  </p>
<ul>
<li><strong>Función:</strong> Genera la columna <strong>ID_UNIDAD</strong> mediante una expresión derivada que asigna un valor numérico según el valor de la columna SERVICIO.  </li>
<li><strong>Expresión Utilizada:</strong><br />
    <div class="highlight"><pre><span></span><code><span class="p">(</span><span class="n">DT_I4</span><span class="p">)(</span><span class="n">SERVICIO</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Consultorias&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">:</span>
<span class="w">        </span><span class="n">SERVICIO</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Egresados&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">:</span>
<span class="w">        </span><span class="n">SERVICIO</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Proteccion social&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">:</span>
<span class="w">        </span><span class="n">SERVICIO</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Cedesarrollo convenios&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">:</span>
<span class="w">        </span><span class="n">SERVICIO</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;CEC&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">:</span>
<span class="w">        </span><span class="n">SERVICIO</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Estudiantes Activos&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">:</span>
<span class="w">        </span><span class="n">SERVICIO</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;Cursos y diplomados&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>
    Esta lógica clasifica el servicio en diferentes categorías y asigna un identificador numérico que se utilizará en el sistema.</li>
</ul>
</li>
<li>
<p><strong>Destino de ADO.NET:</strong>  </p>
<ul>
<li><strong>Función:</strong> Carga los datos finales transformados en la tabla <code>[Transversal].[TMP_ENCUESTAS]</code>.  </li>
<li><strong>Configuración:</strong>  <ul>
<li><strong>Tabla de Destino:</strong> <code>"Transversal"."TMP_ENCUESTAS"</code>  </li>
<li><strong>BatchSize:</strong> 0 (usa el tamaño predeterminado del búfer interno de SSIS)  </li>
<li><strong>CommandTimeout:</strong> 30 segundos  </li>
<li><strong>Uso de Bulk Insert:</strong> Activado para mejorar el rendimiento en la carga de datos.</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr />
<h4 id="diagrama-de-secuencia_8">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_8" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant FlatFile as Flat File Source
    participant DataConv as Data Conversion
    participant Derived as Derived Column (ID_UNIDAD)
    participant Destination as Destino ADO.NET

    FlatFile -&gt;&gt; DataConv: Extrae y convierte datos del CSV
    DataConv -&gt;&gt; Derived: Envía datos convertidos
    Derived -&gt;&gt; Destination: Carga datos transformados en la tabla TMP_ENCUESTAS</code></pre>
<h3 id="componente-actualizacion-fact_encuestas">Componente <strong><code>Actualizacion FACT_ENCUESTAS</code></strong><a class="headerlink" href="#componente-actualizacion-fact_encuestas" title="Permanent link">&para;</a></h3>
<p>El paquete SSIS <strong>"Actualizacion FACT_ENCUESTAS"</strong> es un flujo de datos (Data Flow Task) diseñado para actualizar la tabla de encuestas en el entorno transversal. Su función es comparar y actualizar los registros de encuestas en la tabla de destino <code>[Transversal].[FACT_ENCUESTAS]</code> con la información procesada proveniente de la etapa de staging. El proceso se centra en identificar registros nuevos o modificados que aún no existan en el sistema y actualizarlos, garantizando la integridad y consistencia de los datos.</p>
<hr />
<h4 id="proposito-del-paquete_2">Propósito del Paquete<a class="headerlink" href="#proposito-del-paquete_2" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Extracción de Datos:</strong><br />
  Se consumen datos de la etapa de staging, previamente cargados en la tabla temporal, que contienen información consolidada de encuestas. Las columnas extraídas incluyen FECHA_ENCUESTA, ID_FECHA, DOCUMENTO, PREGUNTA, CALIFICACION, SERVICIO, TIPO_DOCUMENTO, NPS, ID_UNIDAD, ID_AFILIADO, ID_BENEFICIARIO e ID_APORTANTE.</p>
</li>
<li>
<p><strong>Transformación de Datos:</strong><br />
    El paquete se basa en una consulta SQL que utiliza expresiones comunes y técnicas de unión para:</p>
<ul>
<li>Transformar y normalizar la información.</li>
<li>Realizar joins con tablas de referencia (como DIM_TIEMPO, DIM_EMPRESAS, DIM_AFILIADOS, DIM_BENEFICIARIOS y DIM_APORTANTE_NOAFILIADO) para enriquecer el dataset.</li>
<li>Filtrar registros que ya existen en la tabla final, de modo que sólo se inserten aquellos que son nuevos (es decir, aquellos cuya clave primaria o identificador no se encuentra en <code>[Transversal].[FACT_ENCUESTAS]</code>).</li>
</ul>
</li>
<li>
<p><strong>Carga de Datos:</strong><br />
  La información resultante se inserta en la tabla <code>[Transversal].[FACT_ENCUESTAS]</code> usando un destino ADO.NET optimizado para cargas masivas. Esto permite actualizar el repositorio de encuestas de forma eficiente y con alta performance.</p>
</li>
</ul>
<hr />
<h4 id="descripcion-tecnica_9">Descripción Técnica<a class="headerlink" href="#descripcion-tecnica_9" title="Permanent link">&para;</a></h4>
<h5 id="componentes-principales_1">Componentes Principales:<a class="headerlink" href="#componentes-principales_1" title="Permanent link">&para;</a></h5>
<ol>
<li>
<p><strong>Consulta de Origen (Consulta):</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
    Consume datos de la tabla temporal en el área de staging (<code>[STAGE_AREA].[Transversal].[TMP_ENCUESTAS]</code>), aplicando una serie de transformaciones y agregaciones para obtener un conjunto de resultados limpio y consolidado.  </li>
<li><strong>Detalles:</strong><br />
    La consulta utiliza Common Table Expressions (CTE) para:<ul>
<li>Definir la subconsulta <strong>Encuestas</strong> que selecciona columnas transformadas (incluyendo la conversión de FECHA_ENCUESTA a un formato numérico para obtener el ID_FECHA).</li>
<li>Calcular la información de población (<strong>IdPoblacion</strong>) mediante joins con las dimensiones de empresas, afiliados, beneficiarios y aportantes.</li>
<li>Filtrar aquellos registros que aún no existen en la tabla <code>[Transversal].[FACT_ENCUESTAS]</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino ADO.NET (Actualizacion):</strong>  </p>
<ul>
<li><strong>Función:</strong><br />
    Inserta los registros nuevos obtenidos de la consulta en la tabla de destino <code>[Transversal].[FACT_ENCUESTAS]</code>.</li>
<li><strong>Configuración:</strong>  <ul>
<li><strong>Tabla de Destino:</strong> <code>"Transversal"."FACT_ENCUESTAS"</code></li>
<li><strong>BatchSize:</strong> 0 (utiliza el tamaño predeterminado del búfer interno de SSIS)</li>
<li><strong>CommandTimeout:</strong> 30 segundos</li>
<li><strong>Uso de Bulk Insert:</strong> Activado para mejorar el rendimiento en la carga de grandes volúmenes de datos.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Flujo de Datos y Conexiones:</strong>  </p>
<ul>
<li><strong>Origen:</strong><br />
    La salida de la consulta SQL (definida en el componente "Consulta") provee las columnas transformadas:<ul>
<li>FECHA_ENCUESTA</li>
<li>ID_FECHA</li>
<li>DOCUMENTO</li>
<li>PREGUNTA</li>
<li>CALIFICACION</li>
<li>SERVICIO</li>
<li>TIPO_DOCUMENTO</li>
<li>NPS</li>
<li>ID_UNIDAD</li>
<li>ID_AFILIADO</li>
<li>ID_BENEFICIARIO</li>
<li>ID_APORTANTE</li>
</ul>
</li>
<li><strong>Destino:</strong><br />
    La información se canaliza hacia el componente de destino ADO.NET, que actualiza la tabla de encuestas, asegurando que sólo se inserten los registros que no tengan coincidencias en la tabla de destino.</li>
</ul>
</li>
</ol>
<h4 id="diagrama-de-secuencia_9">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_9" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant Consulta as Componente "Consulta"
    participant Destination as Componente "Actualizacion" (Destino ADO.NET)

    Consulta -&gt;&gt; Destination: Envía registros nuevos (sin coincidencias)
    Destination -&gt;&gt; Destination: Inserta datos en [Transversal].[FACT_ENCUESTAS]</code></pre>
<h3 id="componente-fact_encuestas_psr">Componente <strong><code>FACT_ENCUESTAS_PSR</code></strong>,<a class="headerlink" href="#componente-fact_encuestas_psr" title="Permanent link">&para;</a></h3>
<p>Forma parte del proceso ETL para la consolidación de datos de encuestas del área transversal. Este flujo de datos extrae información de archivos planos, la transforma y la enriquece mediante diversas conversiones y búsquedas (Lookups) para, finalmente, cargar los registros resultantes en la tabla destino <code>[Transversal].[FACT_ENCUESTAS_PSR]</code>.</p>
<hr />
<h4 id="proposito-del-paquete_3">Propósito del Paquete<a class="headerlink" href="#proposito-del-paquete_3" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Extracción:</strong><br />
  Se utiliza un origen de archivo plano (Flat File Source) que lee datos de encuestas, obteniendo columnas como FECHA_ENCUESTA, DOCUMENTO, TIPO_DOCUMENTO, CALIFICACION, PROGRAMA, ACTIVIDAD_PREGUNTA, NPS, entre otras.</p>
</li>
<li>
<p><strong>Transformación:</strong>  </p>
<ul>
<li><strong>Data Conversion:</strong> Convierte los valores de texto (por ejemplo, FECHA_ENCUESTA) a tipos de datos nativos, como <code>dbTimeStamp</code> para fechas, y ajusta la longitud de columnas numéricas y de texto.  </li>
<li><strong>Lookup:</strong><br />
  Se implementan varios componentes de Lookup para enriquecer los datos:</li>
<li><strong>Lookup:</strong> Consulta la tabla de referencia DIM_TIEMPO para obtener el ID_FECHA basándose en la FECHA.</li>
<li><strong>Lookup 1:</strong> Busca en la dimensión de empresas para obtener el ID_EMPRESA, utilizando los campos TIPO_DOCUMENTO y DOCUMENTO.</li>
<li><strong>Lookup 2:</strong> Une con la dimensión de beneficiarios para extraer el ID_BENEFICIARIO, comparando DOCUMENTO y TIPO_DOCUMENTO.</li>
<li><strong>Lookup 3:</strong> Se conecta a la dimensión de afiliados para obtener el ID_AFILIADO.</li>
<li><strong>Lookup 4:</strong> Realiza la búsqueda en la dimensión de aportantes no afiliados para obtener el ID_APORTANTE, utilizando también DOCUMENTO y TIPO_DOCUMENTO.</li>
</ul>
<p>Cada Lookup compara los registros del flujo de datos con las tablas de referencia y, según la configuración, envía las filas sin coincidencias (No Match) a la salida para que puedan ser procesadas o insertadas.</p>
</li>
<li>
<p><strong>Carga:</strong><br />
  Los datos transformados y enriquecidos se envían a un destino ADO.NET, que inserta los registros en la tabla <code>[Transversal].[FACT_ENCUESTAS_PSR]</code>. Este componente utiliza la carga masiva (Bulk Insert) para optimizar el rendimiento, con un CommandTimeout configurado a 30 segundos y sin límites en el tamaño del lote.</p>
</li>
</ul>
<hr />
<h3 id="diagrama-de-secuencia_10">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_10" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
    participant FlatFile as Flat File Source
    participant Convert as Data Conversion
    participant Lookup as Varios Lookups
    participant Destination as Destino ADO.NET

    FlatFile -&gt;&gt; Convert: Lee y convierte datos (FECHA_ENCUESTA, DOCUMENTO, etc.)
    Convert -&gt;&gt; Lookup: Envía datos para enriquecimiento mediante Lookups
    Lookup -&gt;&gt; Destination: Envía registros enriquecidos (con ID_FECHA, ID_EMPRESA, ID_AFILIADO, ID_BENEFICIARIO, ID_APORTANTE)
    Destination -&gt;&gt; Destination: Inserta datos en [Transversal].[FACT_ENCUESTAS_PSR]</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../js/mkdocs_pagetree_plugin.js"></script>
      
        <script src="../../js/init_mermaid.js"></script>
      
    
  </body>
</html>