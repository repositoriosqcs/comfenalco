
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../02.Tablas/">
      
      
        <link rel="next" href="../../05.Power_BI/00.Introduccion/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>03. ETL - COMFENALCO</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="23abf7" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#etls_cubo" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="COMFENALCO" class="md-header__button md-logo" aria-label="COMFENALCO" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            COMFENALCO
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              03. ETL
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="COMFENALCO" class="md-nav__button md-logo" aria-label="COMFENALCO" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    COMFENALCO
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    00. INICIO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            00. INICIO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    INTRODUCCIÓN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../instalacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    INSTALACIÓN Y CONFIGURACIÓN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Conexiones_BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CONEXIÓN A BASE DE DATOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../buenaspracticas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BUENAS PRÁCTICAS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01. SCRIPTS SQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            01. SCRIPTS SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/00.Inicio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/00.Eliminar_todo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00. Eliminar Todo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/01.Transversal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. Transversal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/02.Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02. Cedesarrollo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/03.Proteccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03. Proteccion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01.scripts/04.Colegio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04. Colegio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02. ESTRUCTURA SHAREPOINT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            02. ESTRUCTURA SHAREPOINT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04.sharepoint/estructura_sharepoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estructura carpeta Sharepoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04.sharepoint/estructura_archivos_actualizacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estructura Archivos Actualizacion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    03. BI COMFENALCO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            03. BI COMFENALCO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/00.params/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduccion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/00-SCRAPING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    00. WEB SCRAPING
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/01.TRANSVERSAL_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. TRANSVERSAL_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/02-TRANSVERSAL_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02. TRANSVERSAL_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/03-COLEGIO_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03. COLEGIO_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/04-COLEGIO_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04. COLEGIO_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/05-CEDESARROLLO_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05. CEDESARROLLO_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/06-CEDESARROLLO_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06. CEDESARROLLO_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/07-PROTECCION_DIMENSIONES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07. PROTECCION_DIMENSIONES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/08-PROTECCION_FACT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08. PROTECCION_FACT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02.Paquetes_SSIS/09-ETLS_CUBO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09. ETLS_CUBO
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    04. COMFENALCO EDUCACION
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            04. COMFENALCO EDUCACION
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01 SCRIPTS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            01 SCRIPTS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01. Q10
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            01. Q10
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_1" id="__nav_5_1_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    0.1. Educación Tecnica
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_1">
            <span class="md-nav__icon md-icon"></span>
            0.1. Educación Tecnica
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/01.Docentes_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.1. Docentes Cedesarrollo.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/02.Disenio_curricular/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.2. Diseño Curricular.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/03.Listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.3. Listado Matrículas.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/04.Ingresos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.4. Ingresos.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/05.Historico_notas_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.5. Histórico notas.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/06.Egresados_graduados_Cedesarrollo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.6. Egresados.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_01.educaciontecnica/07.Desertores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.7. Desertores.py
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_2" id="__nav_5_1_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    0.2. Educación Continua
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_2">
            <span class="md-nav__icon md-icon"></span>
            0.2. Educación Continua
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/01.Docentes_desarrollo_empresarial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.1. Docentes Desarrollo Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/02.Preinscritos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.2. Preinscritos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/03.Listado_matriculas_emp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.3. Listado Matrículas Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/04.Consolidado_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.4. Consolidado Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/05.Estudiantes_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.5. Estudiantes Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.educacioncontinua/06.Egresados_graduados_empresarial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0.6. Egresados Graduados Empresarial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_3" id="__nav_5_1_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sharepoint
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_3">
            <span class="md-nav__icon md-icon"></span>
            Sharepoint
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_01_procesar_docentes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_01 procesar_docentes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_02_procesar_Dise%C3%B1o_Curricular/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_02 procesar_Diseño_Curricular
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_03_procesar_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_03 procesar_listado_matriculas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_04_procesar_cede_Ingresos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_04 procesar_Ingresos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_05_cede_Historico_Notas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_05 cede_Historico_Notas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_06_cede_Egresados_Graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_06 cede_Egresados_Graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/cede_07_Cancelados_Desertores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cede_07 Cancelados Desertores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_01_Docentes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_01 Docentes Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_02_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_02 Listado Matrículas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_03_preinscritos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_03 Preinscritos Empresarial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_04_egresados_Graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_04 Egresados Graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_05_Estudiantes_inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_05 Estudiantes Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_01.q10_02.Sharepoint/emp_06_consolidado_Inasistencias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    emp_06 Consolidado Inasistencias
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02. C4C
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            02. C4C
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_02.C4C/01.C4C_webscraping_v4_Actualizable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1. Webscraping Actualizable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/00.etl_02.C4C/02.C4C_webscraping_v4_Historico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2. Webscraping Histórico
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/Funciones/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Funciones.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Download.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/Funciones_DM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Funciones_DM.py
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/c4c_from_sharepoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    c4c_from_sharepoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/dim_Estudiantes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dim_Estudiantes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/dim_periodo_academico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dim_periodo_academico
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_facturacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_facturacion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_graduados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_graduados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_cotizacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_cotizacion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../00.etl/Utils/fact_listado_matriculas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fact_listado_matriculas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    05. CUBO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            05. CUBO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01.Origen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. ORIGEN Y MEDIDAS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02.Tablas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02. TABLAS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    03. ETL
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    03. ETL
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proposito-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Propósito del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descripcion-del-paquete-ssis-etls_cubo" class="md-nav__link">
    <span class="md-ellipsis">
      Descripción del Paquete SSIS "ETLS_CUBO"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Descripción del Paquete SSIS "ETLS_CUBO"">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-preparacion-del-entorno" class="md-nav__link">
    <span class="md-ellipsis">
      1. Preparación del Entorno
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-modulo-mineria_colegio" class="md-nav__link">
    <span class="md-ellipsis">
      2. Módulo MINERIA_COLEGIO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-modulo-mineria_educacion_tecnica_y_continua" class="md-nav__link">
    <span class="md-ellipsis">
      3. Módulo MINERIA_EDUCACION_TECNICA_Y_CONTINUA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diagramas" class="md-nav__link">
    <span class="md-ellipsis">
      Diagramas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Diagramas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-diagrama-de-flujo-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Diagrama de Flujo de Datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-modelo-de-datos-simplificado" class="md-nav__link">
    <span class="md-ellipsis">
      2. Modelo de Datos Simplificado
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componentes" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Componentes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componente-truncar-tablas-cubo" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Truncar Tablas Cubo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dim_tiempo_mensual" class="md-nav__link">
    <span class="md-ellipsis">
      DIM_TIEMPO_MENSUAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesafiliacion-mensual-empresas" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Afiliacion mensual Empresas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesalmacenar-max-afiliados" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Almacenar MAX afiliados
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadescontenedor-de-bucles-forafiliacion-mensual-afiliados" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Contenedor de bucles For\\Afiliacion mensual Afiliados
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesalmacenar-max-beneficiarios" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Almacenar MAX beneficiarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadescontenedor-de-bucles-for-1afiliacion-mensual-beneficiarios" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Contenedor de bucles For 1\\Afiliacion mensual Beneficiarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_pqrs" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PQRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_nps" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_NPS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_proteccion" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PROTECCION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_cedesarrollo" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_CEDESARROLLO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_colegio" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_COLEGIO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadescontenedor-de-bucles-for-1-1aportes-totales" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Contenedor de bucles For 1 1\\Aportes Totales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_personal_cubo" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_PERSONAL_CUBO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_evaluacion_docente_cubo" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_EVALUACION_DOCENTE_CUBO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_financiera_cubo" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_FINANCIERA_CUBO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_unidades" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_UNIDADES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_colegiotruncar-tabla" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\\MINERIA_COLEGIO\\Truncar Tabla
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_colegioproceso-matricula-temporal" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\\MINERIA_COLEGIO\\Proceso Matrícula (Temporal)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_colegiogestion-matriculas" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\MINERIA_COLEGIO\Gestion Matriculas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_colegiopqrs-colegio" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\MINERIA_COLEGIO\PQRs Colegio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_educacion_tecnica_y_continuainscripcion" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Inscripcion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_educacion_tecnica_y_continuaadmision" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Admision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_mineriamineria_educacion_tecnica_y_continuapago" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Pago
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-packagefact_mineriamineria_educacion_tecnica_y_continuapqrs" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Package\FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\PQRs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    06. POWER BI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            06. POWER BI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05.Power_BI/00.Introduccion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05.Power_BI/01.Dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01. DASHBOARD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proposito-del-paquete" class="md-nav__link">
    <span class="md-ellipsis">
      Propósito del Paquete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descripcion-del-paquete-ssis-etls_cubo" class="md-nav__link">
    <span class="md-ellipsis">
      Descripción del Paquete SSIS "ETLS_CUBO"
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Descripción del Paquete SSIS "ETLS_CUBO"">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-preparacion-del-entorno" class="md-nav__link">
    <span class="md-ellipsis">
      1. Preparación del Entorno
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-modulo-mineria_colegio" class="md-nav__link">
    <span class="md-ellipsis">
      2. Módulo MINERIA_COLEGIO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-modulo-mineria_educacion_tecnica_y_continua" class="md-nav__link">
    <span class="md-ellipsis">
      3. Módulo MINERIA_EDUCACION_TECNICA_Y_CONTINUA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diagramas" class="md-nav__link">
    <span class="md-ellipsis">
      Diagramas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Diagramas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-diagrama-de-flujo-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Diagrama de Flujo de Datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-modelo-de-datos-simplificado" class="md-nav__link">
    <span class="md-ellipsis">
      2. Modelo de Datos Simplificado
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#componentes" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Componentes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componente-truncar-tablas-cubo" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Truncar Tablas Cubo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dim_tiempo_mensual" class="md-nav__link">
    <span class="md-ellipsis">
      DIM_TIEMPO_MENSUAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesafiliacion-mensual-empresas" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Afiliacion mensual Empresas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesalmacenar-max-afiliados" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Almacenar MAX afiliados
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadescontenedor-de-bucles-forafiliacion-mensual-afiliados" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Contenedor de bucles For\\Afiliacion mensual Afiliados
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesalmacenar-max-beneficiarios" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Almacenar MAX beneficiarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadescontenedor-de-bucles-for-1afiliacion-mensual-beneficiarios" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Contenedor de bucles For 1\\Afiliacion mensual Beneficiarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_pqrs" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PQRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_nps" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_NPS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_proteccion" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PROTECCION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_cedesarrollo" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_CEDESARROLLO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadesfact_actividades_colegio" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\FACT_ACTIVIDADES_COLEGIO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_actividadescontenedor-de-bucles-for-1-1aportes-totales" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_ACTIVIDADES\\Contenedor de bucles For 1 1\\Aportes Totales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_personal_cubo" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_PERSONAL_CUBO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_evaluacion_docente_cubo" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_EVALUACION_DOCENTE_CUBO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_financiera_cubo" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_FINANCIERA_CUBO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_unidades" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_UNIDADES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_colegiotruncar-tabla" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\\MINERIA_COLEGIO\\Truncar Tabla
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_colegioproceso-matricula-temporal" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\\MINERIA_COLEGIO\\Proceso Matrícula (Temporal)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_colegiogestion-matriculas" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\MINERIA_COLEGIO\Gestion Matriculas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_colegiopqrs-colegio" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\MINERIA_COLEGIO\PQRs Colegio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_educacion_tecnica_y_continuainscripcion" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Inscripcion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fact_mineriamineria_educacion_tecnica_y_continuaadmision" class="md-nav__link">
    <span class="md-ellipsis">
      FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Admision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-fact_mineriamineria_educacion_tecnica_y_continuapago" class="md-nav__link">
    <span class="md-ellipsis">
      Componente FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Pago
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componente-packagefact_mineriamineria_educacion_tecnica_y_continuapqrs" class="md-nav__link">
    <span class="md-ellipsis">
      Componente Package\FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\PQRs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<!-- markdownlint-disable -->
<!-- ✒️ *Documentación generada para el paquete SSIS `ETLS_CUBO` (Componente: MINERIA_COLEGIO).* -->
<!-- markdownlint-disable -->

<h1 id="etls_cubo">ETLS_CUBO<a class="headerlink" href="#etls_cubo" title="Permanent link">&para;</a></h1>
<p>El paquete SSIS <strong>"ETLS_CUBO"</strong> está diseñado para procesar, transformar y cargar datos relacionados con actividades de minería de datos en el ámbito educativo. Este paquete consolida información para análisis avanzados en el Data Warehouse <code>DWH_COMFENALCO</code>, enfocándose en dos áreas principales: el Colegio y la Educación Técnica y Continua.</p>
<hr />
<h2 id="proposito-del-paquete">Propósito del Paquete<a class="headerlink" href="#proposito-del-paquete" title="Permanent link">&para;</a></h2>
<p>El objetivo principal es integrar datos operativos de diferentes fuentes para construir una base de datos analítica que soporte procesos de minería de datos, permitiendo identificar patrones, tendencias y relaciones en actividades educativas tanto en colegios como en programas de educación técnica y continua.</p>
<h2 id="descripcion-del-paquete-ssis-etls_cubo">Descripción del Paquete SSIS "ETLS_CUBO"<a class="headerlink" href="#descripcion-del-paquete-ssis-etls_cubo" title="Permanent link">&para;</a></h2>
<p>El paquete SSIS <strong>"ETLS_CUBO"</strong> está diseñado para procesar, transformar y cargar datos de actividades de minería de datos en el ámbito educativo hacia el Data Warehouse <code>DWH_COMFENALCO</code>. Su enfoque abarca tanto el área de colegios como la de educación técnica y continua. A continuación se redefine la estructura y el flujo del proceso ETL de acuerdo al contenido del archivo:</p>
<h3 id="1-preparacion-del-entorno">1. Preparación del Entorno<a class="headerlink" href="#1-preparacion-del-entorno" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Truncar Tabla</strong>:<br />
  Se elimina de forma masiva la información de la tabla <code>FACT_MINERIA</code> (ubicada en el esquema <code>Transversal</code>) mediante el comando:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_MINERIA</span><span class="p">];</span>
</code></pre></div>
<p>Esto garantiza que la tabla esté limpia, previniendo duplicaciones o inconsistencias, y optimizando el rendimiento del proceso de carga.</p>
<h3 id="2-modulo-mineria_colegio">2. Módulo MINERIA_COLEGIO<a class="headerlink" href="#2-modulo-mineria_colegio" title="Permanent link">&para;</a></h3>
<p>Este módulo se encarga de procesar y consolidar los datos relativos a la minería en colegios, incluyendo:</p>
<ul>
<li><strong>Proceso Matrícula (Temporal)</strong>:<br />
  Extrae información detallada de inscripciones matriculares y calcula indicadores de gestión vinculados a:</li>
<li>Codeudor</li>
<li>Secretaría Académica</li>
<li>Psicología  </li>
<li>Coordinación Académica</li>
</ul>
<p>Se aplican técnicas como <code>OUTER APPLY</code> y <code>PIVOT</code> para transformar filas en columnas y obtener, por cada mes, los tiempos de gestión y el cumplimiento de los procesos relacionados con la matrícula.</p>
<ul>
<li><strong>Gestión Matrículas</strong>:<br />
  Transforma y carga datos de gestiones de matrícula, donde se:</li>
<li>Asignan fechas de inicio (convirtiendo <code>ID_FECHA</code> a <code>datetime</code>) y se calcula la fecha final mediante <code>DATEADD(SECOND, TIEMPO_SEGUNDOS, FECHA_INICIAL)</code>.</li>
<li>
<p>Se clasifica la actividad según el proceso gestionado (e.g., Codeudor, Secretaría, Psicología, Coordinación), lo que posibilita su análisis comparativo.</p>
</li>
<li>
<p><strong>PQRs Colegio</strong>:<br />
  Consolida la información de Peticiones, Quejas y Reclamos (PQRs) presentadas por los acudientes. Esto se realiza mediante una consulta SQL con múltiples expresiones comunes (CTE) que:</p>
</li>
<li>Calcula el período mensual (<code>ID_FECHA_MENSUAL</code>) a partir de la fecha de creación de la PQR.</li>
<li>Construye el descriptor de actividad concatenando "PQR" con la causa reportada.</li>
<li>Complementa los datos utilizando un LEFT JOIN con la información de inscripciones (que aporta datos como categoría, curso y tipo de estudiante).</li>
</ul>
<p>Los registros resultantes se cargan en la tabla <code>FACT_MINERIA</code> para análisis posterior.</p>
<h3 id="3-modulo-mineria_educacion_tecnica_y_continua">3. Módulo MINERIA_EDUCACION_TECNICA_Y_CONTINUA<a class="headerlink" href="#3-modulo-mineria_educacion_tecnica_y_continua" title="Permanent link">&para;</a></h3>
<p>Este módulo agrupa procesos ETL enfocados en la educación técnica y continua, abarcando:</p>
<ul>
<li>
<p><strong>Inscripción</strong>:<br />
  Captura y procesa datos de inscripciones de estudiantes provenientes de fuentes operativas en Cedesarrollo, segmentándolos según el origen (afiliados, beneficiarios o empresas). Se estructuran los datos para soportar análisis multidimensionales coordinados con la dimensión temporal.</p>
</li>
<li>
<p><strong>Admisión</strong>:<br />
  Gestiona la información de admisiones, diferenciando entre estudiantes nuevos y antiguos, facilitando el análisis del proceso de admisión y la evaluación de la eficiencia en su gestión.</p>
</li>
<li>
<p><strong>Pago</strong>:<br />
  Procesa datos financieros relacionados con los pagos de cursos, integrando tanto aspectos temporales como económicos. Esto permite evaluar la ejecución presupuestal y analizar el retorno de inversión en los programas educativos.</p>
</li>
<li>
<p><strong>PQRs (Educación Técnica y Continua)</strong>:<br />
  Consolida información sobre peticiones, quejas y reclamos en los programas técnicos y de educación continua, brindando una visión clara de la calidad y el servicio en estos procesos.</p>
</li>
</ul>
<h2 id="diagramas">Diagramas<a class="headerlink" href="#diagramas" title="Permanent link">&para;</a></h2>
<h3 id="1-diagrama-de-flujo-de-datos">1. <strong>Diagrama de Flujo de Datos</strong><a class="headerlink" href="#1-diagrama-de-flujo-de-datos" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>flowchart TD
    A[Truncar Tabla FACT_MINERIA]
       --&gt; B{Área Educativa}
    B --&gt;|Colegio| C[Proceso Matrícula Temporal]
    C --&gt; D[Gestión Matrículas]
    D --&gt; E[PQRs Colegio]
    B --&gt;|Educación Técnica y Continua| F[Inscripción]
    F --&gt; G[Admisión]
    G --&gt; H[Pago]
    H --&gt; I[PQRs]
    E --&gt; J[FACT_MINERIA]
    I --&gt; J</code></pre>
<h3 id="2-modelo-de-datos-simplificado">2. <strong>Modelo de Datos Simplificado</strong><a class="headerlink" href="#2-modelo-de-datos-simplificado" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>erDiagram
    FACT_MINERIA {
        string BP
        int ID_FECHA_MENSUAL
        int ID_ANIO_ACADEMICO
        int ID_UNIDAD
        datetime FECHA_INICIAL
        datetime FECHA_FINAL
        string ACTIVIDAD
        int TIEMPO_SEGUNDOS
        decimal VALOR_PAGADO
        int ID_CATEGORIA
        int ID_CURSO
        int ID_TIPO_ESTUDIANTE
    }
    DIM_TIEMPO_MENSUAL {
        int ID_FECHA
        string NOMBRE_MES
        int NUMERO_MES
        int ANIO
    }
    DIM_AFILIADOS {
        string PARTNER
        int ID_CATEGORIA
        string NOMBRE
    }
    DIM_BENEFICIARIOS {
        string PARTNER
        int ID_AFILIADO
        string NOMBRE
    }
    FACT_PQRS {
        int ID_FECHA
        int ID_AFILIADO
        int ID_BENEFICIARIO
        datetime FECHA_CREACION
        datetime FECHA_RESOLUCION
        string CAUSA
    }
    FACT_MINERIA }|--|| DIM_TIEMPO_MENSUAL : "asocia periodos"
    FACT_MINERIA }|--|| DIM_AFILIADOS : "vincula afiliados"
    FACT_MINERIA }|--|| DIM_BENEFICIARIOS : "vincula beneficiarios"
    FACT_PQRS ||--|{ FACT_MINERIA : "alimenta"</code></pre>
<h2 id="componentes">Componentes<a class="headerlink" href="#componentes" title="Permanent link">&para;</a></h2>
<h3 id="componente-truncar-tablas-cubo">Componente <strong><code>Truncar Tablas Cubo</code></strong><a class="headerlink" href="#componente-truncar-tablas-cubo" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general">Descripción General<a class="headerlink" href="#descripcion-general" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Truncar Tablas Cubo</code></strong> es una tarea de ejecución SQL integrada en un paquete SSIS (SQL Server Integration Services) diseñado para preparar el entorno del Data Warehouse <strong><code>DWH_COMFENALCO</code></strong> antes de la carga de datos. Su función principal es eliminar todo el contenido de las tablas destino especificadas mediante el comando <strong><code>TRUNCATE TABLE</code></strong>, asegurando que estén vacías y listas para recibir nuevos datos.</p>
<h4 id="proposito">Propósito<a class="headerlink" href="#proposito" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Preparar el Data Warehouse</strong>:  <ul>
<li>Elimina datos existentes en las tablas destino para evitar duplicaciones o inconsistencias durante la carga de nuevos datos.  </li>
</ul>
</li>
<li><strong>Optimizar el Rendimiento</strong>:  <ul>
<li>Utiliza <strong><code>TRUNCATE TABLE</code></strong> en lugar de <strong><code>DELETE</code></strong>, lo que permite una eliminación rápida y eficiente de registros sin registrar cada operación individualmente en el log de transacciones.</li>
</ul>
</li>
</ol>
<h4 id="tablas-afectadas">Tablas Afectadas<a class="headerlink" href="#tablas-afectadas" title="Permanent link">&para;</a></h4>
<p>El componente ejecuta comandos de truncado sobre las siguientes tablas en el esquema <strong><code>Transversal</code></strong> del Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>:</p>
<ol>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_UNIDADES]</code></strong>:  <ul>
<li>Tabla de hechos que almacena información relacionada con unidades operativas.  </li>
</ul>
</li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong>:  <ul>
<li>Contiene datos consolidados de actividades asociadas a afiliados, empresas y aportes.  </li>
</ul>
</li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_EVALUACION_DOCENTE]</code></strong>:  <ul>
<li>Registra evaluaciones de desempeño docente.  </li>
</ul>
</li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_FINANCIERA]</code></strong>:  <ul>
<li>Tabla de hechos para datos financieros.  </li>
</ul>
</li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_PERSONAL]</code></strong>:  <ul>
<li>Almacena información sobre personal, como ausentismo y contrataciones.  </li>
</ul>
</li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_MINERIA]</code></strong>:  <ul>
<li>Incluye datos relevantes para procesos de minería de datos en análisis educativo.  </li>
</ul>
</li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[DIM_TIEMPO_MENSUAL]</code></strong>:  <ul>
<li>Dimensión temporal que organiza información por meses.</li>
</ul>
</li>
</ol>
<h4 id="implementacion-del-sql">Implementación del SQL<a class="headerlink" href="#implementacion-del-sql" title="Permanent link">&para;</a></h4>
<p><strong>Consulta SQL Utilizada:</strong><br />
<div class="highlight"><pre><span></span><code><span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_UNIDADES</span><span class="p">];</span>
<span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_ACTIVIDADES</span><span class="p">];</span>
<span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_EVALUACION_DOCENTE</span><span class="p">];</span>
<span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_FINANCIERA</span><span class="p">];</span>
<span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_PERSONAL</span><span class="p">];</span>
<span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_MINERIA</span><span class="p">];</span>
<span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">];</span>
</code></pre></div></p>
<p><strong>Características del Comando:</strong><br />
- <strong>Eficiencia</strong>: <strong><code>TRUNCATE TABLE</code></strong> elimina todos los registros de las tablas de forma masiva, reiniciando los contadores de identidad (si los hay) y liberando el espacio asignado sin registrar operaciones individuales.<br />
- <strong>Seguridad</strong>: El comando no se ejecutará si existen restricciones de claves foráneas activas que referencien las tablas, lo que previene errores accidentales en la integridad referencial.<br />
- <strong>Conexión</strong>: Utiliza el administrador de conexiones <strong><code>DWH_COMFENALCO</code></strong> para acceder a la base de datos.</p>
<h4 id="configuracion-en-el-xml">Configuración en el XML<a class="headerlink" href="#configuracion-en-el-xml" title="Permanent link">&para;</a></h4>
<p>Aunque el XML proporcionado no incluye explícitamente la definición completa del componente <strong><code>Truncar Tablas Cubo</code></strong> como una tarea independiente (probablemente porque está en otra sección del paquete o en un archivo relacionado), se puede inferir su existencia y propósito a partir de la estructura general del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este paquete incluye múltiples tareas de flujo de datos y configuraciones que dependen de un entorno limpio, como lo indica la presencia de tareas como <strong><code>DIM_TIEMPO_MENSUAL</code></strong>. La tarea de truncado sería típicamente una <strong><code>Execute SQL Task</code></strong> con las siguientes propiedades deducidas:</p>
<ul>
<li><strong>Nombre</strong>: "Truncar Tablas Cubo" (basado en la documentación del segundo documento).  </li>
<li><strong>Tipo de Ejecutable</strong>: <strong><code>Microsoft.ExecuteSQLTask</code></strong> (tarea estándar para ejecutar comandos SQL en SSIS).  </li>
<li><strong>Conexión</strong>: <strong><code>DWH_COMFENALCO</code></strong> (referenciada en el XML como <strong><code>connectionManagerRefId="Project.ConnectionManagers[DWH_COMFENALCO]"</code></strong>).  </li>
<li><strong>SQLStatement</strong>: El script SQL mostrado anteriormente.  </li>
<li><strong>DTSID</strong>: Un identificador único similar a los presentes en el XML, como <code>{AAB88391-9629-4545-8D33-0A167480054E}</code>.  </li>
</ul>
<h4 id="diagrama-de-secuencia">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant SSIS as Paquete SSIS
    participant SQLServer as Servidor SQL
    SSIS -&gt;&gt; SQLServer: Ejecutar TRUNCATE TABLE FACT_UNIDADES
    SSIS -&gt;&gt; SQLServer: Ejecutar TRUNCATE TABLE FACT_ACTIVIDADES
    SSIS -&gt;&gt; SQLServer: Ejecutar TRUNCATE TABLE FACT_EVALUACION_DOCENTE
    SSIS -&gt;&gt; SQLServer: Ejecutar TRUNCATE TABLE FACT_FINANCIERA
    SSIS -&gt;&gt; SQLServer: Ejecutar TRUNCATE TABLE FACT_PERSONAL
    SSIS -&gt;&gt; SQLServer: Ejecutar TRUNCATE TABLE FACT_MINERIA
    SSIS -&gt;&gt; SQLServer: Ejecutar TRUNCATE TABLE DIM_TIEMPO_MENSUAL
    SQLServer --&gt;&gt; SSIS: Confirmación de ejecución</code></pre>
<h4 id="contexto-dentro-del-paquete-ssis">Contexto dentro del Paquete SSIS<a class="headerlink" href="#contexto-dentro-del-paquete-ssis" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Truncar Tablas Cubo</code></strong> es una tarea crítica que se ejecuta al inicio del proceso ETL (Extract, Transform, Load) en el paquete <strong><code>09-ETLS_CUBO</code></strong>. Su propósito es garantizar que las tablas de hechos y dimensiones estén limpias antes de que tareas como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> (presente en el XML bajo <code>&lt;DTS:Executable DTS:refId="Package\DIM_TIEMPO_MENSUAL"&gt;</code>) y otras carguen nuevos datos. Esto asegura la integridad y consistencia de los datos en el cubo OLAP resultante.</p>
<h3 id="dim_tiempo_mensual">DIM_TIEMPO_MENSUAL<a class="headerlink" href="#dim_tiempo_mensual" title="Permanent link">&para;</a></h3>
<p><strong><code>DIM_TIEMPO_MENSUAL</code></strong> es un componente clave dentro del paquete SSIS (SQL Server Integration Services) denominado <strong><code>09-ETLS_CUBO</code></strong>. Este componente es una tarea de flujo de datos diseñada para generar y cargar datos en la tabla de dimensión temporal <strong><code>DIM_TIEMPO_MENSUAL</code></strong>, ubicada en el esquema <strong><code>Transversal</code></strong> del Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>. Su propósito principal es proporcionar una dimensión de tiempo a nivel mensual que sirve como base para el análisis temporal en un cubo OLAP.</p>
<hr />
<h4 id="que-hace-dim_tiempo_mensual"><strong>¿Qué hace DIM_TIEMPO_MENSUAL?</strong><a class="headerlink" href="#que-hace-dim_tiempo_mensual" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Generación de Datos Temporales</strong>:<br />
   Crea registros que representan cada mes dentro de un rango de fechas definido, desde enero de 2019 hasta diciembre de 2024.  </p>
</li>
<li>
<p><strong>Estructuración de la Dimensión de Tiempo</strong>:<br />
   Organiza los datos en una tabla con atributos como identificadores, nombres de meses, años y fechas, facilitando consultas y análisis basados en periodos mensuales.</p>
</li>
<li>
<p><strong>Soporte al Cubo OLAP</strong>:<br />
   Actúa como una dimensión esencial en el cubo OLAP, permitiendo a los usuarios realizar análisis temporales de manera eficiente.</p>
</li>
</ol>
<hr />
<h4 id="detalles-de-la-implementacion"><strong>Detalles de la Implementación</strong><a class="headerlink" href="#detalles-de-la-implementacion" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Ubicación</strong>:<br />
  Los datos se cargan en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[DIM_TIEMPO_MENSUAL]</code></strong>.</p>
</li>
<li>
<p><strong>Fuente de Datos</strong>:<br />
  No depende de una fuente externa; los datos se generan dinámicamente dentro del flujo de datos de SSIS utilizando lógica interna.</p>
</li>
<li>
<p><strong>Proceso en SSIS</strong>:  </p>
<ul>
<li><strong>Tarea de Flujo de Datos</strong>: Llamada "DIM_TIEMPO_MENSUAL".  </li>
<li><strong>Componentes</strong>:  </li>
<li><strong>Origen</strong>: Un script o componente que genera las fechas mensuales.  </li>
<li><strong>Transformaciones</strong>:  <ul>
<li><strong><code>Derived Column</code></strong>: Calcula valores como el nombre del mes, número del mes, año, etc.  </li>
<li><strong><code>Data Conversion</code></strong>: Ajusta tipos de datos si es necesario.  </li>
</ul>
</li>
<li><strong>Destino</strong>: Inserta los datos en la tabla mediante un componente OLE DB.</li>
</ul>
</li>
<li>
<p><strong>Rango de Fechas</strong>:<br />
  Cubre desde enero de 2019 hasta diciembre de 2024, generando un registro por cada mes en este periodo.</p>
</li>
</ul>
<hr />
<h4 id="estructura-de-la-tabla"><strong>Estructura de la Tabla</strong><a class="headerlink" href="#estructura-de-la-tabla" title="Permanent link">&para;</a></h4>
<p>La tabla <strong><code>DIM_TIEMPO_MENSUAL</code></strong> contiene las siguientes columnas:</p>
<table>
<thead>
<tr>
<th><strong>Columna</strong></th>
<th><strong>Descripción</strong></th>
<th><strong>Ejemplo</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ID_MES</code></td>
<td>Identificador único del mes (clave primaria)</td>
<td><code>201901</code></td>
</tr>
<tr>
<td><code>NOMBRE_MES</code></td>
<td>Nombre completo del mes en español</td>
<td><code>Enero</code></td>
</tr>
<tr>
<td><code>NUMERO_MES</code></td>
<td>Número del mes (1 a 12)</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>ANIO</code></td>
<td>Año correspondiente</td>
<td><code>2019</code></td>
</tr>
<tr>
<td><code>MES_ANIO</code></td>
<td>Combinación de mes y año</td>
<td><code>Enero 2019</code></td>
</tr>
<tr>
<td><code>FECHA_INICIO</code></td>
<td>Primer día del mes</td>
<td><code>2019-01-01</code></td>
</tr>
<tr>
<td><code>FECHA_FIN</code></td>
<td>Último día del mes</td>
<td><code>2019-01-31</code></td>
</tr>
</tbody>
</table>
<hr />
<h4 id="como-se-generan-los-datos"><strong>¿Cómo se Generan los Datos?</strong><a class="headerlink" href="#como-se-generan-los-datos" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Lógica</strong>:<br />
  Se utiliza un bucle o script en SSIS para iterar mes a mes desde 2019 hasta 2024.  </li>
<li><strong>Cálculos</strong>:  <ul>
<li><code>ID_MES</code>: Puede ser un valor como <code>YYYYMM</code> (e.g., 201901).  </li>
<li><code>NOMBRE_MES</code>: Extraído de funciones de fecha (en español).  </li>
<li><code>NUMERO_MES</code>: Número del mes (1 al 12).  </li>
<li><code>ANIO</code>: Año de la fecha.  </li>
<li><code>MES_ANIO</code>: Concatenación de <code>NOMBRE_MES</code> y <code>ANIO</code>.  </li>
<li><code>FECHA_INICIO</code>: Primer día del mes.  </li>
<li><code>FECHA_FIN</code>: Último día del mes, ajustado según el mes y año (e.g., 28 o 29 para febrero).</li>
</ul>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Ejecución</strong>:<br />
  Esta tarea suele ejecutarse después de limpiar las tablas del cubo (e.g., tarea <strong><code>Truncar Tablas Cubo</code></strong>), asegurando que la dimensión esté lista antes de cargar datos de hechos.  </li>
<li><strong>Dependencias</strong>:<br />
  Tablas de hechos como <strong><code>FACT_UNIDADES</code></strong> o <strong><code>FACT_ACTIVIDADES</code></strong> usan esta dimensión para vincular datos a periodos mensuales en el cubo OLAP.</li>
</ul>
<h3 id="fact_actividadesafiliacion-mensual-empresas"><strong><code>FACT_ACTIVIDADES\\Afiliacion mensual Empresas</code></strong><a class="headerlink" href="#fact_actividadesafiliacion-mensual-empresas" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\Afiliacion mensual Empresas</code></strong> forma parte del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong> y está diseñado para gestionar datos relacionados con la afiliación mensual de empresas dentro del Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>. A continuación, te detallo su propósito, funcionamiento e implementación:</p>
<hr />
<h4 id="descripcion-general_1"><strong>Descripción General</strong><a class="headerlink" href="#descripcion-general_1" title="Permanent link">&para;</a></h4>
<p><strong><code>FACT_ACTIVIDADES\\Afiliacion mensual Empresas</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong> del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Su objetivo principal es:</p>
<ol>
<li>Extraer datos de afiliación mensual de empresas desde una fuente de origen.</li>
<li>Transformar esos datos aplicando lógica de negocio.</li>
<li>Cargar la información procesada en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong>, que sirve como base para análisis en un cubo OLAP.</li>
</ol>
<p>Esta tabla de hechos centraliza información sobre diversas actividades, incluyendo la afiliación de empresas, para facilitar reportes y análisis multidimensionales.</p>
<hr />
<h4 id="ubicacion-en-el-paquete"><strong>Ubicación en el Paquete</strong><a class="headerlink" href="#ubicacion-en-el-paquete" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS</strong>: <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Tarea de Flujo de Datos</strong>: <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Componente</strong>: <strong><code>Afiliacion mensual Empresas</code></strong> (un subcomponente o transformación dentro de la tarea mencionada).</li>
</ul>
<hr />
<h4 id="proposito_1"><strong>Propósito</strong><a class="headerlink" href="#proposito_1" title="Permanent link">&para;</a></h4>
<p>El componente tiene las siguientes funciones clave:</p>
<ul>
<li><strong>Extracción</strong>: Obtiene datos de afiliación de empresas, probablemente desde una tabla staging o una vista.</li>
<li><strong>Transformación</strong>: Procesa los datos para calcular métricas como el número de empresas afiliadas por mes.</li>
<li><strong>Carga</strong>: Inserta los datos transformados en <strong><code>FACT_ACTIVIDADES</code></strong>, vinculándolos con dimensiones relevantes como tiempo o empresas.</li>
</ul>
<hr />
<h4 id="detalles-de-implementacion"><strong>Detalles de Implementación</strong><a class="headerlink" href="#detalles-de-implementacion" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos</strong>:</p>
<ul>
<li>Aunque la fuente exacta no se especifica aquí, suele ser una tabla intermedia (staging) o una vista que contiene información de afiliación de empresas.</li>
</ul>
</li>
<li>
<p><strong>Transformaciones</strong>:</p>
<ul>
<li><strong>Derived Column</strong>: Genera columnas calculadas necesarias para la tabla de hechos.</li>
<li><strong>Lookup</strong>: Conecta los datos con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> para obtener claves foráneas (e.g., <code>ID_MES</code>).</li>
<li><strong>Aggregate</strong>: Puede realizar agregaciones, como sumar el número de empresas afiliadas por mes.</li>
</ul>
</li>
<li>
<p><strong>Destino</strong>:</p>
<ul>
<li>Los datos procesados se cargan en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Cálculo de Afiliación Mensual</strong>: Determina cuántas empresas están afiliadas en un mes específico y, posiblemente, otros indicadores como nuevas afiliaciones o cancelaciones.</li>
<li><strong>Vinculación Temporal</strong>: Asocia cada registro con el mes correspondiente en la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong>.</li>
<li><strong>Integridad</strong>: Garantiza que las claves foráneas en <strong><code>FACT_ACTIVIDADES</code></strong> coincidan con registros válidos en las dimensiones relacionadas.</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_1"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Dependencias</strong>: Requiere que la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> esté cargada previamente para vincular los datos temporales.</li>
<li><strong>Secuencia</strong>: Se ejecuta después de tareas iniciales como el truncado de tablas y la carga de dimensiones, pero antes de procesos que usen los datos de <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
</ul>
<hr />
<h3 id="fact_actividadesalmacenar-max-afiliados"><strong><code>FACT_ACTIVIDADES\\Almacenar MAX afiliados</code></strong><a class="headerlink" href="#fact_actividadesalmacenar-max-afiliados" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\Almacenar MAX afiliados</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong> del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Su propósito es calcular y almacenar el número máximo de afiliados en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong>, proporcionando una medida clave para el análisis de datos en el Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su funcionalidad, implementación y relevancia dentro del proceso ETL.</p>
<hr />
<h4 id="descripcion-general_2"><strong>Descripción General</strong><a class="headerlink" href="#descripcion-general_2" title="Permanent link">&para;</a></h4>
<p><strong><code>FACT_ACTIVIDADES\\Almacenar MAX afiliados</code></strong> se encarga de:</p>
<ol>
<li>Extraer datos relevantes sobre afiliados desde una fuente de origen.</li>
<li>Calcular el número máximo de afiliados según criterios específicos (por ejemplo, por empresa, por mes, etc.).</li>
<li>Almacenar esta medida en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong> para su uso en análisis multidimensionales.</li>
</ol>
<p>Esta tarea es fundamental para identificar picos de afiliación y analizar tendencias a lo largo del tiempo en el cubo OLAP.</p>
<hr />
<h4 id="ubicacion-en-el-paquete_1"><strong>Ubicación en el Paquete</strong><a class="headerlink" href="#ubicacion-en-el-paquete_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS</strong>: <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Tarea de Flujo de Datos</strong>: <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Componente</strong>: <strong><code>Almacenar MAX afiliados</code></strong> (una transformación o cálculo dentro del flujo de datos).</li>
</ul>
<hr />
<h4 id="proposito_2"><strong>Propósito</strong><a class="headerlink" href="#proposito_2" title="Permanent link">&para;</a></h4>
<p>El componente tiene las siguientes funciones clave:</p>
<ul>
<li><strong>Extracción</strong>: Obtiene datos de afiliados desde una tabla <em>staging</em> o vista.</li>
<li><strong>Transformación</strong>: Calcula el número máximo de afiliados utilizando agregaciones.</li>
<li><strong>Carga</strong>: Inserta la medida calculada en <strong><code>FACT_ACTIVIDADES</code></strong>, vinculándola con las dimensiones correspondientes (como tiempo o empresas).</li>
</ul>
<hr />
<h4 id="detalles-de-implementacion_1"><strong>Detalles de Implementación</strong><a class="headerlink" href="#detalles-de-implementacion_1" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos</strong>:</p>
<ul>
<li>Los datos provienen de una fuente que contiene información detallada sobre afiliados, como una tabla <em>staging</em> o una vista en la base de datos.</li>
</ul>
</li>
<li>
<p><strong>Transformaciones</strong>:</p>
<ul>
<li><strong>Aggregate</strong>: Se utiliza para agrupar los datos y calcular el valor máximo de afiliados según las dimensiones relevantes (por ejemplo, por mes o por empresa).</li>
<li><strong>Lookup</strong>: Conecta los datos agregados con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> para obtener las claves foráneas (e.g., <code>ID_MES</code>).</li>
<li><strong>Derived Column</strong>: Puede generar columnas adicionales necesarias para la tabla de hechos.</li>
</ul>
</li>
<li>
<p><strong>Destino</strong>:</p>
<ul>
<li>Los resultados se cargan en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong> utilizando un componente <em>OLE DB Destination</em>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_1"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Cálculo del Máximo de Afiliados</strong>: Determina el número máximo de afiliados en un contexto específico, como el máximo número de afiliados por empresa en un mes.</li>
<li><strong>Vinculación con Dimensiones</strong>: Asocia el valor máximo con las claves foráneas de las dimensiones relevantes (e.g., <code>ID_MES</code>, <code>ID_EMPRESA</code>).</li>
<li><strong>Integridad de Datos</strong>: Asegura que los valores calculados sean consistentes y precisos para su uso en análisis.</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_2"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Dependencias</strong>: Requiere que las dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> estén cargadas previamente para vincular correctamente los datos.</li>
<li><strong>Secuencia</strong>: Se ejecuta después de la carga de dimensiones y antes de otras tareas que puedan depender de los datos en <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
</ul>
<hr />
<h4 id="importancia"><strong>Importancia</strong><a class="headerlink" href="#importancia" title="Permanent link">&para;</a></h4>
<p>El cálculo y almacenamiento del número máximo de afiliados es crucial para:</p>
<ul>
<li>Identificar períodos o empresas con picos de afiliación.</li>
<li>Comparar el rendimiento entre diferentes empresas o regiones.</li>
<li>Tomar decisiones informadas basadas en tendencias históricas.</li>
</ul>
<p>Al integrar esta medida en <strong><code>FACT_ACTIVIDADES</code></strong>, se enriquece el cubo OLAP y se mejora la capacidad analítica del Data Warehouse.</p>
<h3 id="fact_actividadescontenedor-de-bucles-forafiliacion-mensual-afiliados"><strong><code>FACT_ACTIVIDADES\\Contenedor de bucles For\\Afiliacion mensual Afiliados</code></strong><a class="headerlink" href="#fact_actividadescontenedor-de-bucles-forafiliacion-mensual-afiliados" title="Permanent link">&para;</a></h3>
<p>Forma parte del paquete SSIS dentro del proceso ETL del Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>, específicamente en el paquete <strong><code>09-ETLS_CUBO</code></strong>. A continuación, te explico de qué se trata y cómo funciona:</p>
<h4 id="ubicacion-y-contexto"><strong>Ubicación y Contexto</strong><a class="headerlink" href="#ubicacion-y-contexto" title="Permanent link">&para;</a></h4>
<ul>
<li>Este componente está dentro de la tarea de flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
<li>Se encuentra anidado en un <strong>Contenedor de bucles For</strong>, que es una estructura en SSIS diseñada para repetir un conjunto de tareas o procesos basándose en una condición o un conjunto de valores.</li>
</ul>
<h4 id="proposito_3"><strong>Propósito</strong><a class="headerlink" href="#proposito_3" title="Permanent link">&para;</a></h4>
<p>El <strong>Contenedor de bucles For</strong> tiene como objetivo procesar datos de manera iterativa. En este caso, se utiliza para manejar la <strong>afiliación mensual de afiliados</strong>, probablemente iterando sobre una lista de meses o periodos de tiempo. Por cada iteración, el componente <strong><code>Afiliacion mensual Afiliados</code></strong> se encarga de procesar los datos correspondientes a un mes específico.</p>
<h4 id="funcionamiento"><strong>Funcionamiento</strong><a class="headerlink" href="#funcionamiento" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Iteración</strong>:</p>
<ul>
<li>El contenedor define un bucle que recorre diferentes periodos (por ejemplo, una lista de meses: enero, febrero, marzo, etc.).</li>
<li>En cada vuelta del bucle, se ejecuta el componente <strong><code>Afiliacion mensual Afiliados</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Tareas del Componente</strong>:</p>
<ul>
<li><strong>Extracción</strong>: Obtiene los datos de afiliados para el mes correspondiente, posiblemente desde una tabla temporal o <em>staging</em>.</li>
<li><strong>Transformación</strong>: Realiza cálculos o procesamientos específicos, como determinar el número de afiliados activos en ese mes.</li>
<li><strong>Carga</strong>: Inserta los datos procesados en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong>, vinculándolos con las dimensiones relevantes del Data Warehouse.</li>
</ul>
</li>
</ol>
<h3 id="fact_actividadesalmacenar-max-beneficiarios"><strong><code>FACT_ACTIVIDADES\\Almacenar MAX beneficiarios</code></strong><a class="headerlink" href="#fact_actividadesalmacenar-max-beneficiarios" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\Almacenar MAX beneficiarios</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong> del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Su propósito es calcular y almacenar el número máximo de beneficiarios en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong>, proporcionando una medida clave para el análisis de datos en el Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su funcionalidad, implementación y relevancia dentro del proceso ETL.</p>
<hr />
<h4 id="descripcion-general_3"><strong>Descripción General</strong><a class="headerlink" href="#descripcion-general_3" title="Permanent link">&para;</a></h4>
<p><strong><code>FACT_ACTIVIDADES\\Almacenar MAX beneficiarios</code></strong> se encarga de:</p>
<ol>
<li>Extraer datos relevantes sobre beneficiarios desde una fuente de origen.</li>
<li>Calcular el número máximo de beneficiarios según criterios específicos (por ejemplo, por empresa, por mes, etc.).</li>
<li>Almacenar esta medida en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong> para su uso en análisis multidimensionales.</li>
</ol>
<p>Esta tarea es fundamental para identificar picos en el número de beneficiarios y analizar tendencias a lo largo del tiempo en el cubo OLAP, lo cual es útil para la planificación de recursos y la evaluación de la capacidad de servicio.</p>
<hr />
<h4 id="ubicacion-en-el-paquete_2"><strong>Ubicación en el Paquete</strong><a class="headerlink" href="#ubicacion-en-el-paquete_2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS</strong>: <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Tarea de Flujo de Datos</strong>: <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Componente</strong>: <strong><code>Almacenar MAX beneficiarios</code></strong> (una transformación o cálculo dentro del flujo de datos).</li>
</ul>
<hr />
<h4 id="proposito_4"><strong>Propósito</strong><a class="headerlink" href="#proposito_4" title="Permanent link">&para;</a></h4>
<p>El componente tiene las siguientes funciones clave:</p>
<ul>
<li><strong>Extracción</strong>: Obtiene datos de beneficiarios desde una tabla <em>staging</em> o vista.</li>
<li><strong>Transformación</strong>: Calcula el número máximo de beneficiarios utilizando agregaciones.</li>
<li><strong>Carga</strong>: Inserta la medida calculada en <strong><code>FACT_ACTIVIDADES</code></strong>, vinculándola con las dimensiones correspondientes (como tiempo o empresas).</li>
</ul>
<hr />
<h4 id="detalles-de-implementacion_2"><strong>Detalles de Implementación</strong><a class="headerlink" href="#detalles-de-implementacion_2" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos</strong>:</p>
<ul>
<li>Los datos provienen de una fuente que contiene información detallada sobre beneficiarios, como una tabla <em>staging</em> o una vista en la base de datos.</li>
</ul>
</li>
<li>
<p><strong>Transformaciones</strong>:</p>
<ul>
<li><strong>Aggregate</strong>: Se utiliza para agrupar los datos y calcular el valor máximo de beneficiarios según las dimensiones relevantes (por ejemplo, por mes o por empresa).</li>
<li><strong>Lookup</strong>: Conecta los datos agregados con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> para obtener las claves foráneas (e.g., <code>ID_MES</code>).</li>
<li><strong>Derived Column</strong>: Puede generar columnas adicionales necesarias para la tabla de hechos.</li>
</ul>
</li>
<li>
<p><strong>Destino</strong>:</p>
<ul>
<li>Los resultados se cargan en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong> utilizando un componente <em>OLE DB Destination</em>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_2"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Cálculo del Máximo de Beneficiarios</strong>: Determina el número máximo de beneficiarios en un contexto específico, como el máximo número de beneficiarios por empresa en un mes.</li>
<li><strong>Vinculación con Dimensiones</strong>: Asocia el valor máximo con las claves foráneas de las dimensiones relevantes (e.g., <code>ID_MES</code>, <code>ID_EMPRESA</code>).</li>
<li><strong>Integridad de Datos</strong>: Asegura que los valores calculados sean consistentes y precisos para su uso en análisis.</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_3"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Dependencias</strong>: Requiere que las dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> estén cargadas previamente para vincular correctamente los datos.</li>
<li><strong>Secuencia</strong>: Se ejecuta después de la carga de dimensiones y antes de otras tareas que puedan depender de los datos en <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
</ul>
<hr />
<h3 id="fact_actividadescontenedor-de-bucles-for-1afiliacion-mensual-beneficiarios"><strong><code>FACT_ACTIVIDADES\\Contenedor de bucles For 1\\Afiliacion mensual Beneficiarios</code></strong><a class="headerlink" href="#fact_actividadescontenedor-de-bucles-for-1afiliacion-mensual-beneficiarios" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\Contenedor de bucles For 1\\Afiliacion mensual Beneficiarios</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong>, que pertenece al paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente desempeña un papel clave en el proceso ETL (Extracción, Transformación y Carga) al procesar datos de afiliación mensual de beneficiarios de manera eficiente mediante un contenedor de bucle For. A continuación, se explica su propósito, funcionamiento y relevancia.</p>
<hr />
<h4 id="que-hace-este-componente"><strong>¿Qué hace este componente?</strong><a class="headerlink" href="#que-hace-este-componente" title="Permanent link">&para;</a></h4>
<p>Este componente está diseñado para:</p>
<ol>
<li><strong>Iterar sobre periodos</strong>: Utiliza un contenedor de bucle For en SSIS para recorrer una serie de periodos, probablemente meses, de manera secuencial.</li>
<li><strong>Procesar datos por periodo</strong>: Para cada iteración, extrae, transforma y carga los datos de afiliación de beneficiarios correspondientes al periodo actual.</li>
<li><strong>Almacenar resultados</strong>: Inserta los datos procesados en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong>, que forma parte del Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>, para su uso en análisis multidimensionales.</li>
</ol>
<p>El enfoque basado en bucles permite manejar grandes volúmenes de datos dividiéndolos en unidades más pequeñas (por ejemplo, un mes a la vez), lo que mejora la eficiencia y facilita la carga incremental.</p>
<hr />
<h4 id="ubicacion-dentro-del-paquete-ssis"><strong>Ubicación dentro del paquete SSIS</strong><a class="headerlink" href="#ubicacion-dentro-del-paquete-ssis" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete</strong>: <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de datos</strong>: <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Contenedor</strong>: <strong><code>Contenedor de bucles For 1</code></strong></li>
<li><strong>Tarea específica</strong>: <strong><code>Afiliacion mensual Beneficiarios</code></strong></li>
</ul>
<p>Este componente opera dentro de un flujo de datos más amplio que alimenta la tabla <strong><code>FACT_ACTIVIDADES</code></strong>.</p>
<hr />
<h4 id="funcionamiento-detallado"><strong>Funcionamiento detallado</strong><a class="headerlink" href="#funcionamiento-detallado" title="Permanent link">&para;</a></h4>
<p>El componente sigue un proceso estructurado:</p>
<ol>
<li>
<p><strong>Configuración del bucle For</strong>:</p>
<ul>
<li>Se define una variable (por ejemplo, <code>MesActual</code>) que se actualiza en cada iteración para representar el periodo procesado.</li>
<li>El bucle recorre una lista predefinida de meses o periodos.</li>
</ul>
</li>
<li>
<p><strong>Extracción</strong>:</p>
<ul>
<li>Para cada iteración, se extraen datos de afiliación de beneficiarios desde una fuente (como una base de datos origen), filtrados por el periodo actual.</li>
</ul>
</li>
<li>
<p><strong>Transformación</strong>:</p>
<ul>
<li><strong>Columna derivada</strong>: Se generan columnas calculadas necesarias para la tabla de hechos.</li>
<li><strong>Búsqueda (Lookup)</strong>: Los datos se vinculan con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> para asignar claves foráneas (por ejemplo, <code>ID_MES</code>).</li>
<li><strong>Agregación</strong>: Si es necesario, se calculan métricas como el número total de beneficiarios afiliados por mes.</li>
</ul>
</li>
<li>
<p><strong>Carga</strong>:</p>
<ul>
<li>Los datos transformados se insertan en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong> mediante un componente <em>OLE DB Destination</em>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="importancia-en-el-proceso-etl"><strong>Importancia en el proceso ETL</strong><a class="headerlink" href="#importancia-en-el-proceso-etl" title="Permanent link">&para;</a></h4>
<p>El uso de un contenedor de bucle For en este componente aporta varios beneficios:</p>
<ul>
<li><strong>Eficiencia</strong>: Divide el procesamiento de grandes volúmenes de datos en partes manejables.</li>
<li><strong>Flexibilidad</strong>: Permite incorporar nuevos periodos sin cambiar la lógica principal del flujo.</li>
<li><strong>Escalabilidad</strong>: Facilita la gestión de datos históricos o actuales de manera incremental.</li>
</ul>
<p>Además, asegura que los datos en <strong><code>FACT_ACTIVIDADES</code></strong> estén correctamente vinculados a dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong>, manteniendo la integridad y consistencia necesarias para análisis posteriores.</p>
<hr />
<h4 id="relacion-con-otros-componentes_4"><strong>Relación con otros componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Dependencias</strong>: Requiere que la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> esté cargada previamente para asociar los datos con los periodos correctos.</li>
<li><strong>Secuencia</strong>: Se ejecuta después de la carga de dimensiones y antes de tareas que utilicen los datos de <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
</ul>
<p>El componente <strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PQRS</code></strong> forma parte de un paquete SSIS (SQL Server Integration Services), específicamente el paquete <strong><code>09-ETLS_CUBO</code></strong>, y está relacionado con un proceso ETL (Extract, Transform, Load) diseñado para cargar datos en un Data Warehouse, probablemente <strong><code>DWH_COMFENALCO</code></strong>. A continuación, te explico de manera detallada qué es y cuál es su propósito.</p>
<hr />
<h3 id="fact_actividadesfact_actividades_pqrs"><strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PQRS</code></strong><a class="headerlink" href="#fact_actividadesfact_actividades_pqrs" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>FACT_ACTIVIDADES_PQRS</code></strong>: La parte <strong><code>_PQRS</code></strong>, este componente se enfoca en un subconjunto específico de datos dentro de <strong><code>FACT_ACTIVIDADES</code></strong>, relacionado con "Peticiones, Quejas, Reclamos y Sugerencias" (PQRS), un término común en la gestión de servicios o atención al cliente.</li>
</ul>
<hr />
<h4 id="proposito-del-componente"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PQRS</code></strong> tiene como objetivo principal procesar datos relacionados con PQRS dentro del flujo ETL. Sus funciones específicas son:</p>
<ol>
<li><strong>Extracción</strong>: Obtiene datos de PQRS desde una fuente de origen, que podría ser una base de datos operativa, un archivo plano u otro sistema donde se registren estas interacciones.</li>
<li><strong>Transformación</strong>: Prepara los datos para que se ajusten al esquema de la tabla <strong><code>FACT_ACTIVIDADES</code></strong>. Esto puede incluir:<ul>
<li>Cálculo de medidas, como el número de PQRS por periodo o tipo.</li>
<li>Mapeo de claves foráneas a tablas de dimensiones (por ejemplo, tiempo, cliente o tipo de actividad).</li>
<li>Limpieza y normalización de datos.</li>
</ul>
</li>
<li><strong>Carga</strong>: Inserta los datos transformados en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong>, específicamente en registros relacionados con actividades de PQRS.</li>
</ol>
<hr />
<h4 id="implementacion-en-ssis"><strong>Implementación en SSIS</strong><a class="headerlink" href="#implementacion-en-ssis" title="Permanent link">&para;</a></h4>
<p>En el contexto de SSIS, <strong><code>FACT_ACTIVIDADES_PQRS</code></strong> es probablemente una <strong>tarea de flujo de datos</strong> dentro del paquete. Esta tarea incluiría:</p>
<ul>
<li><strong>Origen de Datos</strong>: Un componente como <em>OLE DB Source</em> o <em>ADO NET Source</em>, configurado con una consulta SQL que extrae datos de PQRS. Por ejemplo, podría filtrar registros donde el tipo de actividad sea "PQRS".</li>
<li><strong>Transformaciones</strong>: Algunas transformaciones comunes podrían ser:<ul>
<li><em>Derived Column</em>: Para crear o modificar columnas.</li>
<li><em>Lookup</em>: Para vincular los datos con claves foráneas de dimensiones.</li>
<li><em>Data Conversion</em>: Para ajustar tipos de datos.</li>
<li><em>Aggregate</em>: Para realizar cálculos, como sumar el número de PQRS.</li>
</ul>
</li>
<li><strong>Destino</strong>: Un componente como <em>OLE DB Destination</em> que carga los datos en <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong>.</li>
</ul>
<hr />
<h4 id="relacion-con-el-paquete"><strong>Relación con el Paquete</strong><a class="headerlink" href="#relacion-con-el-paquete" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Dependencias</strong>: Este componente depende de que las tablas de dimensiones (como tiempo, clientes o tipos de actividad) estén cargadas previamente, ya que necesita sus claves foráneas.</li>
<li><strong>Secuencia</strong>: En el paquete <strong><code>09-ETLS_CUBO</code></strong>, se ejecutaría después de las tareas que cargan las dimensiones y antes de cualquier tarea que use los datos de <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
</ul>
<hr />
<h4 id="importancia_1"><strong>Importancia</strong><a class="headerlink" href="#importancia_1" title="Permanent link">&para;</a></h4>
<p>Este componente es clave para:
- <strong>Centralización</strong>: Reúne datos de PQRS en una tabla de hechos para análisis multidimensionales.
- <strong>Análisis</strong>: Proporciona datos estructurados para reportes y dashboards sobre calidad de servicio o satisfacción del cliente.
- <strong>Integridad</strong>: Asegura que los datos de PQRS estén correctamente vinculados a las dimensiones para análisis precisos.</p>
<h3 id="fact_actividadesfact_actividades_nps"><strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_NPS</code></strong><a class="headerlink" href="#fact_actividadesfact_actividades_nps" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_NPS</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong>, que pertenece al paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Su función principal es procesar y cargar datos relacionados con el <strong>Net Promoter Score (NPS)</strong> en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. Este componente forma parte de un proceso ETL (Extracción, Transformación y Carga) diseñado para analizar la satisfacción y lealtad del cliente.</p>
<hr />
<h4 id="que-es-el-nps"><strong>¿Qué es el NPS?</strong><a class="headerlink" href="#que-es-el-nps" title="Permanent link">&para;</a></h4>
<p>El <strong>Net Promoter Score (NPS)</strong> es una métrica que mide la lealtad y satisfacción de los clientes basada en una pregunta clave: "¿Qué tan probable es que recomiende nuestro servicio/producto a un amigo o colega?" Los clientes responden en una escala de 0 a 10 y se clasifican en tres categorías:</p>
<ul>
<li><strong>Promotores</strong> (9-10): Clientes leales y entusiastas.</li>
<li><strong>Pasivos</strong> (7-8): Clientes satisfechos pero indiferentes.</li>
<li><strong>Detractores</strong> (0-6): Clientes insatisfechos que podrían dañar la reputación.</li>
</ul>
<p>El cálculo del NPS se realiza con la fórmula:<br />
<strong>NPS = (% Promotores) - (% Detractores)</strong>.</p>
<hr />
<h4 id="proposito-del-componente_1"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_1" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_ACTIVIDADES_NPS</code></strong> tiene como objetivo:</p>
<ol>
<li><strong>Extraer</strong>: Obtener datos de encuestas NPS desde una fuente de origen, como una tabla <em>staging</em> o una vista.</li>
<li><strong>Transformar</strong>: Procesar las respuestas para clasificarlas en promotores, pasivos y detractores, y calcular el NPS por periodo, empresa o servicio.</li>
<li><strong>Cargar</strong>: Insertar las métricas calculadas en la tabla <strong><code>FACT_ACTIVIDADES</code></strong> para su uso en análisis multidimensionales.</li>
</ol>
<p>Esto permite a la organización evaluar la experiencia del cliente y tomar decisiones basadas en datos.</p>
<hr />
<h4 id="ubicacion"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS</strong>: <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos</strong>: <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Componente</strong>: <strong><code>FACT_ACTIVIDADES_NPS</code></strong></li>
</ul>
<hr />
<h4 id="implementacion"><strong>Implementación</strong><a class="headerlink" href="#implementacion" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos</strong>:<br />
   Los datos se extraen de una fuente que contiene respuestas de encuestas NPS, como una base de datos transaccional o una tabla temporal.</p>
</li>
<li>
<p><strong>Transformaciones</strong>:  </p>
<ul>
<li><strong>Clasificación</strong>: Se asignan las respuestas a las categorías de promotores (9-10), pasivos (7-8) y detractores (0-6).  </li>
<li><strong>Cálculo</strong>: Se agregan las respuestas para determinar el número de promotores, pasivos y detractores, y se calcula el NPS.  </li>
<li><strong>Vinculación</strong>: Se conectan los datos con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> o <strong><code>DIM_EMPRESA</code></strong> para asociar las métricas con claves foráneas (e.g., <code>ID_MES</code>, <code>ID_EMPRESA</code>).</li>
</ul>
</li>
<li>
<p><strong>Destino</strong>:<br />
   Los resultados se insertan en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong> utilizando un componente <em>OLE DB Destination</em>.</p>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_3"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Clasificación</strong>:  <ul>
<li>Promotores: Puntuaciones 9-10.  </li>
<li>Pasivos: Puntuaciones 7-8.  </li>
<li>Detractores: Puntuaciones 0-6.  </li>
</ul>
</li>
<li><strong>Cálculo del NPS</strong>:  <ul>
<li><code>% Promotores = (Número de Promotores / Total de Respuestas) * 100</code>  </li>
<li><code>% Detractores = (Número de Detractores / Total de Respuestas) * 100</code>  </li>
<li><code>NPS = % Promotores - % Detractores</code>  </li>
</ul>
</li>
<li><strong>Agrupación</strong>: Las métricas se calculan por grupos relevantes, como mes o empresa.</li>
</ul>
<hr />
<h4 id="importancia_2"><strong>Importancia</strong><a class="headerlink" href="#importancia_2" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_ACTIVIDADES_NPS</code></strong> es esencial porque:<br />
- Proporciona métricas clave sobre la satisfacción y lealtad del cliente.<br />
- Permite identificar tendencias y áreas de mejora.<br />
- Facilita comparaciones entre periodos o empresas.<br />
- Alimenta el cubo OLAP para análisis avanzados.</p>
<h3 id="fact_actividadesfact_actividades_proteccion"><strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PROTECCION</code></strong><a class="headerlink" href="#fact_actividadesfact_actividades_proteccion" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_PROTECCION</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong>, que forma parte del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente está diseñado para procesar y cargar datos relacionados con actividades de <strong>protección</strong> en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su propósito, implementación y relevancia en el contexto del proceso ETL.</p>
<hr />
<h4 id="que-significa-proteccion-en-este-contexto"><strong>¿Qué significa "Protección" en este contexto?</strong><a class="headerlink" href="#que-significa-proteccion-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>El término <strong>"Protección"</strong> podría referirse a actividades específicas gestionadas por COMFENALCO (una caja de compensación familiar en Colombia), como:</p>
<ul>
<li>Servicios de seguridad social (por ejemplo, protección laboral o beneficios asociados).</li>
<li>Programas de asistencia o cobertura para afiliados y beneficiarios.</li>
<li>Actividades relacionadas con la gestión de riesgos o protección de datos.</li>
</ul>
<p>Dado que no se proporciona un contexto explícito, asumiré que se trata de un subconjunto de datos dentro de <strong><code>FACT_ACTIVIDADES</code></strong> que mide o registra actividades relacionadas con algún tipo de servicio o programa de protección.</p>
<hr />
<h4 id="proposito-del-componente_2"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_2" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_ACTIVIDADES_PROTECCION</code></strong> tiene como objetivo:</p>
<ol>
<li><strong>Extraer</strong>: Obtener datos relacionados con actividades de protección desde una fuente de origen, como una base de datos operativa o una tabla <em>staging</em>.</li>
<li><strong>Transformar</strong>: Procesar los datos para calcular métricas relevantes (por ejemplo, número de beneficiarios protegidos, eventos registrados, o costos asociados) y vincularlos a dimensiones.</li>
<li><strong>Cargar</strong>: Insertar los datos transformados en la tabla <strong><code>FACT_ACTIVIDADES</code></strong> para su uso en análisis multidimensionales dentro del cubo OLAP.</li>
</ol>
<p>Este componente permite analizar cómo se desempeñan los servicios o programas de protección en términos de cobertura, impacto o uso.</p>
<hr />
<h4 id="ubicacion_1"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS</strong>: <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos</strong>: <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Componente</strong>: <strong><code>FACT_ACTIVIDADES_PROTECCION</code></strong></li>
</ul>
<hr />
<h4 id="implementacion_1"><strong>Implementación</strong><a class="headerlink" href="#implementacion_1" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos</strong>:  </p>
<ul>
<li>Los datos se extraen de una fuente que contiene información sobre actividades de protección, como una tabla transaccional o una vista específica.</li>
</ul>
</li>
<li>
<p><strong>Transformaciones</strong>:  </p>
<ul>
<li><strong>Derived Column</strong>: Genera columnas calculadas o ajusta datos según sea necesario (por ejemplo, categorizar tipos de protección).  </li>
<li><strong>Lookup</strong>: Vincula los datos con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> (para el periodo) o una dimensión de empresas/afiliados (para identificar quién recibe la protección).  </li>
<li><strong>Aggregate</strong>: Calcula métricas como el número total de eventos de protección o beneficiarios cubiertos por periodo.</li>
</ul>
</li>
<li>
<p><strong>Destino</strong>:  </p>
<ul>
<li>Los datos procesados se insertan en <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong> mediante un componente <em>OLE DB Destination</em>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_4"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Métricas</strong>:  <ul>
<li>Número de beneficiarios protegidos por mes.  </li>
<li>Cantidad de eventos o actividades de protección registradas.  </li>
<li>Costos asociados (si aplica).  </li>
</ul>
</li>
<li><strong>Vinculación</strong>:  <ul>
<li>Cada registro se asocia con claves foráneas de dimensiones relevantes, como <code>ID_MES</code> (de <strong><code>DIM_TIEMPO_MENSUAL</code></strong>) o <code>ID_EMPRESA</code>.  </li>
</ul>
</li>
<li><strong>Consistencia</strong>: Asegura que los datos sean precisos y estén alineados con las necesidades del cubo OLAP.</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_5"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_5" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Dependencias</strong>: Requiere que las dimensiones relevantes (como <strong><code>DIM_TIEMPO_MENSUAL</code></strong>) estén cargadas previamente.  </li>
<li><strong>Secuencia</strong>: Se ejecuta después de la carga de dimensiones y antes de tareas que consuman los datos de <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
</ul>
<hr />
<h4 id="importancia_3"><strong>Importancia</strong><a class="headerlink" href="#importancia_3" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_ACTIVIDADES_PROTECCION</code></strong> es clave para:<br />
- <strong>Monitoreo</strong>: Permite rastrear el desempeño de los programas o servicios de protección.<br />
- <strong>Toma de decisiones</strong>: Proporciona datos para evaluar la efectividad o el alcance de estas actividades.<br />
- <strong>Análisis multidimensional</strong>: Enriquece el cubo OLAP con información específica sobre protección, útil para reportes y dashboards.</p>
<h3 id="fact_actividadesfact_actividades_cedesarrollo"><strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_CEDESARROLLO</code></strong><a class="headerlink" href="#fact_actividadesfact_actividades_cedesarrollo" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_CEDESARROLLO</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong>, que pertenece al paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente está diseñado para procesar y cargar datos relacionados con actividades de <strong>CEDESARROLLO</strong> en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su propósito, implementación y relevancia dentro del proceso ETL.</p>
<hr />
<h4 id="que-significa-cedesarrollo-en-este-contexto"><strong>¿Qué significa "CEDESARROLLO" en este contexto?</strong><a class="headerlink" href="#que-significa-cedesarrollo-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>El término <strong>"CEDESARROLLO"</strong> no tiene una definición universalmente clara sin contexto adicional, pero en el ámbito de COMFENALCO (una caja de compensación familiar en Colombia), podría referirse a:</p>
<ul>
<li><strong>Centros de Desarrollo</strong>: Actividades relacionadas con centros de formación, capacitación o desarrollo profesional/communityario.</li>
<li><strong>Programas Específicos</strong>: Un programa o iniciativa interna de COMFENALCO enfocada en desarrollo social, educativo o económico.</li>
<li><strong>Acrónimo</strong>: Podría ser una abreviatura de un nombre más largo (por ejemplo, "Centro de Desarrollo").</li>
</ul>
<p>Dado que estamos trabajando con un <em>Data Warehouse</em> y un cubo OLAP, asumiremos que <strong>CEDESARROLLO</strong> se refiere a un tipo de actividad específica (como cursos, talleres o servicios de desarrollo) que se mide y analiza.</p>
<hr />
<h4 id="proposito-del-componente_3"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_3" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_ACTIVIDADES_CEDESARROLLO</code></strong> tiene como objetivo:</p>
<ol>
<li><strong>Extraer</strong>: Obtener datos relacionados con actividades de CEDESARROLLO desde una fuente de origen, como una base de datos operativa o una tabla <em>staging</em>.</li>
<li><strong>Transformar</strong>: Procesar los datos para calcular métricas relevantes (por ejemplo, número de participantes, eventos realizados, o impacto) y vincularlos a dimensiones.</li>
<li><strong>Cargar</strong>: Insertar los datos transformados en la tabla <strong><code>FACT_ACTIVIDADES</code></strong> para su uso en análisis multidimensionales dentro del cubo OLAP.</li>
</ol>
<p>Esto permite medir y analizar el desempeño o impacto de las actividades de CEDESARROLLO en el contexto de COMFENALCO.</p>
<hr />
<h4 id="ubicacion_2"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS</strong>: <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos</strong>: <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Componente</strong>: <strong><code>FACT_ACTIVIDADES_CEDESARROLLO</code></strong></li>
</ul>
<hr />
<h4 id="implementacion_2"><strong>Implementación</strong><a class="headerlink" href="#implementacion_2" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos</strong>:  </p>
<ul>
<li>Los datos se extraen de una fuente que contiene información sobre actividades de CEDESARROLLO, como una tabla transaccional o una vista específica.</li>
</ul>
</li>
<li>
<p><strong>Transformaciones</strong>:  </p>
<ul>
<li><strong>Derived Column</strong>: Genera columnas calculadas o ajusta datos según sea necesario (por ejemplo, categorizar tipos de actividades de desarrollo).  </li>
<li><strong>Lookup</strong>: Vincula los datos con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> (para el periodo) o una dimensión de empresas/participantes (para identificar quién participa).  </li>
<li><strong>Aggregate</strong>: Calcula métricas como el número total de eventos, participantes o resultados por periodo.</li>
</ul>
</li>
<li>
<p><strong>Destino</strong>:  </p>
<ul>
<li>Los datos procesados se insertan en <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong> mediante un componente <em>OLE DB Destination</em>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_5"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_5" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Métricas</strong>:  <ul>
<li>Número de participantes en actividades de CEDESARROLLO por mes.  </li>
<li>Cantidad de eventos o talleres realizados.  </li>
<li>Indicadores de impacto (si aplica, como horas de capacitación).  </li>
</ul>
</li>
<li><strong>Vinculación</strong>:  <ul>
<li>Cada registro se asocia con claves foráneas de dimensiones relevantes, como <code>ID_MES</code> (de <strong><code>DIM_TIEMPO_MENSUAL</code></strong>) o <code>ID_EMPRESA</code>.  </li>
</ul>
</li>
<li><strong>Consistencia</strong>: Asegura que los datos sean precisos y estén alineados con las necesidades del cubo OLAP.</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_6"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_6" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Dependencias</strong>: Requiere que las dimensiones relevantes (como <strong><code>DIM_TIEMPO_MENSUAL</code></strong>) estén cargadas previamente.  </li>
<li><strong>Secuencia</strong>: Se ejecuta después de la carga de dimensiones y antes de tareas que consuman los datos de <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
</ul>
<hr />
<h4 id="importancia_4"><strong>Importancia</strong><a class="headerlink" href="#importancia_4" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_ACTIVIDADES_CEDESARROLLO</code></strong> es clave para:<br />
- <strong>Monitoreo</strong>: Permite rastrear el desempeño de las actividades de desarrollo.<br />
- <strong>Toma de decisiones</strong>: Proporciona datos para evaluar la efectividad o el alcance de estas iniciativas.<br />
- <strong>Análisis multidimensional</strong>: Enriquece el cubo OLAP con información específica sobre CEDESARROLLO, útil para reportes y dashboards.</p>
<h3 id="fact_actividadesfact_actividades_colegio"><strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_COLEGIO</code></strong><a class="headerlink" href="#fact_actividadesfact_actividades_colegio" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\FACT_ACTIVIDADES_COLEGIO</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong>, que pertenece al paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente está diseñado para procesar y cargar datos relacionados con actividades de <strong>colegio</strong> en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su propósito, implementación y relevancia en el contexto del proceso ETL.</p>
<hr />
<h4 id="que-significa-colegio-en-este-contexto"><strong>¿Qué significa "COLEGIO" en este contexto?</strong><a class="headerlink" href="#que-significa-colegio-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En el ámbito de COMFENALCO, una caja de compensación familiar en Colombia, <strong>"COLEGIO"</strong> probablemente se refiere a actividades asociadas con instituciones educativas gestionadas o apoyadas por la entidad. Esto podría incluir:</p>
<ul>
<li>Matriculación de estudiantes.</li>
<li>Participación en actividades educativas o extracurriculares.</li>
<li>Métricas relacionadas con el desempeño escolar o asistencia.</li>
<li>Programas educativos específicos para afiliados o beneficiarios.</li>
</ul>
<p>Dado que estamos en un <em>Data Warehouse</em> y un cubo OLAP, este componente se enfoca en medir y analizar actividades relacionadas con el ámbito escolar.</p>
<hr />
<h4 id="proposito-del-componente_4"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_4" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_ACTIVIDADES_COLEGIO</code></strong> tiene como objetivo:</p>
<ol>
<li><strong>Extraer</strong>: Obtener datos relacionados con actividades de colegio desde una fuente de origen, como una base de datos operativa o una tabla <em>staging</em>.</li>
<li><strong>Transformar</strong>: Procesar los datos para calcular métricas relevantes (por ejemplo, número de estudiantes matriculados, eventos escolares realizados, o asistencia) y vincularlos a dimensiones.</li>
<li><strong>Cargar</strong>: Insertar los datos transformados en la tabla <strong><code>FACT_ACTIVIDADES</code></strong> para su uso en análisis multidimensionales dentro del cubo OLAP.</li>
</ol>
<p>Esto permite evaluar el impacto y el desempeño de las actividades educativas en el contexto de COMFENALCO.</p>
<hr />
<h4 id="ubicacion_3"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS</strong>: <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos</strong>: <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Componente</strong>: <strong><code>FACT_ACTIVIDADES_COLEGIO</code></strong></li>
</ul>
<hr />
<h4 id="implementacion_3"><strong>Implementación</strong><a class="headerlink" href="#implementacion_3" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos</strong>:  </p>
<ul>
<li>Los datos se extraen de una fuente que contiene información sobre actividades escolares, como una tabla transaccional o una vista específica.</li>
</ul>
</li>
<li>
<p><strong>Transformaciones</strong>:  </p>
<ul>
<li><strong>Derived Column</strong>: Genera columnas calculadas o ajusta datos según sea necesario (por ejemplo, categorizar tipos de actividades escolares).  </li>
<li><strong>Lookup</strong>: Vincula los datos con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong> (para el periodo) o una dimensión de colegios/estudiantes (para identificar participantes).  </li>
<li><strong>Aggregate</strong>: Calcula métricas como el número total de estudiantes, eventos escolares o asistencia por periodo.</li>
</ul>
</li>
<li>
<p><strong>Destino</strong>:  </p>
<ul>
<li>Los datos procesados se insertan en <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong> mediante un componente <em>OLE DB Destination</em>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_6"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_6" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Métricas</strong>:  <ul>
<li>Número de estudiantes matriculados por mes o año escolar.  </li>
<li>Cantidad de actividades o eventos escolares realizados.  </li>
<li>Indicadores de asistencia o participación (si aplica).  </li>
</ul>
</li>
<li><strong>Vinculación</strong>:  <ul>
<li>Cada registro se asocia con claves foráneas de dimensiones relevantes, como <code>ID_MES</code> (de <strong><code>DIM_TIEMPO_MENSUAL</code></strong>) o <code>ID_COLEGIO</code>.  </li>
</ul>
</li>
<li><strong>Consistencia</strong>: Asegura que los datos sean precisos y estén alineados con las necesidades del cubo OLAP.</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_7"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_7" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Dependencias</strong>: Requiere que las dimensiones relevantes (como <strong><code>DIM_TIEMPO_MENSUAL</code></strong>) estén cargadas previamente.  </li>
<li><strong>Secuencia</strong>: Se ejecuta después de la carga de dimensiones y antes de tareas que consuman los datos de <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
</ul>
<h3 id="fact_actividadescontenedor-de-bucles-for-1-1aportes-totales"><strong><code>FACT_ACTIVIDADES\\Contenedor de bucles For 1 1\\Aportes Totales</code></strong><a class="headerlink" href="#fact_actividadescontenedor-de-bucles-for-1-1aportes-totales" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_ACTIVIDADES\\Contenedor de bucles For 1 1\\Aportes Totales</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_ACTIVIDADES</code></strong>, que pertenece al paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente está diseñado para procesar y cargar datos relacionados con los aportes realizados en la tabla de hechos <strong><code>FACT_ACTIVIDADES</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su propósito, implementación y relevancia en el contexto del proceso ETL.</p>
<hr />
<h4 id="que-significa-aportes-totales-en-este-contexto"><strong>¿Qué significa "Aportes Totales" en este contexto?</strong><a class="headerlink" href="#que-significa-aportes-totales-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En el ámbito de COMFENALCO, <strong>"Aportes Totales"</strong> se refiere a la consolidación de los aportes económicos realizados por afiliados, los cuales se agrupan por empresa, afiliado y mes. Este componente se encarga de sumar los aportes individuales, contar el número de aportes y, adicionalmente, determinar si los afiliados pertenecen a la población educativa, lo que permite un análisis multidimensional preciso dentro del cubo OLAP.</p>
<hr />
<h4 id="proposito-del-componente_5"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_5" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Aportes Totales</code></strong> tiene como objetivo:</p>
<ol>
<li>
<p><strong>Extraer:</strong>  </p>
<ul>
<li>Obtener los registros de aportes desde la tabla fuente <strong><code>[DWH_COMFENALCO].[Aportes].[FACT_APORTES_SHR_DET]</code></strong> y relacionarlos con la dimensión temporal <strong><code>DIM_TIEMPO_MENSUAL</code></strong> mediante una condición de fecha.</li>
</ul>
</li>
<li>
<p><strong>Transformar:</strong>  </p>
<ul>
<li>Agregar y consolidar los datos de aportes, calculando la suma total de aportes y el número de aportes (conteo) para cada combinación de empresa, afiliado y mes.</li>
<li>Determinar, mediante expresiones condicionales, si el afiliado pertenece a la población educativa, a partir de información adicional proveniente de la tabla <strong><code>FACT_ACTIVIDADES</code></strong>.</li>
<li>Integrar datos de afiliación (como PARTNER_AFILIADO y PARTNER_EMPRESA) a través de una unión con un conjunto de datos derivado (CTE partnerTable).</li>
</ul>
</li>
<li>
<p><strong>Cargar:</strong>  </p>
<ul>
<li>Insertar los datos transformados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong> utilizando un componente <em>OLE DB Destination</em>, asegurando el correcto mapeo de columnas y la integración con las dimensiones existentes.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_4"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos:</strong> <strong><code>FACT_ACTIVIDADES</code></strong></li>
<li><strong>Componente:</strong> <strong><code>FACT_ACTIVIDADES\\Contenedor de bucles For 1 1\\Aportes Totales</code></strong></li>
</ul>
<hr />
<h4 id="implementacion_4"><strong>Implementación</strong><a class="headerlink" href="#implementacion_4" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos:</strong><br />
   Se utiliza un componente <em>OLE DB Source</em> para extraer los registros desde la tabla <strong><code>[DWH_COMFENALCO].[Aportes].[FACT_APORTES_SHR_DET]</code></strong>. La extracción se realiza mediante una consulta SQL que:</p>
<ul>
<li>Calcula el primer día del mes a partir de la columna <code>FECHA_CONTABLE</code> y lo convierte en el formato adecuado (ID_FECHA).</li>
<li>Filtra los datos según un mes específico, determinado por la variable de iteración <code>@VarTime</code> y la variable calculada <code>@MesFiltrado</code>.</li>
</ul>
</li>
<li>
<p><strong>Transformaciones:</strong><br />
   La consulta SQL del componente realiza las siguientes operaciones:</p>
<ul>
<li><strong>Declaración de Variables y Cálculo del Mes a Filtrar:</strong><br />
 Se declara la variable <code>@MinMes</code> para obtener el mínimo mes registrado y se define <code>@VarTime</code> (proporcionado como parámetro de iteración) para calcular el mes a filtrar (<code>@MesFiltrado</code>).</li>
<li><strong>CTE Aportes_Total:</strong><br />
 Se agrupan los aportes por <code>ID_EMPRESA</code>, <code>ID_AFILIADO</code>, y el mes (convertido a formato de fecha y string), calculando:<ul>
<li><code>TOTAL_APORTES</code>: La suma de los aportes.</li>
<li><code>NUMERO_APORTES</code>: El conteo de aportes.</li>
<li>Se asigna la constante 'APORTES' en la columna <code>ACTIVIDAD</code>.</li>
</ul>
</li>
<li><strong>CTE Poblacion_Educacion_Mes, AfiliadosMes y AfiliadosEducacionMes:</strong><br />
 Se extraen datos para identificar la población educativa y filtrar los afiliados que pertenecen a este grupo.</li>
<li><strong>CTE consulta y partnerTable:</strong><br />
 Se realiza una unión para determinar, mediante una condición CASE, si el afiliado forma parte de la población educativa (<code>POBLACION_EDUCACION</code>) y se integran los datos de PARTNER_AFILIADO y PARTNER_EMPRESA.</li>
<li><strong>Selección Final:</strong><br />
 Se obtienen todos los campos relevantes, aplicando la función <code>COALESCE</code> para asignar valores predeterminados a PARTNER_AFILIADO y PARTNER_EMPRESA si no existen registros asociados.</li>
</ul>
</li>
<li>
<p><strong>Destino:</strong><br />
   El componente <em>Destino de ADO NET</em> se encarga de insertar los datos procesados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_ACTIVIDADES]</code></strong>. Se realiza el mapeo de las columnas de salida del OLE DB Source con las columnas de la tabla de destino, incluyendo:</p>
<ul>
<li>Identificadores (como <code>ID_EMPRESA</code>, <code>ID_AFILIADO</code>, <code>ID_FECHA</code>).</li>
<li>Datos agregados (<code>TOTAL_APORTES</code>, <code>NUMERO_APORTES</code>).</li>
<li>Campos adicionales derivados de la transformación (por ejemplo, <code>ACTIVIDAD</code>, <code>POBLACION_EDUCACION</code>).</li>
</ul>
</li>
<li>
<p><strong>Código SQL Utilizado:</strong><br />
   La siguiente es la instrucción SQL que se ejecuta en el componente <em>OLE DB Source</em>:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">MinMes</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>

<span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="o">@</span><span class="n">MinMes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">FECHA_CONTABLE</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span>
<span class="k">FROM</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Aportes</span><span class="p">].[</span><span class="n">FACT_APORTES_SHR_DET</span><span class="p">]</span><span class="w"> </span><span class="n">a</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">t</span>
<span class="k">ON</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">FECHA_CONTABLE</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">t</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">)</span>

<span class="w"> </span><span class="c1">-- Paso 2: Declarar la variable para determinar el mes</span>
<span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">VarTime</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Ajusta este valor según la iteración que quieras filtrar</span>

<span class="w"> </span><span class="c1">-- Calcular el mes a filtrar basado en @VarTime</span>
<span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">MesFiltrado</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="n">FORMAT</span><span class="p">(</span><span class="n">DATEADD</span><span class="p">(</span><span class="k">MONTH</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">VarTime</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">MinMes</span><span class="p">)),</span><span class="w"> </span><span class="s1">&#39;yyyyMM&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">);</span>

<span class="w"> </span><span class="c1">--SELECT @MesFiltrado AS MinID_FECHA;</span>

<span class="k">WITH</span><span class="w"> </span><span class="n">Aportes_Total</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">a</span><span class="p">.[</span><span class="n">BP_EMPRESA</span><span class="p">],</span><span class="s1">&#39;0000000000&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;PARTNER&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_EMPRESA</span><span class="p">],</span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">],</span>
<span class="w">    </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">FECHA_CONTABLE</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">    </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">FECHA_CONTABLE</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">APORTE</span><span class="p">]))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TOTAL_APORTES</span><span class="p">,</span>
<span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="n">a</span><span class="p">.[</span><span class="n">APORTE</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUMERO_APORTES</span><span class="p">,</span>
<span class="w">    </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">a</span><span class="p">.[</span><span class="n">BP_EMPRESA</span><span class="p">],</span><span class="s1">&#39;0000000000&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">BP_EMPRESA</span><span class="p">,</span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">BP_AFILIADO</span><span class="p">],</span>
<span class="w">    </span><span class="s1">&#39;APORTES&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span>
<span class="k">FROM</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Aportes</span><span class="p">].[</span><span class="n">FACT_APORTES_SHR_DET</span><span class="p">]</span><span class="w"> </span><span class="n">a</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">t</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">FECHA_CONTABLE</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">t</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">)</span>
<span class="k">WHERE</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">FECHA_CONTABLE</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">MesFiltrado</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_EMPRESA</span><span class="p">],</span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">],</span>
<span class="w">    </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">FECHA_CONTABLE</span><span class="p">],</span><span class="w"> </span><span class="mi">112</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">BP_EMPRESA</span><span class="p">],</span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">BP_AFILIADO</span><span class="p">]),</span>
<span class="n">Poblacion_Educacion_Mes</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span>
<span class="w">      </span><span class="p">[</span><span class="n">ID_FECHA</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="n">PARTNER</span><span class="p">]</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_ACTIVIDADES</span><span class="p">]</span>
<span class="w">  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;AFILIACION&#39;</span><span class="p">),</span>
<span class="n">AfiliadosMes</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span>
<span class="w">      </span><span class="p">[</span><span class="n">ID_FECHA</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="n">PARTNER</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="n">PARTNER_AFILIADO</span><span class="p">]</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_ACTIVIDADES</span><span class="p">]</span>
<span class="w">  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;AFILIACION&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">PARTNER_AFILIADO</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">),</span>
<span class="n">AfiliadosEducacionMes</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="n">am</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">],</span>
<span class="w">    </span><span class="n">am</span><span class="p">.[</span><span class="n">PARTNER_AFILIADO</span><span class="p">]</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">AfiliadosMes</span><span class="w"> </span><span class="n">am</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">Poblacion_Educacion_Mes</span><span class="w"> </span><span class="n">pem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">am</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pem</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">]</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">am</span><span class="p">.</span><span class="n">PARTNER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pem</span><span class="p">.</span><span class="n">PARTNER</span>
<span class="p">),</span>
<span class="n">consulta</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">ap</span><span class="p">.</span><span class="o">*</span><span class="p">,</span><span class="w">  </span>
<span class="w">      </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">aem</span><span class="p">.</span><span class="n">PARTNER_AFILIADO</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;NO&#39;</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;SI&#39;</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">POBLACION_EDUCACION</span><span class="p">,</span>
<span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PERTENENCIA_ETNICA</span><span class="p">,</span>
<span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_GENERO</span><span class="p">,</span>
<span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FACTOR_VULNERABILIDAD</span><span class="p">,</span>
<span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ESTADO_CIVIL</span><span class="p">,</span>
<span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_TARIFA</span><span class="p">,</span>
<span class="w">       </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CATEGORIA</span><span class="p">,</span>
<span class="w">      </span><span class="mi">5</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">Aportes_Total</span><span class="w"> </span><span class="n">ap</span>
<span class="w">  </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">AfiliadosEducacionMes</span><span class="w"> </span><span class="n">aem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">ap</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aem</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ap</span><span class="p">.</span><span class="n">BP_AFILIADO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aem</span><span class="p">.</span><span class="n">PARTNER_AFILIADO</span>
<span class="p">),</span>
<span class="n">partnerTable</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">PARTNER</span><span class="p">,</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">      </span><span class="k">MAX</span><span class="p">([</span><span class="n">PARTNER_AFILIADO</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PARTNER_AFILIADO</span><span class="p">,</span>
<span class="w">      </span><span class="k">MAX</span><span class="p">([</span><span class="n">PARTNER_EMPRESA</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PARTNER_EMPRESA</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_ACTIVIDADES</span><span class="p">]</span>
<span class="w">  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;AFILIACION&#39;</span>
<span class="w">  </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="n">PARTNER</span><span class="p">],</span><span class="w"> </span><span class="n">ID_FECHA</span>
<span class="p">)</span>
<span class="k">SELECT</span><span class="w">  </span><span class="k">c</span><span class="p">.</span><span class="o">*</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">pt</span><span class="p">.[</span><span class="n">PARTNER_AFILIADO</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;0000000000&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PARTNER_AFILIADO</span><span class="p">,</span>
<span class="w">    </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">pt</span><span class="p">.[</span><span class="n">PARTNER_EMPRESA</span><span class="p">]</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0000000000&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PARTNER_EMPRESA</span>
<span class="k">FROM</span><span class="w">  </span><span class="n">consulta</span><span class="w"> </span><span class="k">c</span>
<span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w">  </span><span class="n">partnerTable</span><span class="w"> </span><span class="n">pt</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="k">c</span><span class="p">.[</span><span class="n">PARTNER</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.[</span><span class="n">PARTNER</span><span class="p">]</span>
<span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pt</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="p">;</span>
</code></pre></div>
<hr />
<h4 id="logica-de-negocio_7"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_7" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Consolidación de Aportes:</strong><br />
  Se agrupan los aportes registrados por empresa y afiliado para un mes determinado, obteniendo la suma total de aportes y el número de aportes realizados.</p>
</li>
<li>
<p><strong>Determinación de Pertenencia a la Población Educativa:</strong><br />
  A través de uniones con datos de afiliación, se evalúa si el afiliado forma parte de la población educativa, asignando un valor 'SI' o 'NO' en la columna <code>POBLACION_EDUCACION</code>.</p>
</li>
<li>
<p><strong>Integración de Datos de Afiliación:</strong><br />
  Se unen los datos resultantes con información adicional (como PARTNER_AFILIADO y PARTNER_EMPRESA) obtenida del historial de afiliación para enriquecer el conjunto final de datos.</p>
</li>
<li>
<p><strong>Iteración y Filtrado:</strong><br />
  El componente se ejecuta dentro de un contenedor de bucles que utiliza la variable <code>@VarTime</code> para iterar y procesar datos mes a mes, permitiendo la actualización incremental de la información.</p>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_8"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_8" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Dependencias:</strong>  </p>
<ul>
<li>Requiere que la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> esté cargada previamente para la correcta asignación de fechas (ID_FECHA y FECHA_MENSUAL).</li>
<li>Depende de la existencia y precisión de los registros en la tabla <strong><code>[DWH_COMFENALCO].[Aportes].[FACT_APORTES_SHR_DET]</code></strong> y de los datos históricos de afiliación en <strong><code>FACT_ACTIVIDADES</code></strong> para determinar la pertenencia a la población educativa.</li>
</ul>
</li>
<li>
<p><strong>Secuencia:</strong><br />
  Se ejecuta dentro de un contenedor de bucles (FOR LOOP) que itera según la variable <code>@MaxIterationApor</code>, procesando los aportes mes a mes antes de que otros procesos posteriores utilicen los datos consolidados en <strong><code>FACT_ACTIVIDADES</code></strong>.</p>
</li>
</ul>
<hr />
<h3 id="fact_personal_cubo"><strong><code>FACT_PERSONAL_CUBO</code></strong><a class="headerlink" href="#fact_personal_cubo" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_PERSONAL_CUBO</code></strong> es una tarea específica dentro del flujo de datos <strong><code>FACT_PERSONAL</code></strong>, que pertenece al paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente está diseñado para procesar y cargar datos relacionados con el personal en la tabla de hechos <strong><code>FACT_PERSONAL</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su propósito, implementación y relevancia en el contexto del proceso ETL.</p>
<hr />
<h4 id="que-significa-personal-en-este-contexto"><strong>¿Qué significa "PERSONAL" en este contexto?</strong><a class="headerlink" href="#que-significa-personal-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En el ámbito de COMFENALCO, <strong>"PERSONAL"</strong> se refiere a la información relacionada con los empleados y colaboradores, que incluye datos de ausentismo, contrataciones y otros indicadores laborales. Estos datos son fundamentales para analizar la gestión de recursos humanos y evaluar el impacto de las políticas de personal en el desempeño organizacional.</p>
<hr />
<h4 id="proposito-del-componente_6"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_6" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_PERSONAL_CUBO</code></strong> tiene como objetivo:</p>
<ol>
<li>
<p><strong>Extraer:</strong>  </p>
<ul>
<li>Obtener datos relacionados con el personal desde una fuente de datos operativa o una tabla <em>staging</em>, que incluya información detallada sobre contrataciones, ausentismo y otros eventos laborales.</li>
</ul>
</li>
<li>
<p><strong>Transformar:</strong>  </p>
<ul>
<li>Procesar y limpiar los datos para calcular métricas relevantes, como el total de contrataciones y la suma de días de ausentismo.</li>
<li>Realizar transformaciones mediante componentes como <strong>Derived Column</strong> para generar indicadores adicionales y <strong>Lookup</strong> para asociar cada registro con la dimensión temporal (<strong><code>DIM_TIEMPO_MENSUAL</code></strong>).</li>
<li>Consolidar información proveniente de múltiples fuentes; en este caso, la consulta SQL unifica datos de ausentismo, reemplazo, contratación y fin de contratación para formar un conjunto integrado de registros.</li>
</ul>
</li>
<li>
<p><strong>Cargar:</strong>  </p>
<ul>
<li>Insertar los datos transformados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_PERSONAL]</code></strong> mediante un componente <em>OLE DB Destination</em>, garantizando que la información se vincule correctamente con las dimensiones del cubo OLAP.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_5"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_5" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos:</strong> <strong><code>FACT_PERSONAL</code></strong></li>
<li><strong>Componente:</strong> <strong><code>FACT_PERSONAL_CUBO</code></strong></li>
</ul>
<hr />
<h4 id="implementacion_5"><strong>Implementación</strong><a class="headerlink" href="#implementacion_5" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos:</strong>  </p>
<ul>
<li>Se extraen los registros del personal desde diversas fuentes que contienen datos actualizados sobre empleados, tales como:<ul>
<li><strong>[DWH_COMFENALCO].[Cedesarrollo].[FACT_AUSENTISMO_DOCENTE]</strong></li>
<li><strong>[DWH_COMFENALCO].[Colegio].[FACT_REEMPLAZO_DOCENTE]</strong></li>
<li><strong>[DWH_COMFENALCO].[Colegio].[FACT_AUSENTISMO_DOCENTE]</strong></li>
<li><strong>[DWH_COMFENALCO].[Transversal].[DIM_PERSONAL]</strong><br />
 La fuente se consume mediante un componente de tipo <em>Data Reader</em> (Microsoft.DataReaderSourceAdapter) que ejecuta una instrucción SQL para consolidar los diferentes eventos relacionados con el personal.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Transformaciones:</strong>  </p>
<ul>
<li><strong>Derived Column:</strong><br />
 Se generan columnas calculadas para definir indicadores adicionales, por ejemplo, para diferenciar entre ausentismo, reemplazo, contratación y fin de contratación.</li>
<li><strong>Lookup:</strong><br />
 Se vinculan los registros resultantes con la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> para asociar cada registro a un período específico mediante la columna <code>ID_FECHA</code>.</li>
<li>
<p><strong>Aggregate (implícito en la consolidación SQL):</strong><br />
 La instrucción SQL unifica y consolida los datos de las diferentes fuentes mediante la cláusula <code>UNION</code>, estandarizando el formato de <code>ID_FECHA</code> y asegurando que cada registro contenga la información necesaria para su posterior análisis.</p>
</li>
<li>
<p><strong>Código SQL Utilizado:</strong><br />
 La consulta SQL que se utiliza en el componente es la siguiente:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="p">,</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_PERSONAL</span><span class="p">,</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">NOMBRE</span><span class="p">,</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">CONCEPTO</span><span class="p">,</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">DESCRIPCION</span><span class="p">,</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">FECHA_FIN</span><span class="p">,</span>
<span class="w">       </span><span class="n">uni</span><span class="p">.</span><span class="n">HORAS_CONTRATADAS_MENSUAL</span><span class="p">,</span><span class="w"> </span><span class="n">pers</span><span class="p">.</span><span class="n">ID_UNIDAD</span><span class="p">,</span><span class="w"> </span><span class="n">AUSENCIA_HORAS</span><span class="p">,</span><span class="w"> </span><span class="n">TIPO_AUSENCIA</span><span class="w">  </span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">ID_PERSONAL</span><span class="p">],</span>
<span class="w">           </span><span class="p">[</span><span class="n">NOMBRE_DOCENTE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NOMBRE</span><span class="p">,</span>
<span class="w">           </span><span class="s1">&#39;AUSENTISMO&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CONCEPTO</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">MOTIVO_AUSENCIA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DESCRIPCION</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">FECHA_FIN</span><span class="p">],</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">HORAS_CONTRATADAS_MENSUAL</span><span class="p">,</span>
<span class="w">           </span><span class="n">AUSENCIA_HORAS</span><span class="p">,</span>
<span class="w">           </span><span class="n">TIPO_AUSENCIA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">FACT_AUSENTISMO_DOCENTE</span><span class="p">]</span>

<span class="w">    </span><span class="k">UNION</span><span class="w"> </span>

<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">ID_PERSONAL_REEMPLAZA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PERSONAL</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">DOCENTE_REEMPLAZA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NOMBRE</span><span class="p">,</span>
<span class="w">           </span><span class="s1">&#39;REEMPLAZO&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CONCEPTO</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DESCRIPCION</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_FIN</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">HORAS_CONTRATADAS_MENSUAL</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">AUSENCIA_HORAS</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIPO_AUSENCIA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Colegio</span><span class="p">].[</span><span class="n">FACT_REEMPLAZO_DOCENTE</span><span class="p">]</span>

<span class="w">    </span><span class="k">UNION</span><span class="w"> </span>

<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">ID_PERSONAL</span><span class="p">],</span>
<span class="w">           </span><span class="p">[</span><span class="n">NOMBRE_DOCENTE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NOMBRE</span><span class="p">,</span>
<span class="w">           </span><span class="s1">&#39;AUSENTISMO&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CONCEPTO</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">MOTIVO_AUSENCIA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DESCRIPCION</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">FECHA_FIN</span><span class="p">],</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">HORAS_CONTRATADAS_MENSUAL</span><span class="p">,</span>
<span class="w">           </span><span class="n">AUSENCIA_HORAS</span><span class="p">,</span>
<span class="w">           </span><span class="n">TIPO_AUSENCIA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Colegio</span><span class="p">].[</span><span class="n">FACT_AUSENTISMO_DOCENTE</span><span class="p">]</span>

<span class="w">    </span><span class="k">UNION</span><span class="w"> </span>

<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="n">FORMAT</span><span class="p">([</span><span class="n">FECHA_INICIO_CONTRATACION</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyyMMdd&#39;</span><span class="p">)),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">ID_PERSONAL</span><span class="p">],</span>
<span class="w">           </span><span class="p">[</span><span class="n">NOMBRE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NOMBRE</span><span class="p">,</span>
<span class="w">           </span><span class="s1">&#39;CONTRATACION&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CONCEPTO</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DESCRIPCION</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">FECHA_FIN_CONTRATACION</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_FIN</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">HORAS_CONTRATADAS_MENSUAL</span><span class="p">],</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">AUSENCIA_HORAS</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIPO_AUSENCIA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_PERSONAL</span><span class="p">]</span>

<span class="w">    </span><span class="k">UNION</span><span class="w"> </span>

<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="n">FORMAT</span><span class="p">([</span><span class="n">FECHA_FIN_CONTRATACION</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyyMMdd&#39;</span><span class="p">)),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">ID_PERSONAL</span><span class="p">],</span>
<span class="w">           </span><span class="p">[</span><span class="n">NOMBRE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NOMBRE</span><span class="p">,</span>
<span class="w">           </span><span class="s1">&#39;FIN_CONTRATACION&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CONCEPTO</span><span class="p">,</span>
<span class="w">           </span><span class="p">[</span><span class="n">CAUSA_TERMINACION_CONTRATO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DESCRIPCION</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_FIN</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">HORAS_CONTRATADAS_MENSUAL</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">AUSENCIA_HORAS</span><span class="p">,</span>
<span class="w">           </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIPO_AUSENCIA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_PERSONAL</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">uni</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">dimM</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dimM</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span>
<span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_PERSONAL</span><span class="p">]</span><span class="w"> </span><span class="n">pers</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_PERSONAL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pers</span><span class="p">.</span><span class="n">ID_PERSONAL</span><span class="p">;</span>
</code></pre></div>
</li>
<li>
<p><strong>Destino:</strong>  </p>
<ul>
<li>Se utiliza un componente <em>Destino de ADO NET</em> que inserta los datos transformados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_PERSONAL]</code></strong>.  </li>
<li>
<p>Las columnas mapeadas incluyen:</p>
<ul>
<li><code>ID_FECHA</code></li>
<li><code>ID_PERSONAL</code></li>
<li><code>NOMBRE</code></li>
<li><code>CONCEPTO</code></li>
<li><code>DESCRIPCION</code></li>
<li><code>FECHA_FIN</code></li>
<li><code>HORAS_CONTRATADAS_MENSUAL</code></li>
<li><code>ID_UNIDAD</code></li>
</ul>
</li>
<li>
<p>El mapeo asegura que cada columna de salida del componente de origen se alinee con el esquema de la tabla destino.</p>
</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_8"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_8" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Indicadores de Personal:</strong><br />
  Se consolidan eventos relacionados con el personal (ausentismo, reemplazos, contrataciones y finalizaciones) para proporcionar una visión integral de la gestión del personal en COMFENALCO.</p>
</li>
<li>
<p><strong>Vinculación Temporal:</strong><br />
  Cada registro se asocia con un período específico mediante la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> (a través de la columna <code>ID_FECHA</code>), lo que facilita el análisis comparativo y el seguimiento de tendencias a lo largo del tiempo.</p>
</li>
<li>
<p><strong>Integración de Datos:</strong><br />
  La consulta SQL unifica datos de múltiples fuentes, estandarizando el formato de la fecha (<code>ID_FECHA</code>) y asegurando que los registros se carguen en un único conjunto que refleje todos los eventos laborales relevantes.</p>
</li>
<li>
<p><strong>Validación y Consistencia:</strong><br />
  Se aplican conversiones y validaciones en el flujo de datos para garantizar que los datos cargados sean precisos y cumplan con los estándares definidos en el Data Warehouse.</p>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_9"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_9" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Dependencias:</strong>  </p>
<ul>
<li>Requiere que la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> esté previamente cargada para la correcta asignación de la fecha (<code>ID_FECHA</code>).</li>
<li>Depende de la existencia y precisión de los registros en las fuentes <strong><code>[DWH_COMFENALCO].[Cedesarrollo].[FACT_AUSENTISMO_DOCENTE]</code></strong>, <strong><code>[DWH_COMFENALCO].[Colegio].[FACT_REEMPLAZO_DOCENTE]</code></strong> y <strong><code>[DWH_COMFENALCO].[Transversal].[DIM_PERSONAL]</code></strong> para consolidar los eventos del personal.</li>
</ul>
</li>
<li>
<p><strong>Secuencia:</strong><br />
  Se ejecuta en la etapa de carga de hechos dentro del paquete <strong><code>09-ETLS_CUBO</code></strong>, después de la carga de dimensiones y antes de otros procesos analíticos que utilicen la información consolidada de personal.</p>
</li>
</ul>
<hr />
<h3 id="fact_evaluacion_docente_cubo"><strong><code>FACT_EVALUACION_DOCENTE_CUBO</code></strong><a class="headerlink" href="#fact_evaluacion_docente_cubo" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_EVALUACION_DOCENTE_CUBO</code></strong> es una tarea específica dentro del flujo de datos del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente está diseñado para procesar y cargar datos relacionados con la evaluación de docentes en la tabla de hechos <strong><code>FACT_EVALUACION_DOCENTE</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su propósito, implementación y relevancia en el contexto del proceso ETL.</p>
<hr />
<h4 id="que-significa-evaluacion-docente-en-este-contexto"><strong>¿Qué significa "EVALUACIÓN DOCENTE" en este contexto?</strong><a class="headerlink" href="#que-significa-evaluacion-docente-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En el ámbito de COMFENALCO, <strong>"EVALUACIÓN DOCENTE"</strong> se refiere al análisis y medición del desempeño de los docentes a través de indicadores de calidad educativa. Estos indicadores, como la calificación definitiva, permiten evaluar la efectividad y el desempeño de los docentes, información clave para la mejora continua de la gestión educativa.</p>
<hr />
<h4 id="proposito-del-componente_7"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_7" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_EVALUACION_DOCENTE_CUBO</code></strong> tiene como objetivo:</p>
<ol>
<li>
<p><strong>Extraer:</strong>  </p>
<ul>
<li>Obtener datos relacionados con la evaluación de los docentes desde diversas fuentes, integrando información proveniente de sistemas operativos (por ejemplo, de las áreas de Colegio y Cedesarrollo).</li>
</ul>
</li>
<li>
<p><strong>Transformar:</strong>  </p>
<ul>
<li>Consolidar los datos provenientes de distintas fuentes mediante la unión de resultados (UNION) para unificar el formato y estandarizar la información.</li>
<li>Seleccionar campos clave como el período académico, la unidad, el identificador y nombre del docente, la calificación definitiva y la fecha de referencia (ID_FECHA).</li>
<li>Relacionar la información consolidada con la dimensión temporal <strong><code>DIM_TIEMPO_MENSUAL</code></strong> para asegurar la correcta segmentación de los datos por períodos.</li>
</ul>
</li>
<li>
<p><strong>Cargar:</strong>  </p>
<ul>
<li>Insertar los datos transformados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_EVALUACION_DOCENTE]</code></strong> mediante un componente <em>Destino de ADO NET</em>, garantizando que la información se integre adecuadamente en el cubo OLAP para su análisis.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_6"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_6" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos:</strong> Dentro del proceso de carga de hechos, correspondiente a la evaluación docente.</li>
<li><strong>Componente:</strong> <strong><code>FACT_EVALUACION_DOCENTE_CUBO</code></strong></li>
</ul>
<hr />
<h4 id="implementacion_6"><strong>Implementación</strong><a class="headerlink" href="#implementacion_6" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos:</strong><br />
   El componente utiliza un origen de datos basado en ADO.NET (Microsoft.DataReaderSourceAdapter) para ejecutar una instrucción SQL que extrae y consolida los datos de evaluación docente. La consulta unifica información de tres orígenes:</p>
<ul>
<li><strong>[DWH_COMFENALCO].[Colegio].[FACT_DESEMPENHO_DOCENTE]</strong></li>
<li><strong>[DWH_COMFENALCO].[Cedesarrollo].[FACT_DESEMPENHO_DOCENTE_CE]</strong> (con unión a <strong>[DWH_COMFENALCO].[Cedesarrollo].[DIM_PERIODO_ACADEMICO]</strong>)</li>
<li><strong>[DWH_COMFENALCO].[Cedesarrollo].[FACT_DESEMPENHO_DOCENTE_DE]</strong> (con unión a <strong>[DWH_COMFENALCO].[Cedesarrollo].[DIM_PERIODO_ACADEMICO]</strong>)</li>
</ul>
</li>
<li>
<p><strong>Transformaciones:</strong><br />
   La instrucción SQL consolida los datos utilizando la cláusula <code>UNION</code>, estandarizando el formato de la fecha mediante el cálculo de <code>ID_FECHA</code> y seleccionando los siguientes campos:</p>
<ul>
<li><strong>PERIODO_ACADEMICO:</strong> Identifica el año o periodo de evaluación.</li>
<li><strong>ID_UNIDAD:</strong> Indica la unidad administrativa o educativa.</li>
<li><strong>ID_PERSONAL:</strong> Identificador del docente evaluado.</li>
<li><strong>NOMBRE_DOCENTE:</strong> Nombre del docente.</li>
<li><strong>CALIFICACION_DEFINITIVA:</strong> Valor que representa la evaluación final del docente.</li>
<li><strong>ID_FECHA:</strong> Fecha que se utiliza para vincular la evaluación con la dimensión temporal, mediante la unión con <strong><code>DIM_TIEMPO_MENSUAL</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Código SQL Utilizado:</strong><br />
   La consulta ejecutada por el componente es la siguiente:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">PERIODO_ACADEMICO</span><span class="p">,</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span><span class="w"> </span><span class="n">ID_PERSONAL</span><span class="p">,</span><span class="w"> </span><span class="n">NOMBRE_DOCENTE</span><span class="p">,</span><span class="w"> </span><span class="n">CALIFICACION_DEFINITIVA</span><span class="p">,</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_FECHA</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">ANIO_ACADEMICO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PERIODO_ACADEMICO</span><span class="p">,</span>
<span class="w">        </span><span class="mi">5</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_PERSONAL</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">NOMBRE_DOCENTE</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">TOTAL_GENERAL</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CALIFICACION_DEFINITIVA</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_FECHA</span><span class="p">]</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Colegio</span><span class="p">].[</span><span class="n">FACT_DESEMPENHO_DOCENTE</span><span class="p">]</span>

<span class="w">    </span><span class="k">UNION</span>

<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="n">c2</span><span class="p">.[</span><span class="n">PERIODO_ACADEMICO</span><span class="p">],</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">ID_UNIDAD</span><span class="p">],</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">ID_PERSONAL</span><span class="p">],</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">NOMBRE_DOCENTE</span><span class="p">],</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">CALIFICACION_DEFINITIVA</span><span class="p">],</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="w"> </span><span class="c1">-- NO TIENE FECHA, NECESARIO IMPLEMENTAR PARA FILTAR CON FECHA MENSUAL DE INTERÉS</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">FACT_DESEMPENHO_DOCENTE_CE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">c1</span>
<span class="w">    </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">DIM_PERIODO_ACADEMICO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">c2</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">c1</span><span class="p">.</span><span class="n">ID_PERIODO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c2</span><span class="p">.</span><span class="n">ID_PERIODO</span>

<span class="w">    </span><span class="k">UNION</span>

<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="n">c2</span><span class="p">.[</span><span class="n">PERIODO_ACADEMICO</span><span class="p">],</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">ID_UNIDAD</span><span class="p">],</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">ID_PERSONAL</span><span class="p">],</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">NOMBRE_DOCENTE</span><span class="p">],</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">CALIFICACION</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CALIFICACION_DEFINITIVA</span><span class="p">,</span>
<span class="w">        </span><span class="n">c1</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">]</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">FACT_DESEMPENHO_DOCENTE_DE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">c1</span>
<span class="w">    </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">DIM_PERIODO_ACADEMICO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">c2</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">c1</span><span class="p">.</span><span class="n">ID_PERIODO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c2</span><span class="p">.</span><span class="n">ID_PERIODO</span>
<span class="p">)</span><span class="w"> </span><span class="n">uni</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">dimM</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dimM</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="p">;</span>
</code></pre></div>
<ol>
<li><strong>Destino:</strong><br />
   Un componente <em>Destino de ADO NET</em> se encarga de cargar los datos resultantes en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_EVALUACION_DOCENTE]</code></strong>. Se realiza el mapeo de las columnas extraídas (como <code>PERIODO_ACADEMICO</code>, <code>ID_UNIDAD</code>, <code>ID_PERSONAL</code>, <code>NOMBRE_DOCENTE</code>, <code>CALIFICACION_DEFINITIVA</code> y <code>ID_FECHA</code>) con las correspondientes columnas en la tabla destino.</li>
</ol>
<hr />
<h4 id="logica-de-negocio_9"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_9" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Consolidación de Evaluaciones:</strong><br />
  La consulta SQL unifica las evaluaciones de docentes provenientes de diferentes sistemas (Colegio y Cedesarrollo) para generar un conjunto único de registros de evaluación docente.</p>
</li>
<li>
<p><strong>Estándar Temporal:</strong><br />
  Al estandarizar la fecha a través de <code>ID_FECHA</code> y vincularla con la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong>, se garantiza que las evaluaciones puedan analizarse en función del tiempo.</p>
</li>
<li>
<p><strong>Validación y Consistencia:</strong><br />
  Se aplican conversiones y uniones lógicas en la consulta para asegurar que los datos consolidados sean precisos, facilitando su uso en análisis comparativos y en la generación de reportes.</p>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_10"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_10" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Dependencias:</strong>  </p>
<ul>
<li>Requiere que la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> esté previamente cargada para la correcta asignación de la fecha (ID_FECHA).  </li>
<li>Depende de la calidad y consistencia de los datos provenientes de las fuentes <strong><code>FACT_DESEMPENHO_DOCENTE</code></strong>, <strong><code>FACT_DESEMPENHO_DOCENTE_CE</code></strong> y <strong><code>FACT_DESEMPENHO_DOCENTE_DE</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Secuencia:</strong><br />
  Se ejecuta en la etapa de carga de hechos dentro del paquete <strong><code>09-ETLS_CUBO</code></strong>, después de la carga de dimensiones y antes de otros procesos analíticos que utilicen la información consolidada de evaluación docente.</p>
</li>
</ul>
<h3 id="fact_financiera_cubo"><strong><code>FACT_FINANCIERA_CUBO</code></strong><a class="headerlink" href="#fact_financiera_cubo" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_FINANCIERA_CUBO</code></strong> es una tarea específica dentro del flujo de datos del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente está diseñado para procesar y cargar datos financieros en la tabla de hechos <strong><code>FACT_FINANCIERA</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su propósito, implementación y relevancia en el contexto del proceso ETL.</p>
<hr />
<h4 id="que-significa-financiera-en-este-contexto"><strong>¿Qué significa "FINANCIERA" en este contexto?</strong><a class="headerlink" href="#que-significa-financiera-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En el ámbito de COMFENALCO, <strong>"FINANCIERA"</strong> hace referencia a la información contable y financiera relacionada con las transacciones y el presupuesto. Este componente integra datos provenientes de registros contables y presupuestarios para analizar el desempeño financiero, permitiendo evaluar ingresos, gastos, resultados y otros indicadores clave de la salud financiera de la organización.</p>
<hr />
<h4 id="proposito-del-componente_8"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_8" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_FINANCIERA_CUBO</code></strong> tiene como objetivo:</p>
<ol>
<li>
<p><strong>Extraer:</strong>  </p>
<ul>
<li>Obtener datos contables desde la fuente <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_DETALLE_CONTABLE]</code></strong> y datos presupuestarios desde <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_PRESUPUESTO]</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Transformar:</strong>  </p>
<ul>
<li>Consolidar y transformar la información financiera mediante una consulta SQL que unifica y agrupa datos.  </li>
<li>Realizar conversiones de datos (por ejemplo, convertir campos numéricos a cadenas en ciertos casos) utilizando un componente de <em>Data Conversion</em> para garantizar la compatibilidad de tipos de datos.  </li>
<li>Aplicar filtros y condiciones, como excluir ciertos tipos de cuentas (por ejemplo, las de 'INGRESOS', 'COSTOS' y 'GASTOS') y seleccionar solo cuentas cuyos prefijos cumplan criterios específicos.</li>
</ul>
</li>
<li>
<p><strong>Cargar:</strong>  </p>
<ul>
<li>Insertar los datos transformados y consolidados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_FINANCIERA]</code></strong> mediante un componente <em>Destino de ADO NET</em>, asegurando que los datos se integren de manera correcta en el cubo OLAP para su posterior análisis.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_7"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_7" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos:</strong> Correspondiente al proceso de carga de hechos financieros.</li>
<li><strong>Componente:</strong> <strong><code>FACT_FINANCIERA_CUBO</code></strong></li>
</ul>
<hr />
<h4 id="implementacion_7"><strong>Implementación</strong><a class="headerlink" href="#implementacion_7" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos:</strong>  </p>
<ul>
<li>El componente utiliza un origen de datos basado en ADO.NET (Microsoft.DataReaderSourceAdapter) para extraer la información financiera.  </li>
<li>Se emplea una consulta SQL que extrae datos de la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_DETALLE_CONTABLE]</code></strong>, uniéndolos con la dimensión de tiempo (a través de <strong><code>[DWH_COMFENALCO].[Dwh].[DIM_TIEMPO]</code></strong>) y con las dimensiones de unidades organizativas y cuentas contables (a través de <strong><code>[DWH_COMFENALCO].[Financiera].[DIM_UNIDADES_ORGANIZATIVAS]</code></strong> y <strong><code>[DWH_COMFENALCO].[Financiera].[DIM_CUENTA_CONTABLE]</code></strong>).  </li>
<li>Además, se incluye un <code>UNION</code> con registros provenientes de <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_PRESUPUESTO]</code></strong> para integrar datos presupuestarios.</li>
</ul>
</li>
<li>
<p><strong>Transformaciones:</strong>  </p>
<ul>
<li><strong>Data Conversion:</strong><br />
 Se convierte la información de columnas específicas, como <code>SEGMENTO</code>, <code>SEGMENT</code>, <code>CUENTA_DESCRIPCION_SSF</code> e <code>ID_CEBE</code>, a tipos de datos adecuados para la carga.</li>
<li>
<p><strong>Consolidación mediante SQL:</strong><br />
 La consulta SQL realiza operaciones de agregación y agrupación para consolidar los datos financieros. Entre las transformaciones destacan:</p>
<ul>
<li>Cálculo de totales y sumatorias (por ejemplo, SUM de IMPORTE, INGRESOS, GASTOS, etc.).</li>
<li>Filtrado de registros, excluyendo aquellos con cuentas de tipos no deseados y seleccionando solo cuentas con ciertos prefijos.</li>
<li>Unión de datos contables y presupuestarios para obtener una vista consolidada de la ejecución financiera.</li>
</ul>
</li>
<li>
<p><strong>Código SQL Utilizado:</strong><br />
 La consulta ejecutada es la siguiente:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="o">*</span>
<span class="w">    </span><span class="p">,</span><span class="n">ID_UNIDAD</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w">  </span><span class="n">Tp</span><span class="p">.[</span><span class="n">ID_MES</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">            </span><span class="n">Tp</span><span class="p">.[</span><span class="n">ID_ANIO</span><span class="p">],</span>
<span class="w">            </span><span class="n">Tp</span><span class="p">.[</span><span class="n">ID_MES</span><span class="p">],</span>
<span class="w">            </span><span class="n">Ft</span><span class="p">.[</span><span class="n">ID_CEBE</span><span class="p">],</span>
<span class="w">            </span><span class="n">Uo</span><span class="p">.[</span><span class="n">CEBE</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Uo</span><span class="p">.[</span><span class="n">CEBE_DESCRIPCION</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DESCRIPCION_CEBE</span><span class="p">],</span><span class="w"> </span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Uo</span><span class="p">.[</span><span class="n">DEPARTAMENTO</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DEPARTAMENTO</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Uo</span><span class="p">.[</span><span class="n">AREA</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">AREA</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Uo</span><span class="p">.[</span><span class="n">SUBAREA</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">SUBAREA</span><span class="p">],</span>
<span class="w">            </span><span class="n">Uo</span><span class="p">.[</span><span class="n">SEGMENTO</span><span class="p">],</span>
<span class="w">            </span><span class="n">Uo</span><span class="p">.[</span><span class="n">DESCRIPCION_SEGMENTO</span><span class="p">],</span>
<span class="w">            </span><span class="n">Uo</span><span class="p">.[</span><span class="n">CODIGO_SSF</span><span class="p">],</span>
<span class="w">            </span><span class="n">Uo</span><span class="p">.[</span><span class="n">NOMBRE_SSF</span><span class="p">],</span>
<span class="w">            </span><span class="n">Ft</span><span class="p">.[</span><span class="n">ID_CUENTA</span><span class="p">],</span>
<span class="w">            </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA</span><span class="p">],</span>
<span class="w">            </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA_HOMOLOGA</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">DESCRIPCION</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DESCRIPCION</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">TIPO_CUENTA</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">TIPO_CUENTA</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">TIPO_OPERACION</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">TIPO_OPERACION</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">GRUPO_CUENTA</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GRUPO_CUENTA</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">SUBGRUPO_CUENTA</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">SUBGRUPO_CUENTA</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">GRUPO_OPERACION</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GRUPO_OPERACION</span><span class="p">],</span>
<span class="w">            </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA_SSF</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">DESCRIPCION_SSF</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DESCRIPCION_SSF</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA_DESCRIPCION</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CUENTA_DESCRIPCION</span><span class="p">],</span>
<span class="w">            </span><span class="k">Upper</span><span class="p">(</span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA_DESCRIPCION_SSF</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CUENTA_DESCRIPCION_SSF</span><span class="p">],</span>
<span class="w">            </span><span class="n">Ct</span><span class="p">.[</span><span class="n">SIGNO_INGRESOS</span><span class="p">],</span>
<span class="w">            </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CLASIFICACION</span><span class="p">],</span>
<span class="w">            </span><span class="n">Ft</span><span class="p">.[</span><span class="n">SEGMENT</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">IMPORTE</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">IMPORTE</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">INGRESOS</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">INGRESOS</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">INGRESOS_OPERACIONALES</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">INGRESOS_OPERACIONALES</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">GASTOS</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GASTOS</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">GASTOS_OPERACIONALES</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GASTOS_OPERACIONALES</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">GASTOS_OPERACIONALES_ADMIN</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GASTOS_OPERACIONALES_ADMIN</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">RESULTADO_EJERCICIO</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">RESULTADO_EJERCICIO</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">COSTOS</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">COSTOS</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">ACTIVO</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">ACTIVO</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">PASIVO</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">PASIVO</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">PATRIMONIO</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">PATRIMONIO</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">GASTOS_CON_DISTRIBUCION</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GASTOS_CON_DISTRIBUCION</span><span class="p">],</span>
<span class="w">            </span><span class="n">Try_Convert</span><span class="p">(</span><span class="nb">Numeric</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">Sum</span><span class="p">(</span><span class="k">isnull</span><span class="p">(</span><span class="n">Ft</span><span class="p">.[</span><span class="n">GASTOS_SIN_DISTRIBUCION</span><span class="p">],</span><span class="mi">0</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GASTOS_SIN_DISTRIBUCION</span><span class="p">],</span>
<span class="w">            </span><span class="s1">&#39;EJECUCION_CONTABLE&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_DETALLE_CONTABLE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Ft</span>
<span class="w">    </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Dwh</span><span class="p">].[</span><span class="n">DIM_TIEMPO</span><span class="p">]</span><span class="w"> </span><span class="n">Tp</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">Ft</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tp</span><span class="p">.</span><span class="n">ID_FECHA</span>
<span class="w">    </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Financiera</span><span class="p">].[</span><span class="n">DIM_UNIDADES_ORGANIZATIVAS</span><span class="p">]</span><span class="w"> </span><span class="n">Uo</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">Ft</span><span class="p">.</span><span class="n">ID_CEBE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Uo</span><span class="p">.</span><span class="n">ID_CEBE</span>
<span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Financiera</span><span class="p">].[</span><span class="n">DIM_CUENTA_CONTABLE</span><span class="p">]</span><span class="w"> </span><span class="n">Ct</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">Ft</span><span class="p">.</span><span class="n">ID_CUENTA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Ct</span><span class="p">.</span><span class="n">ID_CUENTA</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Ct</span><span class="p">.</span><span class="n">TIPO_CUENTA</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;INGRESOS&#39;</span><span class="p">,</span><span class="s1">&#39;COSTOS&#39;</span><span class="p">,</span><span class="s1">&#39;GASTOS&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">AND</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="n">Ct</span><span class="p">.</span><span class="n">CUENTA</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">1516</span><span class="p">,</span><span class="mi">1528</span><span class="p">)</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span>
<span class="w">        </span><span class="n">Tp</span><span class="p">.[</span><span class="n">ID_ANIO</span><span class="p">],</span><span class="w"> </span><span class="n">Tp</span><span class="p">.[</span><span class="n">ID_MES</span><span class="p">],</span><span class="w"> </span><span class="n">Ft</span><span class="p">.[</span><span class="n">ID_CEBE</span><span class="p">],</span><span class="w"> </span><span class="n">Uo</span><span class="p">.[</span><span class="n">CEBE</span><span class="p">],</span><span class="w"> </span><span class="n">Uo</span><span class="p">.[</span><span class="n">CEBE_DESCRIPCION</span><span class="p">],</span>
<span class="w">        </span><span class="n">Uo</span><span class="p">.[</span><span class="n">DEPARTAMENTO</span><span class="p">],</span><span class="w"> </span><span class="n">Uo</span><span class="p">.[</span><span class="n">AREA</span><span class="p">],</span><span class="w"> </span><span class="n">Uo</span><span class="p">.[</span><span class="n">SUBAREA</span><span class="p">],</span><span class="w"> </span><span class="n">Uo</span><span class="p">.[</span><span class="n">SEGMENTO</span><span class="p">],</span>
<span class="w">        </span><span class="n">Uo</span><span class="p">.[</span><span class="n">DESCRIPCION_SEGMENTO</span><span class="p">],</span><span class="w"> </span><span class="n">Uo</span><span class="p">.[</span><span class="n">CODIGO_SSF</span><span class="p">],</span><span class="w"> </span><span class="n">Uo</span><span class="p">.[</span><span class="n">NOMBRE_SSF</span><span class="p">],</span><span class="w"> </span><span class="n">Ft</span><span class="p">.[</span><span class="n">ID_CUENTA</span><span class="p">],</span>
<span class="w">        </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA_HOMOLOGA</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">DESCRIPCION</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">TIPO_CUENTA</span><span class="p">],</span>
<span class="w">        </span><span class="n">Ct</span><span class="p">.[</span><span class="n">TIPO_OPERACION</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">GRUPO_CUENTA</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">SUBGRUPO_CUENTA</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">GRUPO_OPERACION</span><span class="p">],</span>
<span class="w">        </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA_SSF</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">DESCRIPCION_SSF</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA_DESCRIPCION</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CUENTA_DESCRIPCION_SSF</span><span class="p">],</span>
<span class="w">        </span><span class="n">Ct</span><span class="p">.[</span><span class="n">SIGNO_INGRESOS</span><span class="p">],</span><span class="w"> </span><span class="n">Ct</span><span class="p">.[</span><span class="n">CLASIFICACION</span><span class="p">],</span><span class="w"> </span><span class="n">Ft</span><span class="p">.[</span><span class="n">SEGMENT</span><span class="p">]</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="n">uni</span>
<span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA2</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">dimM</span><span class="w"> </span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dimM</span><span class="p">.</span><span class="n">ID_FECHA2</span><span class="w"> </span>
<span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_UNIDADES_ORGANIZATIVAS</span><span class="p">]</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_CEBE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">do</span><span class="p">.</span><span class="n">ID_CEBE</span>
<span class="w">    </span><span class="k">UNION</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="w"> </span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="p">[</span><span class="n">ID_FECHA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">ID_ANIO</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">ID_MES</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">ID_CEBE</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CEBE</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DESCRIPCION_CEBE</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DEPARTAMENTO</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">AREA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">SUBAREA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">SEGMENTO</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DESCRIPCION_SEGMENTO</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CODIGO_SSF</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">NOMBRE_SSF</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">ID_CUENTA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CUENTA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CUENTA_HOMOLOGA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DESCRIPCION</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">TIPO_CUENTA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">TIPO_OPERACION</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GRUPO_CUENTA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">SUBGRUPO_CUENTA</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GRUPO_OPERACION</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CUENTA_SSF</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">DESCRIPCION_SSF</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CUENTA_DESCRIPCION</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CUENTA_DESCRIPCION_SSF</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">SIGNO_INGRESOS</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">CLASIFICACION</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">SEGMENT</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">VALOR</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">IMPORTE</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">INGRESOS</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">INGRESOS_OPERACIONALES</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">GASTOS</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">GASTOS_OPERACIONALES</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">GASTOS_OPERACIONALES_ADMIN</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">RESULTADO_EJERCICIO</span><span class="p">],</span>
<span class="w">               </span><span class="p">[</span><span class="n">COSTOS</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">ACTIVO</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">PASIVO</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">PATRIMONIO</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GASTOS_CON_DISTRIBUCION</span><span class="p">],</span>
<span class="w">               </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">GASTOS_SIN_DISTRIBUCION</span><span class="p">],</span>
<span class="w">               </span><span class="s1">&#39;PRESUPUESTO_CONTABLE&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span>
<span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_PRESUPUESTO</span><span class="p">]</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="n">uni</span>
<span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA2</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">dimM</span><span class="w"> </span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dimM</span><span class="p">.</span><span class="n">ID_FECHA2</span>
<span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_UNIDADES_ORGANIZATIVAS</span><span class="p">]</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">uni</span><span class="p">.</span><span class="n">ID_CEBE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">do</span><span class="p">.</span><span class="n">ID_CEBE</span><span class="p">;</span>
</code></pre></div>
</li>
<li>
<p><strong>Destino:</strong>  </p>
<ul>
<li>Se utiliza un componente <em>Destino de ADO NET</em> para cargar los datos transformados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_FINANCIERA]</code></strong>.  </li>
<li>El mapeo entre las columnas de salida del origen y la estructura de la tabla destino se realiza de manera precisa, asegurando que campos como <code>ID_FECHA</code>, <code>ID_ANIO</code>, <code>ID_MES</code>, <code>ID_CEBE</code>, <code>CEBE</code>, <code>DESCRIPCION_CEBE</code>, <code>DEPARTAMENTO</code>, <code>AREA</code>, <code>SUBAREA</code>, <code>SEGMENTO</code>, <code>IMPORTE</code>, <code>INGRESOS</code>, <code>GASTOS</code>, entre otros, se carguen correctamente.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_10"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_10" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Consolidación de Datos Financieros:</strong><br />
  La consulta SQL consolida dos conjuntos de datos: uno de los registros contables (ejecución contable) y otro de los presupuestos contables, unificándolos mediante la cláusula <code>UNION</code>.  </li>
<li><strong>Filtrado y Agrupación:</strong><br />
  Se agrupan los datos por diversos atributos (como año, mes, cuenta, segmento, etc.) y se aplican sumatorias para calcular totales de importes, ingresos, gastos y otros indicadores financieros.  </li>
<li><strong>Vinculación Temporal y Organizacional:</strong><br />
  Los datos se vinculan con la dimensión de tiempo (<strong><code>DIM_TIEMPO_MENSUAL</code></strong>) y con la dimensión de unidades organizativas, lo que permite un análisis multidimensional en el cubo OLAP.</li>
<li><strong>Estándar de Cuentas:</strong><br />
  Se filtra la información para excluir ciertos tipos de cuentas (como 'INGRESOS', 'COSTOS' y 'GASTOS') y se seleccionan solo aquellas cuentas que cumplen criterios específicos en su prefijo.</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_11"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_11" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Dependencias:</strong>  </p>
<ul>
<li>Requiere que la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> esté cargada previamente para la correcta asignación de la fecha (<code>ID_FECHA</code>).  </li>
<li>Depende de las tablas de origen, como <strong><code>FACT_DETALLE_CONTABLE</code></strong> y <strong><code>FACT_PRESUPUESTO</code></strong>, para la obtención de la información financiera.</li>
<li>Se apoya en las dimensiones de unidades organizativas para vincular los datos contables con las áreas y departamentos correspondientes.</li>
</ul>
</li>
<li>
<p><strong>Secuencia:</strong><br />
  Se ejecuta en la etapa de carga de hechos dentro del paquete <strong><code>09-ETLS_CUBO</code></strong>, después de la carga de dimensiones y antes de procesos analíticos o reportes que utilicen la información consolidada en <strong><code>FACT_FINANCIERA</code></strong>.</p>
</li>
</ul>
<h3 id="fact_unidades"><strong><code>FACT_UNIDADES</code></strong><a class="headerlink" href="#fact_unidades" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_UNIDADES</code></strong> es una tarea específica dentro del flujo de datos del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>. Este componente está diseñado para procesar y cargar datos relacionados con la cobertura proyectada de unidades educativas (o “unidades”) en la tabla de hechos <strong><code>FACT_UNIDADES</code></strong> del <em>Data Warehouse</em> <strong><code>DWH_COMFENALCO</code></strong>. A continuación, se detalla su propósito, implementación y relevancia en el contexto del proceso ETL.</p>
<hr />
<h4 id="que-significa-unidades-en-este-contexto"><strong>¿Qué significa "UNIDADES" en este contexto?</strong><a class="headerlink" href="#que-significa-unidades-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En el ámbito de COMFENALCO, <strong>"UNIDADES"</strong> se refiere a las entidades o unidades operativas educativas para las cuales se proyecta la cobertura poblacional y se evalúan indicadores relacionados con la matrícula y otros aspectos administrativos. Este componente consolida información proveniente de diferentes fuentes –como datos presupuestarios, planes de cobertura y resultados de pruebas– para obtener una visión integral de la cobertura proyectada en cada unidad.</p>
<hr />
<h4 id="proposito-del-componente_9"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_9" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_UNIDADES</code></strong> tiene como objetivo:</p>
<ol>
<li>
<p><strong>Extraer:</strong>  </p>
<ul>
<li>Obtener datos relevantes sobre la cobertura proyectada de las unidades, utilizando información proveniente de diversas fuentes, tales como:<ul>
<li><strong>DIM_PRESUPUESTO</strong> (datos presupuestarios de cobertura).</li>
<li><strong>FACT_PLAN_COBERTURA</strong> de Cedesarrollo y Protección.</li>
<li><strong>FACT_SABER11_INDIVIDUAL</strong> y <strong>FACT_SABER11_COLEGIOS</strong> (indicadores de resultados y cobertura en pruebas SABER 11).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Transformar:</strong>  </p>
<ul>
<li>Consolidar y transformar la información mediante una consulta SQL que unifica datos de las diferentes fuentes mediante la cláusula <code>UNION</code>.  </li>
<li>Establecer valores predeterminados en columnas clave, por ejemplo, asignando un valor de <code>-1</code> a <code>ID_CURSO</code> cuando no se disponga de la información, o utilizando <code>COALESCE</code> para definir la unidad operativa (por defecto, 5).  </li>
<li>Calcular y agrupar datos, tales como la suma de la población proyectada y el conteo de estudiantes, lo cual permite evaluar la cobertura en cada unidad.</li>
</ul>
</li>
<li>
<p><strong>Cargar:</strong>  </p>
<ul>
<li>Insertar los datos transformados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_UNIDADES]</code></strong> mediante un componente <em>Destino de ADO NET</em>, asegurando que cada campo se mapee correctamente con el esquema de la tabla destino.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_8"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_8" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> <strong><code>09-ETLS_CUBO</code></strong></li>
<li><strong>Flujo de Datos:</strong> Dentro del proceso de carga de hechos, correspondiente a la cobertura y proyección de unidades.</li>
<li><strong>Componente:</strong> <strong><code>FACT_UNIDADES</code></strong></li>
</ul>
<hr />
<h4 id="implementacion_8"><strong>Implementación</strong><a class="headerlink" href="#implementacion_8" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos:</strong>  </p>
<ul>
<li>El componente utiliza un origen de datos basado en ADO.NET (Microsoft.DataReaderSourceAdapter) configurado en el componente denominado <strong><code>unidades</code></strong>.  </li>
<li>La consulta SQL utilizada extrae datos de múltiples orígenes, a través de subconsultas unidas mediante <code>UNION</code>, para consolidar:<ul>
<li>Datos de la dimensión presupuestaria (extraídos de <strong>[Colegio].[DIM_PRESUPUESTO]</strong>).</li>
<li>Datos de planes de cobertura provenientes de <strong>[Cedesarrollo].[FACT_PLAN_COBERTURA]</strong> y <strong>[Proteccion].[FACT_PLAN_COBERTURA]</strong>.</li>
<li>Datos de pruebas SABER 11, tanto individuales como por colegios, y de deserción en educación.</li>
</ul>
</li>
<li>Cada subconsulta transforma y agrupa la información, calculando el campo <code>ID_FECHA_MENSUAL</code> mediante una conversión basada en la fecha y asignando la etiqueta de actividad correspondiente (por ejemplo, "COBERTURA PROYECTADA" o "SABER 11").</li>
</ul>
</li>
<li>
<p><strong>Transformaciones:</strong>  </p>
<ul>
<li>Se aplican conversiones de datos a través de un componente de <strong>Data Conversion</strong> para asegurar la compatibilidad de los tipos de datos (por ejemplo, convertir campos numéricos a cadenas donde sea necesario).</li>
<li>La consulta SQL consolida los datos de las distintas fuentes y realiza operaciones de agregación, como el cálculo de la suma de la población proyectada.</li>
<li>Se utilizan funciones como <code>COALESCE</code> para asignar valores por defecto, garantizando la integridad de la información cuando ciertos campos son nulos.</li>
</ul>
</li>
<li>
<p><strong>Código SQL Utilizado:</strong><br />
   La consulta SQL empleada en el componente es la siguiente:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">un</span><span class="p">.</span><span class="o">*</span><span class="w"> </span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">ID_CURSO</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">        </span><span class="n">GRADO</span><span class="p">,</span>
<span class="w">        </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">ID_UNIDAD</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="n">CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="k">CAST</span><span class="p">(</span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">40</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="k">SUM</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">POBL_PROYECT</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INT</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ORIGEN</span><span class="p">,</span><span class="w">  </span>
<span class="w">        </span><span class="s1">&#39;COBERTURA PROYECTADA&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">RESULTADO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CATEGORIA_SABER11</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CAUSA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_POBLACION</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CALIFICACION</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DOCUMENTOS_COMPLETOS</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_ESTUDIANTES</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_MAYOR_250</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TEMATICA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">         </span><span class="c1">-- DIM_PRESUPUESTO</span>
<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">            </span><span class="p">[</span><span class="n">ID_CURSO</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="n">GRADO</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="n">ID_ANIO_PRESUPUESTO</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">101</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;DIM_PRESUPUESTO&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ORIGEN</span><span class="p">,</span>
<span class="w">            </span><span class="n">POBL_PROYECT</span>
<span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Colegio</span><span class="p">].[</span><span class="n">DIM_PRESUPUESTO</span><span class="p">]</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="n">l</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_CURSO</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">GRADO</span><span class="p">],</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span><span class="w"> </span><span class="n">ORIGEN</span>
<span class="w">    </span><span class="k">UNION</span>
<span class="w">     </span><span class="c1">-- [Cedesarrollo].[FACT_PLAN_COBERTURA]</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">         </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GRADO</span><span class="p">,</span>
<span class="w">        </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">ID_UNIDAD</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">CATEGORIA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_PROGRAMA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="k">SUM</span><span class="p">(</span><span class="k">CAST</span><span class="p">([</span><span class="n">USUARIOS_PROYECTADOS</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INT</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ORIGEN</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">            </span><span class="n">FORMAT</span><span class="p">([</span><span class="n">FECHA_INICIO</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyyMMdd&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">            </span><span class="n">up</span><span class="p">.[</span><span class="n">ID_UNIDAD</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="n">CATEGORIA</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="n">ID_PROGRAMA</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="n">USUARIOS_PROYECTADOS</span><span class="p">],</span>
<span class="w">            </span><span class="s1">&#39;FACT_PLAN_COBERTURA&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ORIGEN</span>
<span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">FACT_PLAN_COBERTURA</span><span class="p">]</span><span class="w"> </span><span class="n">up</span>
<span class="w">        </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">DIM_PERIODO_ACADEMICO</span><span class="p">]</span><span class="w"> </span><span class="n">pa</span>
<span class="w">            </span><span class="k">ON</span><span class="w"> </span><span class="n">up</span><span class="p">.</span><span class="n">ID_PERIODO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pa</span><span class="p">.</span><span class="n">ID_PERIODO</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="n">ll</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_UNIDAD</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">CATEGORIA</span><span class="p">],</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">ID_PROGRAMA</span><span class="p">],</span><span class="w"> </span><span class="n">ORIGEN</span>
<span class="w">    </span><span class="k">UNION</span>
<span class="w">     </span><span class="c1">-- [Proteccion].[FACT_PLAN_COBERTURA]</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">         </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GRADO</span><span class="p">,</span>
<span class="w">        </span><span class="mi">5</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_PLAN_COBERTURA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_PROGRAMA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="k">SUM</span><span class="p">(</span><span class="k">CAST</span><span class="p">([</span><span class="n">POBLACION_PROYECTADA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INT</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ORIGEN</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">            </span><span class="p">[</span><span class="n">ID_PLAN_COBERTURA</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="n">ANIO</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">101</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">            </span><span class="p">[</span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="n">ID_PROGRAMA</span><span class="p">],</span>
<span class="w">            </span><span class="p">[</span><span class="n">COBERTURA_PROYECTADA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;FACT_PLAN_COBERTURA&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ORIGEN</span>
<span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Proteccion</span><span class="p">].[</span><span class="n">FACT_PLAN_COBERTURA</span><span class="p">]</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="n">ll</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_PLAN_COBERTURA</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ID_PROGRAMA</span><span class="p">],</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span><span class="w"> </span><span class="n">ORIGEN</span>
<span class="w">    </span><span class="k">UNION</span>
<span class="w">     </span><span class="c1">-- [Colegio].[FACT_SABER11_INDIVIDUAL]</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">ID_CURSO</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">        </span><span class="n">GRADO</span><span class="p">,</span>
<span class="w">        </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">ID_UNIDAD</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="n">CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ORIGEN</span><span class="p">,</span>
<span class="w">        </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">RESULTADO</span><span class="p">,</span>
<span class="w">        </span><span class="n">CATEGORIA_SABER11</span><span class="p">,</span>
<span class="w">        </span><span class="n">CAUSA</span><span class="p">,</span>
<span class="w">        </span><span class="n">NUM_POBLACION</span><span class="p">,</span>
<span class="w">        </span><span class="n">CALIFICACION</span><span class="p">,</span>
<span class="w">        </span><span class="n">DOCUMENTOS_COMPLETOS</span><span class="p">,</span>
<span class="w">        </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="p">([</span><span class="n">ID_REGISTRO</span><span class="p">]))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_ESTUDIANTES</span><span class="p">,</span>
<span class="w">        </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">CAST</span><span class="p">([</span><span class="n">RESULTADO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">250</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="p">[</span><span class="n">ID_REGISTRO</span><span class="p">]</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_MAYOR_250</span><span class="p">,</span>
<span class="w">        </span><span class="n">TEMATICA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Colegio</span><span class="p">].[</span><span class="n">FACT_SABER11_INDIVIDUAL</span><span class="p">]</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w">  </span>
<span class="w">        </span><span class="n">ID_CURSO</span><span class="p">,</span><span class="w"> </span><span class="n">GRADO</span><span class="p">,</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span><span class="w"> </span><span class="n">CATEGORIA</span><span class="p">,</span><span class="w"> </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span><span class="w"> </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span><span class="w"> </span><span class="n">ORIGEN</span><span class="p">,</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="n">CATEGORIA_SABER11</span><span class="p">,</span><span class="w"> </span><span class="n">CAUSA</span><span class="p">,</span><span class="w"> </span><span class="n">NUM_POBLACION</span><span class="p">,</span><span class="w"> </span><span class="n">CALIFICACION</span><span class="p">,</span>
<span class="w">        </span><span class="n">DOCUMENTOS_COMPLETOS</span><span class="p">,</span><span class="w"> </span><span class="n">TEMATICA</span>
<span class="w">    </span><span class="k">UNION</span>
<span class="w">     </span><span class="c1">-- [Colegio].[FACT_SABER11_COLEGIOS]</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w">  </span>
<span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;UNDECIMO&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GRADO</span><span class="p">,</span>
<span class="w">        </span><span class="mi">5</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">COD_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;FACT_SABER11_COLEGIOS_CEC&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ORIGEN</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;SABER 11&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">RESULTADO</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">CATEGORIA_SABER11</span><span class="p">],</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CAUSA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_POBLACION</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CALIFICACION</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DOCUMENTOS_COMPLETOS</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_ESTUDIANTES</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_MAYOR_250</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TEMATICA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Colegio</span><span class="p">].[</span><span class="n">FACT_SABER11_COLEGIOS</span><span class="p">]</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">COD_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">313001003095</span>
<span class="w">    </span><span class="k">UNION</span>
<span class="w">     </span><span class="c1">-- [Proteccion].[FACT_DESERCION]</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">ID_CURSO</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">        </span><span class="n">GRADO</span><span class="p">,</span>
<span class="w">        </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">ID_UNIDAD</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="n">CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="k">CAST</span><span class="p">(</span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">40</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span>
<span class="w">        </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">        </span><span class="n">ORIGEN</span><span class="p">,</span>
<span class="w">        </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="n">RESULTADO</span><span class="p">,</span>
<span class="w">        </span><span class="n">CATEGORIA_SABER11</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">CAUSA</span><span class="p">],</span>
<span class="w">        </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="p">([</span><span class="n">ID_POBLACION</span><span class="p">]))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_POBLACION</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CALIFICACION</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DOCUMENTOS_COMPLETOS</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_ESTUDIANTES</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_MAYOR_250</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TEMATICA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Proteccion</span><span class="p">].[</span><span class="n">FACT_DESERCION</span><span class="p">]</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w">  </span>
<span class="w">        </span><span class="n">ID_CURSO</span><span class="p">,</span><span class="w"> </span><span class="n">GRADO</span><span class="p">,</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span><span class="w"> </span><span class="n">CATEGORIA</span><span class="p">,</span><span class="w"> </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="k">CAST</span><span class="p">(</span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">nvarchar</span><span class="p">(</span><span class="mi">40</span><span class="p">)),</span><span class="w"> </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span><span class="w"> </span><span class="n">ORIGEN</span><span class="p">,</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="n">RESULTADO</span><span class="p">,</span><span class="w"> </span><span class="n">CATEGORIA_SABER11</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">CAUSA</span><span class="p">]</span>
<span class="w">    </span><span class="k">UNION</span><span class="w"> </span>
<span class="w">     </span><span class="c1">-- [Cedesarrollo].[FACT_EVALUACION_PLAN_CURRICULAR]</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">         </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GRADO</span><span class="p">,</span>
<span class="w">        </span><span class="k">COALESCE</span><span class="p">(</span><span class="n">fep</span><span class="p">.[</span><span class="n">ID_UNIDAD</span><span class="p">],</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="n">FORMAT</span><span class="p">([</span><span class="n">FECHA_INICIO</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyyMMdd&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;FACT_EVALUACION_PLAN_CURRICULAR&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ORIGEN</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;EVALUACION DISENO CURRICULAR&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">RESULTADO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CATEGORIA_SABER11</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CAUSA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_POBLACION</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">CALIFICACION</span><span class="p">],</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DOCUMENTOS_COMPLETOS</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_ESTUDIANTES</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_MAYOR_250</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TEMATICA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">FACT_EVALUACION_PLAN_CURRICULAR</span><span class="p">]</span><span class="w"> </span><span class="n">fep</span>
<span class="w">    </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">DIM_PERIODO_ACADEMICO</span><span class="p">]</span><span class="w"> </span><span class="n">pa</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">fep</span><span class="p">.</span><span class="n">ID_PERIODO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pa</span><span class="p">.</span><span class="n">ID_PERIODO</span>
<span class="w">    </span><span class="k">UNION</span><span class="w"> </span>
<span class="w">     </span><span class="c1">-- [Cedesarrollo].[FACT_ESTADO_MATRICULAS]</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">         </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GRADO</span><span class="p">,</span>
<span class="w">        </span><span class="mi">5</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PLAN_COBERTURA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ESTABLECIMIENTO_EDUCATIVO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_PROGRAMA</span><span class="p">,</span>
<span class="w">        </span><span class="k">LEFT</span><span class="p">([</span><span class="n">ID_FECHA</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">POBLACION_PROYECTADA</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;FACT_ESTADO_MATRICULAS&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ORIGEN</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;MATRICULAS_ESTUDIANTES&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">RESULTADO</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CATEGORIA_SABER11</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CAUSA</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_POBLACION</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">CALIFICACION</span><span class="p">,</span>
<span class="w">        </span><span class="n">DOCUMENTOS_COMPLETOS</span><span class="p">,</span>
<span class="w">        </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="p">(</span><span class="n">ID_ESTUDIANTE</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_ESTUDIANTES</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">NUM_MAYOR_250</span><span class="p">,</span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TEMATICA</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">FACT_ESTADO_MATRICULAS</span><span class="p">]</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="p">,</span><span class="w"> </span><span class="n">DOCUMENTOS_COMPLETOS</span>
<span class="p">)</span><span class="w"> </span><span class="n">un</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA2</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">])</span><span class="w"> </span><span class="n">dimM</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">un</span><span class="p">.</span><span class="n">ID_FECHA_MENSUAL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dimM</span><span class="p">.</span><span class="n">ID_FECHA2</span><span class="p">;</span>
</code></pre></div>
<ol>
<li><strong>Destino:</strong>  <ul>
<li>Se utiliza un componente <em>Destino de ADO NET</em> para insertar los datos consolidados en la tabla <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_FINANCIERA]</code></strong>.  </li>
<li>El mapeo entre las columnas resultantes de la consulta y las columnas de la tabla destino se realiza de forma precisa, asegurando la integridad y consistencia de la información financiera cargada.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_11"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_11" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Consolidación de Información Financiera:</strong><br />
  La consulta SQL unifica datos contables y presupuestarios de varias fuentes (incluyendo registros de ejecución contable, presupuestos y otros indicadores financieros) mediante la cláusula <code>UNION</code>, lo que permite obtener una visión consolidada de la situación financiera.</p>
</li>
<li>
<p><strong>Filtrado y Agrupación:</strong><br />
  Se agrupan y suman los valores de importe, ingresos, gastos, entre otros, para calcular totales que faciliten el análisis de la ejecución contable y la comparación con el presupuesto.</p>
</li>
<li>
<p><strong>Vinculación Temporal y Organizacional:</strong><br />
  Los datos se relacionan con la dimensión de tiempo (<strong><code>DIM_TIEMPO_MENSUAL</code></strong>) y con la dimensión de unidades organizativas, lo que posibilita un análisis multidimensional de la información financiera.</p>
</li>
<li>
<p><strong>Estandarización de Cuentas:</strong><br />
  Se filtra la información para excluir ciertos tipos de cuentas (por ejemplo, aquellas que se consideren no relevantes) y se seleccionan cuentas específicas basadas en sus prefijos, garantizando la relevancia de los datos consolidados.</p>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_12"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_12" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Dependencias:</strong>  </p>
<ul>
<li>Requiere que la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> esté cargada previamente para la correcta asignación del campo <code>ID_FECHA_MENSUAL</code>.</li>
<li>Depende de la calidad y consistencia de los datos de origen, tales como <strong><code>FACT_DETALLE_CONTABLE</code></strong> y <strong><code>FACT_PRESUPUESTO</code></strong>, para consolidar la información financiera.</li>
<li>Se apoya en las dimensiones de unidades organizativas y cuentas contables para vincular los datos a las áreas y departamentos correspondientes.</li>
</ul>
</li>
<li>
<p><strong>Secuencia:</strong><br />
  Se ejecuta en la etapa de carga de hechos dentro del paquete <strong><code>09-ETLS_CUBO</code></strong>, después de la carga de dimensiones y antes de otros procesos analíticos o reportes que utilicen la información consolidada en <strong><code>FACT_FINANCIERA</code></strong>.</p>
</li>
</ul>
<h3 id="fact_mineriamineria_colegiotruncar-tabla"><strong><code>FACT_MINERIA\\MINERIA_COLEGIO\\Truncar Tabla</code></strong><a class="headerlink" href="#fact_mineriamineria_colegiotruncar-tabla" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_MINERIA\\MINERIA_COLEGIO\\Truncar Tabla</code></strong> es una tarea de ejecución SQL (Execute SQL Task) dentro del paquete SSIS, utilizado para preparar el entorno de carga de datos en la sección de minería, específicamente para la minería en el contexto de colegios. Su función principal es vaciar la tabla de hechos <strong><code>FACT_MINERIA</code></strong> en el esquema <strong><code>Transversal</code></strong> de la base de datos <strong><code>DWH_COMFENALCO</code></strong>, asegurando que la tabla esté limpia antes de proceder a cargar nuevos datos.</p>
<hr />
<h4 id="que-significa-truncar-tabla-en-este-contexto"><strong>¿Qué significa "Truncar Tabla" en este contexto?</strong><a class="headerlink" href="#que-significa-truncar-tabla-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En este contexto, "Truncar Tabla" se refiere a la acción de eliminar todos los registros de una tabla de forma rápida y eficiente mediante el comando <strong><code>TRUNCATE TABLE</code></strong>. Esta operación elimina los datos sin registrar cada eliminación individualmente en el log de transacciones, lo que la hace ideal para reiniciar la tabla antes de un nuevo proceso de carga de datos.</p>
<hr />
<h4 id="proposito-del-componente_10"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_10" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>FACT_MINERIA\\MINERIA_COLEGIO\\Truncar Tabla</code></strong> tiene como objetivos:</p>
<ol>
<li>
<p><strong>Preparar el Entorno de Carga:</strong>  </p>
<ul>
<li>Elimina todos los registros existentes en la tabla <strong><code>FACT_MINERIA</code></strong> para evitar la acumulación de datos obsoletos o duplicados antes de insertar la nueva información resultante del proceso de minería.</li>
</ul>
</li>
<li>
<p><strong>Optimizar el Rendimiento:</strong>  </p>
<ul>
<li>Al utilizar el comando <strong><code>TRUNCATE TABLE</code></strong>, la operación se realiza de forma rápida y eficiente, reiniciando cualquier contador de identidad y liberando espacio de almacenamiento de manera inmediata.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_9"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_9" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> Parte del proceso ETL en <strong><code>09-ETLS_CUBO</code></strong>.</li>
<li><strong>Contexto:</strong> Se ubica en la sección <strong><code>FACT_MINERIA\\MINERIA_COLEGIO</code></strong>, que agrupa las tareas relacionadas con la minería de datos en colegios.</li>
<li><strong>Componente:</strong> <strong><code>Truncar Tabla</code></strong> (Execute SQL Task).</li>
</ul>
<hr />
<h4 id="implementacion_9"><strong>Implementación</strong><a class="headerlink" href="#implementacion_9" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Tipo de Tarea:</strong>  </p>
<ul>
<li>Se utiliza una tarea de ejecución SQL (<strong>Execute SQL Task</strong>) para ejecutar el comando de truncado.</li>
</ul>
</li>
<li>
<p><strong>Conexión:</strong>  </p>
<ul>
<li>La tarea utiliza el administrador de conexiones referenciado como <strong><code>DWH_COMFENALCO</code></strong>, lo que garantiza el acceso a la base de datos correcta.</li>
</ul>
</li>
<li>
<p><strong>Código SQL Utilizado:</strong>  </p>
<ul>
<li>La instrucción SQL ejecutada es:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_MINERIA</span><span class="p">];</span>
</code></pre></div>
<ul>
<li>Este comando elimina de forma masiva todos los registros de la tabla, dejándola lista para una nueva carga.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_12"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_12" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Integridad y Limpieza de Datos:</strong><br />
  Garantiza que la tabla de hechos de minería esté vacía antes de cada ejecución del proceso ETL, previniendo la duplicación y asegurando la integridad de los nuevos datos que se cargarán.</p>
</li>
<li>
<p><strong>Optimización de Procesos ETL:</strong><br />
  Al eliminar los datos de forma rápida y sin afectar el log de transacciones de manera individual, se mejora el rendimiento general del proceso de carga.</p>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_13"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_13" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Secuencia del Proceso ETL:</strong><br />
  Esta tarea se ejecuta generalmente al inicio del proceso de minería, justo antes de la inserción de nuevos registros en la tabla <strong><code>FACT_MINERIA</code></strong>.</p>
</li>
<li>
<p><strong>Dependencias:</strong>  </p>
<ul>
<li>Depende de la correcta configuración del administrador de conexiones (<strong><code>DWH_COMFENALCO</code></strong>).</li>
<li>Es una tarea preparatoria que influye en la calidad y consistencia de los datos que se cargarán posteriormente en el cubo OLAP.</li>
</ul>
</li>
</ul>
<h3 id="fact_mineriamineria_colegioproceso-matricula-temporal"><strong><code>FACT_MINERIA\\MINERIA_COLEGIO\\Proceso Matrícula (Temporal)</code></strong><a class="headerlink" href="#fact_mineriamineria_colegioproceso-matricula-temporal" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>FACT_MINERIA\\MINERIA_COLEGIO\\Proceso Matrícula (Temporal)</code></strong> es una tarea de flujo de datos (Data Flow Task) que forma parte del proceso de minería de datos en colegios, ubicado dentro del área de minería del Data Warehouse. Esta tarea está diseñada para extraer, transformar y cargar (ETL) información relacionada con el proceso de matrícula (en un contexto temporal) a partir de diversas fuentes, realizando consolidaciones y cálculos específicos para evaluar el comportamiento y desempeño de las inscripciones.</p>
<hr />
<h4 id="que-significa-proceso-matricula-temporal-en-este-contexto"><strong>¿Qué significa "Proceso Matrícula (Temporal)" en este contexto?</strong><a class="headerlink" href="#que-significa-proceso-matricula-temporal-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En este contexto, el término "Proceso Matrícula (Temporal)" se refiere a la fase de procesamiento y consolidación de datos de inscripciones o matrículas, en la que se integran y transforman registros provenientes de las inscripciones escolares. Se consideran aspectos como indicadores de codeudor, secretaría académica, psicología y coordinación académica, entre otros, para medir el tiempo de gestión y cumplimiento de ciertos procesos en el ámbito de la matrícula.</p>
<hr />
<h4 id="proposito-del-componente_11"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_11" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Proceso Matrícula (Temporal)</code></strong> tiene como objetivos:</p>
<ol>
<li>
<p><strong>Extraer Datos de Matrícula:</strong>  </p>
<ul>
<li>Recupera información detallada de la tabla de inscripciones matriculares, consolidando datos relevantes como fecha, año académico, identificador del estudiante (BP), categoría, curso y tipo de estudiante.</li>
</ul>
</li>
<li>
<p><strong>Calcular Indicadores de Gestión:</strong>  </p>
<ul>
<li>Utiliza expresiones condicionales y operaciones de consolidación (mediante subconsultas, PIVOT y OUTER APPLY) para determinar indicadores clave, tales como:<ul>
<li><strong>Indicadores y puntajes de codeudor:</strong><br />
   Se calcula si existe o no codeudor, el puntaje asignado y se evalúa la proporción de cumplimiento.</li>
<li><strong>Indicadores para secretaría académica, psicología y coordinación académica:</strong><br />
   Se determina la existencia, puntaje y condiciones para cada área, comparando los tiempos de gestión con el total esperado y verificando el cumplimiento.</li>
<li><strong>Otros indicadores de gestión:</strong><br />
   Se registran indicadores generales de proceso, cumplimiento, estado de admisión y desistimiento.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Consolidar la Información para su Análisis:</strong>  </p>
<ul>
<li>La salida de este componente contiene los datos transformados y calculados, listos para ser cargados en la tabla de hechos correspondiente, lo que permitirá su posterior análisis y generación de reportes en el Data Warehouse.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_10"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_10" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> Ubicado en el proceso de minería dentro del área <strong><code>FACT_MINERIA\\MINERIA_COLEGIO</code></strong>.</li>
<li><strong>Tarea del Flujo de Datos:</strong> <strong><code>Proceso Matrícula (Temporal)</code></strong></li>
<li><strong>Propósito:</strong> Consolidar y transformar los datos de inscripción para la evaluación del proceso de matrícula en colegios.</li>
</ul>
<hr />
<h4 id="implementacion_10"><strong>Implementación</strong><a class="headerlink" href="#implementacion_10" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Origen de Datos y Consulta SQL:</strong>  </p>
<ul>
<li>La tarea utiliza un componente de fuente de datos (Data Reader Source) que ejecuta una compleja instrucción SQL.  </li>
<li>
<p><strong>SQL Command:</strong><br />
 La consulta SQL está dividida en secciones que incluyen comentarios para facilitar su mantenimiento. La consulta realiza:</p>
<ul>
<li><strong>Selección y agrupación:</strong> Se agrupan datos de la tabla de inscripciones (<strong><code>FACT_INSCRIPCION_MATRICULAS</code></strong>) de distintos sistemas, uniendo información de diversas dimensiones (tiempo, categorías, cursos, tipo de estudiante, etc.).</li>
<li><strong>Uso de OUTER APPLY y PIVOT:</strong> Se aplican estas técnicas para transformar filas en columnas, permitiendo obtener valores agregados (como el tiempo de gestión) para distintos estados del proceso (por ejemplo, codeudor, secretaría académica, psicología y coordinación académica).</li>
<li><strong>Cálculo de indicadores:</strong> Se determinan indicadores binarios (0 o 1) y se establecen condiciones basadas en comparaciones con el total de gestión, así como la evaluación del cumplimiento (IND_CUMPLIMIENTO) y estados del proceso (IND_EN_PROCESO, IND_ADMITIDO, IND_NO_ADMITIDO, IND_DESISTIDO).</li>
</ul>
</li>
<li>
<p><strong>Fragmento SQL:</strong><br />
 <div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w">  </span>
<span class="w">    </span><span class="n">FT</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="p">,</span>
<span class="w">    </span><span class="n">FT</span><span class="p">.</span><span class="n">ID_ANIO_ACADEMICO</span><span class="p">,</span>
<span class="w">    </span><span class="n">FT</span><span class="p">.</span><span class="n">BP</span><span class="p">,</span>
<span class="w">    </span><span class="n">FT</span><span class="p">.</span><span class="n">ID_CATEGORIA</span><span class="p">,</span>
<span class="w">    </span><span class="n">FT</span><span class="p">.</span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">    </span><span class="n">FT</span><span class="p">.</span><span class="n">ID_TIPO_ESTUDIANTE</span><span class="p">,</span>
<span class="w">    </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">FT2</span><span class="p">.[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">IND_CODEUDOR</span><span class="p">,</span>
<span class="w">    </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">FT2</span><span class="p">.[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FT4</span><span class="p">.</span><span class="n">T_TOTAL_GESTION</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">FT3</span><span class="p">.</span><span class="n">IND_CUMPLIMIENTO</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">P_CODEUDOR</span><span class="p">,</span>
<span class="w">    </span><span class="n">FT2</span><span class="p">.[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">T_CODEUDOR</span><span class="p">,</span>
<span class="w">    </span><span class="p">...</span>
<span class="k">FROM</span>
<span class="w">    </span><span class="p">(</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">FT</span>
<span class="w">    </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">FT2</span>
<span class="w">    </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">FT3</span>
<span class="w">    </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">FT4</span>
<span class="w">    </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">FT5</span>
</code></pre></div>
 <em>(El SQL completo está disponible en el componente, y se recomienda su revisión en el entorno de desarrollo para entender todos los detalles y condiciones aplicadas.)</em></p>
</li>
</ul>
</li>
<li>
<p><strong>Transformaciones Adicionales:</strong>  </p>
<ul>
<li>La consulta utiliza diversas funciones de conversión, condicionales (CASE), y agregaciones para calcular los indicadores y consolidar la información en un formato uniforme.</li>
</ul>
</li>
<li>
<p><strong>Destino de los Datos:</strong>  </p>
<ul>
<li>Los datos extraídos y transformados se envían a un componente posterior (TMP_PROCESO_MATRICULA_COLEGIO) para su almacenamiento temporal o consolidación adicional.  </li>
<li>Este destino se configura para escribir los resultados en una tabla temporal (<strong><code>TMP_PROCESO_MATRICULA_COLEGIO</code></strong>) ubicada en el área de staging (STAGE_AREA), lo que permite validar la transformación antes de su integración final en el Data Warehouse.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_13"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_13" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Integración de Procesos de Matrícula:</strong><br />
  Se consolidan datos de inscripciones provenientes de diferentes orígenes y sistemas, evaluando indicadores específicos relacionados con:</p>
<ul>
<li>La existencia y desempeño de codeudores.</li>
<li>La participación de áreas de apoyo académico como secretaría, psicología y coordinación.</li>
<li>El cumplimiento de tiempos de gestión y otros indicadores de proceso.</li>
</ul>
</li>
<li>
<p><strong>Evaluación del Cumplimiento:</strong><br />
  Se comparan los tiempos de gestión registrados con el total esperado (T_TOTAL_GESTION) y se determina si se cumplen los criterios establecidos para cada área (indicadores P_CODEUDOR, P_SECRETARIA_ACADEMICA, P_PSICOLOGIA, P_COORDINACION_ACADEMICA).</p>
</li>
<li>
<p><strong>Determinación de Estados del Proceso:</strong><br />
  Se generan indicadores binarios para reflejar la existencia de ciertos estados (por ejemplo, codeudor, secretaría, psicología, coordinación) y el cumplimiento general del proceso de matrícula.</p>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_14"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_14" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Preprocesamiento:</strong><br />
  Este componente se ejecuta como parte del proceso de minería para los datos de matrícula, donde se prepara la información antes de la carga final en las tablas de hechos o en procesos de análisis posterior.</p>
</li>
<li>
<p><strong>Integración en el Flujo ETL:</strong><br />
  Los datos transformados por este flujo son utilizados para alimentar reportes y análisis en el Data Warehouse, proporcionando indicadores clave sobre el proceso de matrícula en colegios.</p>
</li>
<li>
<p><strong>Dependencias:</strong>  </p>
<ul>
<li>Depende de la correcta integración y calidad de los datos provenientes de <strong><code>FACT_INSCRIPCION_MATRICULAS</code></strong> y otras dimensiones relacionadas.</li>
<li>La configuración de las conexiones (principalmente <strong><code>DWH_COMFENALCO</code></strong>) es esencial para acceder a las fuentes de datos y escribir en el área de staging.</li>
</ul>
</li>
</ul>
<h3 id="fact_mineriamineria_colegiogestion-matriculas"><strong><code>FACT_MINERIA\MINERIA_COLEGIO\Gestion Matriculas</code></strong><a class="headerlink" href="#fact_mineriamineria_colegiogestion-matriculas" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>Package\FACT_MINERIA\MINERIA_COLEGIO\Gestion Matriculas</code></strong> es una tarea de flujo de datos (Data Flow Task) dentro del paquete SSIS que forma parte del proceso ETL para el módulo de minería en colegios. Su función principal es gestionar la transformación y carga de la información relacionada con las matrículas escolares, proveniente de un área de staging, hacia el Data Warehouse, facilitando el análisis de la gestión de matrículas en el contexto de minería.</p>
<hr />
<h4 id="que-significa-gestion-matriculas-en-este-contexto"><strong>¿Qué significa "Gestion Matriculas" en este contexto?</strong><a class="headerlink" href="#que-significa-gestion-matriculas-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En este contexto, "Gestion Matriculas" se refiere al proceso de extracción, transformación y carga de datos relacionados con el proceso de matrícula en colegios. Esto incluye la consolidación de información sobre períodos académicos, fechas de inicio y fin de las gestiones, tiempo invertido en el proceso y la clasificación de la actividad (por ejemplo, "Gestión Codeudor", "Gestión Secretaria Académica", "Gestión Psicología", "Gestión Coordinación Académica", "En Proceso", "Estudiante Admitido", "Estudiante No Admitido" y "Estudiante Con Proceso Desistido").</p>
<hr />
<h4 id="proposito-del-componente_12"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_12" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Gestion Matriculas</code></strong> tiene como objetivos:</p>
<ol>
<li>
<p><strong>Extraer datos de matrículas:</strong>  </p>
<ul>
<li>Obtener registros de la tabla de staging <strong><code>[STAGE_AREA].[Transversal].[TMP_PROCESO_MATRICULA_COLEGIO]</code></strong> que contienen información detallada del proceso de matrícula en colegios.</li>
</ul>
</li>
<li>
<p><strong>Transformar la información:</strong>  </p>
<ul>
<li>Realizar conversiones y transformaciones de datos, por ejemplo:<ul>
<li>Calcular el campo <strong><code>ID_FECHA_MENSUAL</code></strong> a partir del año académico.</li>
<li>Convertir el campo <strong><code>ID_FECHA</code></strong> a tipo <code>datetime</code> para obtener la <strong><code>FECHA_INICIAL</code></strong>.</li>
<li>Calcular la <strong><code>FECHA_FINAL</code></strong> sumando los segundos especificados en <strong><code>TIEMPO_SEGUNDOS</code></strong> a la <strong><code>FECHA_INICIAL</code></strong>.</li>
</ul>
</li>
<li>Asignar un valor fijo de <code>1</code> a <strong><code>ID_UNIDAD</code></strong>.</li>
<li>Determinar la actividad del proceso (p. ej., "Gestión Codeudor", "Gestión Secretaria Académica", etc.) según indicadores específicos.</li>
</ul>
</li>
<li>
<p><strong>Cargar la información en el Data Warehouse:</strong>  </p>
<ul>
<li>Enviar los datos transformados al destino configurado para su inserción en la tabla de hechos de minería en el Data Warehouse, utilizando el administrador de conexiones <strong><code>DWH_COMFENALCO</code></strong>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_11"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_11" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> Se ubica dentro del proceso <strong><code>FACT_MINERIA\MINERIA_COLEGIO</code></strong>.</li>
<li><strong>Tarea de Flujo de Datos:</strong> <strong><code>Gestion Matriculas</code></strong>.</li>
<li><strong>Componentes Principales:</strong><ul>
<li><strong>Consulta Matriculas Colegio Mineria:</strong> Componente que extrae y transforma los datos de matrículas.</li>
<li><strong>Destino de ADO NET:</strong> Componente que carga la información en la tabla de destino en el Data Warehouse.</li>
</ul>
</li>
</ul>
<hr />
<h4 id="implementacion_11"><strong>Implementación</strong><a class="headerlink" href="#implementacion_11" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos:</strong></p>
<ul>
<li>Se utiliza el componente <strong><code>Consulta Matriculas Colegio Mineria</code></strong> para extraer datos de la tabla <strong><code>[STAGE_AREA].[Transversal].[TMP_PROCESO_MATRICULA_COLEGIO]</code></strong>.  </li>
<li>La consulta SQL realiza lo siguiente:<ul>
<li>Selecciona campos como <strong><code>BP</code></strong>, <strong><code>ID_FECHA_MENSUAL</code></strong>, <strong><code>ID_ANIO_ACADEMICO</code></strong>, y calcula los campos <strong><code>FECHA_INICIAL</code></strong> y <strong><code>FECHA_FINAL</code></strong>:</li>
<li><strong><code>FECHA_INICIAL</code></strong> se obtiene convirtiendo <strong><code>ID_FECHA</code></strong> a <code>datetime</code>.</li>
<li><strong><code>FECHA_FINAL</code></strong> se calcula utilizando la función <code>DATEADD(SECOND, TIEMPO_SEGUNDOS, FECHA_INICIAL)</code>.</li>
<li>Asigna el valor <code>1</code> a <strong><code>ID_UNIDAD</code></strong>.</li>
<li>Extrae además campos que identifican la actividad (por ejemplo, "Gestión Codeudor", "Gestión Secretaria Académica", "Gestión Psicología" o "Gestión Coordinación Académica") según indicadores (como <strong><code>P_CODEUDOR</code></strong>, <strong><code>P_SECRETARIA_ACADEMICA</code></strong>, <strong><code>P_PSICOLOGIA</code></strong> y **<code>P_COORDINACION_ACADEMICA</code>).</li>
<li>Se agrupan y unifican los resultados mediante <code>UNION ALL</code> para consolidar la información de distintas actividades.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Transformación:</strong></p>
<ul>
<li>La consulta transforma el campo <strong><code>ID_ANIO_ACADEMICO</code></strong> concatenándolo con '0101' y convirtiéndolo en un entero para generar <strong><code>ID_FECHA_MENSUAL</code></strong>.</li>
<li>Se utilizan conversiones de tipo para asegurar que los campos de fecha sean compatibles y se calculen correctamente.</li>
<li>Se definen actividades específicas y se asignan valores a <strong><code>TIEMPO_SEGUNDOS</code></strong> para reflejar el tiempo invertido en cada proceso de matrícula.</li>
</ul>
</li>
<li>
<p><strong>Carga:</strong></p>
<ul>
<li>El componente <strong><code>Destino de ADO NET</code></strong> recibe los datos transformados y los carga en la tabla de destino, configurada para la minería en el Data Warehouse, utilizando la conexión <strong><code>DWH_COMFENALCO</code></strong>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_14"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_14" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Consolidación de Matrículas:</strong><br />
  Se integran datos de diferentes procesos de matrícula (por ejemplo, Codeudor, Secretaría Académica, Psicología y Coordinación Académica) en un único flujo de datos, permitiendo un análisis global del proceso de matriculación en colegios.</p>
</li>
<li>
<p><strong>Gestión del Tiempo:</strong><br />
  Se generan dos columnas cruciales:  </p>
<ul>
<li><strong><code>FECHA_INICIAL</code>:</strong> Marca el inicio del proceso de matrícula.</li>
<li><strong><code>FECHA_FINAL</code>:</strong> Determina el final del proceso sumando los segundos especificados en <strong><code>TIEMPO_SEGUNDOS</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Clasificación de Actividades:</strong><br />
  La actividad se etiqueta según el tipo de proceso de matrícula, lo que facilita el análisis y la generación de reportes específicos por actividad.</p>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_15"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_15" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Integración en el Proceso ETL de Minería:</strong><br />
  Este componente es crucial para consolidar y transformar los datos de matrícula, que se integrarán en el cubo OLAP del Data Warehouse para análisis posteriores.</p>
</li>
<li>
<p><strong>Dependencia Dimensional:</strong><br />
  Se relaciona con la dimensión temporal <strong><code>DIM_TIEMPO_MENSUAL</code></strong>, ya que se utiliza para calcular y validar el campo <strong><code>ID_FECHA_MENSUAL</code></strong>.</p>
</li>
</ul>
<h3 id="fact_mineriamineria_colegiopqrs-colegio"><strong><code>FACT_MINERIA\MINERIA_COLEGIO\PQRs Colegio</code></strong><a class="headerlink" href="#fact_mineriamineria_colegiopqrs-colegio" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>PQRs Colegio</code></strong> es una tarea de flujo de datos (Data Flow Task) dentro del proceso ETL del módulo de minería para colegios. Este flujo se encarga de extraer, transformar y cargar información relacionada con las PQRs (Peticiones, Quejas y Reclamos) emitidas por los acudientes de los estudiantes, integrando datos provenientes de diversas fuentes para su análisis en el Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>.</p>
<hr />
<h4 id="que-significa-pqrs-colegio-en-este-contexto"><strong>¿Qué significa "PQRs Colegio" en este contexto?</strong><a class="headerlink" href="#que-significa-pqrs-colegio-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En este entorno, <strong>"PQRs Colegio"</strong> se refiere a la información relativa a las peticiones, quejas y reclamos presentados por los acudientes de los estudiantes en el ámbito escolar. Estos registros permiten analizar la gestión de incidencias y la calidad del servicio en los colegios, siendo esenciales para el monitoreo y mejora continua de los procesos administrativos y educativos.</p>
<hr />
<h4 id="proposito-del-componente_13"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_13" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>PQRs Colegio</code></strong> tiene como principales objetivos:</p>
<ol>
<li>
<p><strong>Extraer Datos de PQRs:</strong>  </p>
<ul>
<li>Recuperar registros de la tabla de hechos <strong><code>FACT_PQRS</code></strong> y combinarlos con información de afiliados y acudientes, para identificar las PQRs presentadas por los acudientes.</li>
</ul>
</li>
<li>
<p><strong>Transformar la Información:</strong>  </p>
<ul>
<li>Utilizar una consulta SQL compleja con expresiones comunes (CTE) para:<ul>
<li>Calcular el campo <strong><code>ID_FECHA_MENSUAL</code></strong> a partir de la fecha de creación de la PQR.</li>
<li>Extraer el año académico y establecer la unidad (en este caso, la unidad es 1).</li>
<li>Determinar las fechas de inicio y finalización del proceso PQR (convertir la fecha original y calcular el lapso en segundos mediante <code>DATEDIFF</code>).</li>
<li>Clasificar la actividad concatenando la palabra "PQR" con la causa, en minúscula, para formar el descriptor de actividad.</li>
</ul>
</li>
<li>Posteriormente, se realiza un <em>LEFT JOIN</em> con los datos de inscripciones (tomados de <strong><code>FACT_INSCRIPCION_MATRICULAS</code></strong> en el ámbito colegio) para agregar información adicional de clasificación, como categoría, curso y tipo de estudiante.</li>
</ul>
</li>
<li>
<p><strong>Cargar la Información:</strong>  </p>
<ul>
<li>Los datos transformados se envían a la tabla <strong><code>[Transversal].[FACT_MINERIA]</code></strong> utilizando un componente de destino ADO NET, facilitando su posterior análisis en el Data Warehouse.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_12"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_12" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> <code>Package\FACT_MINERIA\MINERIA_COLEGIO\PQRs Colegio</code></li>
<li><strong>Tarea de Flujo de Datos:</strong> <code>PQRs Colegio</code></li>
<li><strong>Componentes Principales:</strong><ul>
<li><strong>Consulta PQRs:</strong> Extrae y transforma la información proveniente de las PQRs.</li>
<li><strong>FACT_MINERIA:</strong> Encargado de formatear y preparar la información para la carga.</li>
<li><strong>Lookup:</strong> Realiza búsquedas en la tabla de destino para complementar la información, basándose en el campo <strong><code>BP</code></strong>.</li>
</ul>
</li>
</ul>
<hr />
<h4 id="implementacion_12"><strong>Implementación</strong><a class="headerlink" href="#implementacion_12" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos: Consulta PQRs</strong></p>
<ul>
<li>
<p><strong>Extracción:</strong><br />
 El componente <strong><code>Consulta PQRs</code></strong> utiliza una consulta SQL que define varias CTE:</p>
<ul>
<li><strong><code>PQRS_ACUDIENTES</code></strong>: Extrae los datos de PQRs de la tabla <strong><code>FACT_PQRS</code></strong>, realizando conversiones para obtener:</li>
<li><strong><code>BP</code></strong>: El identificador del acudiente (a partir de la clave del estudiante).</li>
<li><strong><code>ID_FECHA_MENSUAL</code></strong>: Se calcula convirtiendo la parte correspondiente de la fecha de la PQR a un entero (por ejemplo, <em>YYYYMM01</em>).</li>
<li><strong><code>ID_ANIO_ACADEMICO</code></strong>: Extraído del campo de fecha, transformado para reflejar el año académico.</li>
<li><strong><code>FECHA_INICIAL</code></strong> y <strong><code>FECHA_FINAL</code></strong>: Derivadas de los campos <strong><code>FECHA_CREACION</code></strong> y <strong><code>FECHA_RESOLUCION</code></strong> respectivamente.</li>
<li><strong><code>ACTIVIDAD</code></strong>: Se forma concatenando la palabra "PQR" con la causa (en minúscula).</li>
<li>
<p><strong><code>TIEMPO_SEGUNDOS</code></strong>: Calculado mediante la función <code>DATEDIFF</code> en segundos entre la fecha de creación y la fecha de resolución.</p>
</li>
<li>
<p><strong><code>UniqueRows</code></strong> e <strong><code>Inscripcion_Matriculas</code></strong>:<br />
       Estas CTE se utilizan para seleccionar, a partir de la tabla <strong><code>FACT_INSCRIPCION_MATRICULAS</code></strong> (del ámbito colegio), la fila única por acudiente y año académico que contiene información de inscripción, permitiendo obtener los valores de <strong><code>ID_CATEGORIA</code></strong>, <strong><code>ID_CURSO</code></strong> y <strong><code>ID_TIPO_ESTUDIANTE</code></strong>.</p>
</li>
</ul>
</li>
<li>
<p><strong>Combinación:</strong><br />
 Finalmente, se realiza un <code>LEFT JOIN</code> entre los datos de <strong><code>PQRS_ACUDIENTES</code></strong> y <strong><code>Inscripcion_Matriculas</code></strong> para incorporar la clasificación correspondiente a cada registro de PQR.</p>
</li>
<li>
<p><strong>Consulta SQL:</strong><br />
 La consulta SQL completa del componente es la siguiente:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">WITH</span><span class="w"> </span><span class="n">PQRS_ACUDIENTES</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="n">ac</span><span class="p">.[</span><span class="n">BP_ESTUDIANTE</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">BP</span><span class="p">,</span>
<span class="w">        </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">        </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ANIO_ACADEMICO</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_UNIDAD</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">FECHA_CREACION</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_INICIAL</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">FECHA_RESOLUCION</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_FINAL</span><span class="p">,</span>
<span class="w">        </span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;PQR &#39;</span><span class="p">,</span><span class="w"> </span><span class="k">LOWER</span><span class="p">([</span><span class="n">CAUSA</span><span class="p">]))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">        </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="k">SECOND</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">FECHA_CREACION</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">FECHA_RESOLUCION</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIEMPO_SEGUNDOS</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">VALOR_PAGADO</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_PQRS</span><span class="p">]</span><span class="w"> </span><span class="n">f</span>
<span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">tm</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_AFILIADOS</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">f</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span>
<span class="w">    </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Colegio</span><span class="p">].[</span><span class="n">DIM_ACUDIENTES</span><span class="p">]</span><span class="w"> </span><span class="n">ac</span><span class="w"> </span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="n">ac</span><span class="p">.[</span><span class="n">BP_ACUDIENTE</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">PARTNER</span><span class="p">]</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">ID_AFILIADO</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="p">),</span>
<span class="n">UniqueRows</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">BP</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">ANIO_ACADEMICO</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_CATEGORIA_FAMILIAR</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CATEGORIA</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_CURSO</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_TIPO_ESTUDIANTE</span><span class="p">],</span>
<span class="w">        </span><span class="n">ROW_NUMBER</span><span class="p">()</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="n">BP</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ANIO_ACADEMICO</span><span class="p">]</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="k">DESC</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">RowNum</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Colegio</span><span class="p">].[</span><span class="n">FACT_INSCRIPCION_MATRICULAS</span><span class="p">]</span>
<span class="p">),</span>
<span class="n">Inscripcion_Matriculas</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">BP</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">ANIO_ACADEMICO</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_CATEGORIA</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_CURSO</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">ID_TIPO_ESTUDIANTE</span><span class="p">]</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">UniqueRows</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">RowNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">pa</span><span class="p">.</span><span class="o">*</span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">ID_CATEGORIA</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CATEGORIA</span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">ID_CURSO</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">ID_TIPO_ESTUDIANTE</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_TIPO_ESTUDIANTE</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">PQRS_ACUDIENTES</span><span class="w"> </span><span class="n">pa</span>
<span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">Inscripcion_Matriculas</span><span class="w"> </span><span class="n">im</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">im</span><span class="p">.[</span><span class="n">BP</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pa</span><span class="p">.[</span><span class="n">BP</span><span class="p">]</span><span class="w"> </span>
<span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="n">im</span><span class="p">.[</span><span class="n">ANIO_ACADEMICO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pa</span><span class="p">.[</span><span class="n">ID_ANIO_ACADEMICO</span><span class="p">]</span>
</code></pre></div>
</li>
<li>
<p><strong>Carga de Datos:</strong></p>
<ul>
<li>
<p><strong>Destino de ADO NET:</strong><br />
 El componente de destino toma los datos procesados por la consulta y los carga en la tabla <strong><code>[Transversal].[FACT_MINERIA]</code></strong> del Data Warehouse.  </p>
</li>
<li>
<p>La configuración del destino utiliza la conexión <strong><code>DWH_COMFENALCO</code></strong> para insertar la información de las PQRs junto con los campos adicionales obtenidos a través del <em>LEFT JOIN</em>.</p>
</li>
</ul>
</li>
<li>
<p><strong>Lookup (Opcional):</strong></p>
<ul>
<li>Se utiliza un componente <strong><code>Lookup</code></strong> para comparar o complementar los datos extraídos de la fuente con los registros existentes en <strong><code>FACT_MINERIA</code></strong>, asegurando la integridad y consistencia de la información.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_15"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_15" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Consolidación de PQRs:</strong><br />
  El flujo extrae las PQRs generadas por los acudientes, calcula el período mensual y el tiempo de gestión (en segundos) y las clasifica mediante la concatenación de la palabra "PQR" con la causa.  </li>
<li><strong>Integración de Datos de Inscripción:</strong><br />
  Se complementa la información de las PQRs con datos de inscripción (como categoría, curso y tipo de estudiante) obtenidos de la fuente de matrículas, permitiendo un análisis más integral.</li>
<li><strong>Validación Temporal:</strong><br />
  Se utiliza la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> para validar y estandarizar el campo <strong><code>ID_FECHA_MENSUAL</code></strong>, asegurando la coherencia temporal en los datos cargados.</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_16"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_16" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Integración en el Módulo de Minería:</strong><br />
  Los datos procesados en <strong><code>PQRs Colegio</code></strong> se integran con otros módulos del proceso ETL de minería, lo que permite analizar la incidencia de las PQRs junto con otros indicadores relevantes para la toma de decisiones.</li>
<li><strong>Conexión con Dimensiones:</strong><br />
  La validación y transformación de las fechas se realiza en conjunto con la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong>, garantizando que los datos estén alineados con el marco temporal del Data Warehouse.</li>
</ul>
<h3 id="fact_mineriamineria_educacion_tecnica_y_continuainscripcion"><strong><code>FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Inscripcion</code></strong><a class="headerlink" href="#fact_mineriamineria_educacion_tecnica_y_continuainscripcion" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>Inscripcion</code></strong> es una tarea de flujo de datos (Data Flow Task) que forma parte del proceso ETL del módulo de minería para educación técnica y continua. Este componente se encarga de extraer, transformar y cargar información relacionada con las inscripciones de estudiantes (ya sean afiliados, beneficiarios o de empresas) en el Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>. La información consolidada es fundamental para el análisis y seguimiento de la gestión de matrículas en programas técnicos y de educación continua.</p>
<hr />
<h4 id="que-representa-inscripcion-en-este-contexto"><strong>¿Qué representa "Inscripcion" en este contexto?</strong><a class="headerlink" href="#que-representa-inscripcion-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En el contexto de minería educativa, <strong>"Inscripcion"</strong> se refiere al proceso de captura y procesamiento de datos de inscripciones de estudiantes. Esto incluye:
- La extracción de datos desde las fuentes operativas en Cedesarrollo.
- La transformación de fechas y asignación de etiquetas según el estado de inscripción.
- La clasificación de los registros en función del origen (afiliados, beneficiarios, empresas o no aportantes).</p>
<p>Esta información se utiliza para generar indicadores que permiten evaluar el desempeño y la eficiencia en la gestión de matrículas.</p>
<hr />
<h4 id="proposito-del-componente_14"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_14" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Inscripcion</code></strong> tiene como objetivos:</p>
<ol>
<li>
<p><strong>Extraer:</strong></p>
<ul>
<li>Obtener los registros de inscripción de la fuente <strong><code>[Cedesarrollo].[FACT_INSCRIPCION_MATRICULAS]</code></strong>.</li>
<li>Realizar uniones (JOIN) con dimensiones relacionadas, como:<ul>
<li><strong><code>[DIM_ESTUDIANTES]</code></strong> para obtener datos del estudiante.</li>
<li><strong><code>[DIM_AFILIADOS]</code></strong> y <strong><code>[DIM_BENEFICIARIOS]</code></strong> para clasificar el tipo de estudiante.</li>
<li><strong><code>[DIM_JORNADA]</code></strong> para determinar la unidad organizacional.</li>
<li><strong><code>[DIM_TIEMPO_MENSUAL]</code></strong> para asignar el período académico mediante el campo <strong><code>ID_FECHA_MENSUAL</code></strong>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Transformar:</strong></p>
<ul>
<li>Convertir la fecha de inscripción al formato deseado, usando la función <code>FORMAT</code> para obtener el primer día del mes en el campo <strong><code>ID_FECHA_MENSUAL</code></strong>.</li>
<li>Extraer el año académico mediante la función <code>YEAR(im.[FECHA])</code>.</li>
<li>Definir los campos <strong><code>FECHA_INICIAL</code></strong> y <strong><code>FECHA_FINAL</code></strong> a partir de la fecha de inscripción.</li>
<li>Clasificar la inscripción en diferentes actividades mediante una estructura CASE:<ul>
<li>Por ejemplo, "Estudiante Inscrito" o "Estudiante con Proceso Desistido" según el valor del campo <strong><code>ESTADO</code></strong>.</li>
</ul>
</li>
<li>Asignar valores fijos para campos no aplicables en este contexto, como <strong><code>ID_CURSO</code></strong> e <strong><code>ID_TIPO_ESTUDIANTE</code></strong> (se asigna <code>-1</code>) y valores nulos para otros indicadores.</li>
</ul>
</li>
<li>
<p><strong>Cargar:</strong></p>
<ul>
<li>Insertar los datos transformados en la tabla de destino <strong><code>[Transversal].[FACT_MINERIA]</code></strong> mediante el componente <strong><code>Destino de ADO NET</code></strong>.</li>
<li>La carga se realiza a través de la conexión administrada <strong><code>DWH_COMFENALCO</code></strong>, garantizando la inserción correcta y el mapeo de las columnas.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="implementacion_13"><strong>Implementación</strong><a class="headerlink" href="#implementacion_13" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Consulta Inscripcion:</strong><ul>
<li>El componente <strong><code>Consulta Inscripcion</code></strong> ejecuta una consulta SQL que extrae datos de inscripción desde la tabla <strong><code>[Cedesarrollo].[FACT_INSCRIPCION_MATRICULAS]</code></strong>.  </li>
<li>La consulta se divide en varios bloques mediante <code>UNION ALL</code> para cubrir diferentes escenarios:<ul>
<li><strong>Afiliados:</strong> Registros donde se une con <strong><code>[DIM_AFILIADOS]</code></strong>.</li>
<li><strong>Beneficiarios:</strong> Registros donde se une con <strong><code>[DIM_BENEFICIARIOS]</code></strong> (con un <code>LEFT JOIN</code> a <strong><code>[DIM_AFILIADOS]</code></strong> para obtener información adicional).</li>
<li><strong>Empresas:</strong> Registros provenientes de empresas, utilizando <strong><code>[DIM_EMPRESAS]</code></strong>.</li>
<li><strong>No Aportante:</strong> Registros para los que la suma de los identificadores de afiliado, empresa y beneficiario es igual a -3.</li>
</ul>
</li>
<li>La consulta transforma el campo <strong><code>im.[FECHA]</code></strong> mediante:<ul>
<li><code>CAST(FORMAT(im.[FECHA], 'yyyyMM01') AS INT)</code> para obtener <strong><code>ID_FECHA_MENSUAL</code></strong>.</li>
<li><code>YEAR(im.[FECHA])</code> para determinar el año académico (<strong><code>ID_ANIO_ACADEMICO</code></strong>).</li>
</ul>
</li>
<li>Se establecen valores fijos para ciertos campos, como <strong><code>ID_CURSO</code></strong> y <strong><code>ID_TIPO_ESTUDIANTE</code></strong>, asignados a <code>-1</code>.</li>
<li>La columna <strong><code>ACTIVIDAD</code></strong> se determina mediante un <code>CASE</code>, asignando etiquetas basadas en el valor de <strong><code>im.[ESTADO]</code></strong> (por ejemplo, "Estudiante Inscrito" o "Estudiante con Proceso Desistido").</li>
</ul>
</li>
</ol>
<p><strong>Fragmento del Código SQL Utilizado:</strong>
   <div class="highlight"><pre><span></span><code><span class="w"> </span><span class="c1">-- Afiliados</span>
<span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">PARTNER</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">BP</span><span class="p">,</span>
<span class="w">    </span><span class="k">CAST</span><span class="p">(</span><span class="n">FORMAT</span><span class="p">(</span><span class="n">im</span><span class="p">.[</span><span class="n">FECHA</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyyMM01&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INT</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">    </span><span class="k">YEAR</span><span class="p">(</span><span class="n">im</span><span class="p">.[</span><span class="n">FECHA</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ANIO_ACADEMICO</span><span class="p">,</span>
<span class="w">    </span><span class="n">j</span><span class="p">.[</span><span class="n">ID_UNIDAD</span><span class="p">],</span>
<span class="w">    </span><span class="n">im</span><span class="p">.[</span><span class="n">FECHA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_INICIAL</span><span class="p">,</span>
<span class="w">    </span><span class="n">im</span><span class="p">.[</span><span class="n">FECHA</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_FINAL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CASE</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">im</span><span class="p">.[</span><span class="n">ESTADO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INSCRITO&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;Estudiante Inscrito&#39;</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">im</span><span class="p">.[</span><span class="n">ESTADO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;NO INSCRITO&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;Estudiante con Proceso Desistido&#39;</span>
<span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;Sin Identificar&#39;</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIEMPO_SEGUNDOS</span><span class="p">,</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">VALOR_PAGADO</span><span class="p">,</span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_CATEGORIA</span><span class="p">],</span>
<span class="w">     </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">     </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_TIPO_ESTUDIANTE</span><span class="p">,</span>
<span class="w">    </span><span class="n">im</span><span class="p">.[</span><span class="n">ID_PROGRAMA</span><span class="p">]</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">FACT_INSCRIPCION_MATRICULAS</span><span class="p">]</span><span class="w"> </span><span class="n">im</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">DIM_ESTUDIANTES</span><span class="p">]</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">im</span><span class="p">.[</span><span class="n">ID_ESTUDIANTE</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.[</span><span class="n">ID_ESTUDIANTE</span><span class="p">]</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_AFILIADOS</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">e</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Cedesarrollo</span><span class="p">].[</span><span class="n">DIM_JORNADA</span><span class="p">]</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">im</span><span class="p">.[</span><span class="n">ID_JORNADA</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">.[</span><span class="n">ID_JORNADA</span><span class="p">]</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">tm</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">FORMAT</span><span class="p">(</span><span class="n">im</span><span class="p">.[</span><span class="n">FECHA</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;yyyyMM01&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INT</span><span class="p">)</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">ID_AFILIADO</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span>

<span class="k">UNION</span><span class="w"> </span><span class="k">ALL</span>

<span class="w"> </span><span class="c1">-- (Otros bloques UNION ALL para beneficiarios, empresas y no aportantes)</span>
</code></pre></div></p>
<ol>
<li><strong>Destino de ADO NET:</strong><ul>
<li>El componente <strong><code>Destino de ADO NET</code></strong> recibe la salida del componente <strong><code>Consulta Inscripcion</code></strong>.</li>
<li>Se configura para cargar los datos en la tabla <strong><code>[Transversal].[FACT_MINERIA]</code></strong> en el Data Warehouse.</li>
<li>La conexión se establece mediante el Connection Manager <strong><code>DWH_COMFENALCO</code></strong>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_13"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_13" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> <code>Package\FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Inscripcion</code></li>
<li><strong>Tarea de Flujo de Datos:</strong> <code>Inscripcion</code></li>
<li><strong>Componentes Clave:</strong><ul>
<li><strong>Consulta Inscripcion:</strong> Extrae y transforma los datos de inscripciones.</li>
<li><strong>Destino de ADO NET:</strong> Carga los datos transformados en la tabla de hechos de minería.</li>
</ul>
</li>
</ul>
<hr />
<h4 id="logica-de-negocio_16"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_16" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Clasificación y Segmentación:</strong></p>
<ul>
<li>La consulta segmenta los registros de inscripciones según el origen del estudiante (afiliado, beneficiario, empresa o no aportante) y asigna una etiqueta en la columna <strong><code>ACTIVIDAD</code></strong> para facilitar el análisis.</li>
</ul>
</li>
<li>
<p><strong>Transformación de Fechas:</strong></p>
<ul>
<li>Se utiliza <code>FORMAT</code> y <code>CAST</code> para convertir la fecha de inscripción en <strong><code>ID_FECHA_MENSUAL</code></strong>, lo que permite relacionar el registro con la dimensión temporal.</li>
<li>Los campos <strong><code>FECHA_INICIAL</code></strong> y <strong><code>FECHA_FINAL</code></strong> se asignan con el mismo valor de fecha, lo que indica la fecha de la inscripción.</li>
</ul>
</li>
<li>
<p><strong>Valores Predeterminados:</strong></p>
<ul>
<li>Se asignan valores fijos para campos no aplicables en este contexto, como <strong><code>ID_CURSO</code></strong> e <strong><code>ID_TIPO_ESTUDIANTE</code></strong>, establecidos en <code>-1</code>.</li>
<li>Los campos <strong><code>TIEMPO_SEGUNDOS</code></strong> y <strong><code>VALOR_PAGADO</code></strong> se asignan a <code>0</code>, ya que para la inscripción estos valores no son relevantes.</li>
</ul>
</li>
</ul>
<hr />
<h3 id="fact_mineriamineria_educacion_tecnica_y_continuaadmision"><strong><code>FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Admision</code></strong><a class="headerlink" href="#fact_mineriamineria_educacion_tecnica_y_continuaadmision" title="Permanent link">&para;</a></h3>
<p>El componente <strong><code>Admision</code></strong> es una tarea de flujo de datos (Data Flow Task) que forma parte del proceso ETL en el entorno de minería, específicamente dentro del módulo de educación técnica y continua. Su función es extraer, transformar y cargar información relativa a la admisión de estudiantes en programas educativos, consolidando datos provenientes de fuentes operacionales y de staging para su análisis en el Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>.</p>
<hr />
<h4 id="que-significa-admision-en-este-contexto"><strong>¿Qué significa "Admision" en este contexto?</strong><a class="headerlink" href="#que-significa-admision-en-este-contexto" title="Permanent link">&para;</a></h4>
<p>En este contexto, <strong>"Admision"</strong> se refiere al proceso mediante el cual se registran y validan los datos de admisión de estudiantes. Esto incluye información sobre:
- <strong>Períodos académicos:</strong> Se extrae el año y el mes de matrícula para asociarlo con la dimensión temporal.
- <strong>Identificadores de unidad:</strong> Se determina la unidad organizativa (por ejemplo, la escuela o centro educativo) que gestiona la admisión.
- <strong>Fechas:</strong> Se establecen la fecha inicial y final de la admisión.
- <strong>Actividad:</strong> Se clasifica la actividad de admisión, diferenciando por ejemplo entre “Estudiante Admitido Nuevo” y “Estudiante Admitido Antiguo”.
- <strong>Tiempo de gestión:</strong> Se captura el tiempo (en segundos) invertido en el proceso de admisión, aunque en este caso se establece en cero, lo que puede indicar que el tiempo no es relevante para esta etapa o que se gestiona en otro proceso.</p>
<hr />
<h4 id="proposito-del-componente_15"><strong>Propósito del Componente</strong><a class="headerlink" href="#proposito-del-componente_15" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Admision</code></strong> tiene como objetivos principales:</p>
<ol>
<li>
<p><strong>Extraer datos de admisión:</strong>  </p>
<ul>
<li>Obtener información de las matrículas registradas en el sistema operativo, en este caso desde la tabla <strong><code>[DWH_COMFENALCO].[Cedesarrollo].[FACT_ESTADO_MATRICULAS]</code></strong> y sus fuentes relacionadas, integrando datos de estudiantes, afiliados, beneficiarios y empresas.</li>
</ul>
</li>
<li>
<p><strong>Transformar la información:</strong>  </p>
<ul>
<li>Calcular el identificador del período (<strong><code>ID_FECHA_MENSUAL</code></strong>) a partir de la fecha de matrícula formateada (por ejemplo, utilizando <code>FORMAT</code> para obtener el primer día del mes).</li>
<li>Determinar el año académico (<strong><code>ID_ANIO_ACADEMICO</code></strong>) y convertir las fechas de matrícula en campos de fecha tipo <code>datetime</code> para los campos <strong><code>FECHA_INICIAL</code></strong> y <strong><code>FECHA_FINAL</code></strong>.</li>
<li>Clasificar el registro en función de la procedencia (por ejemplo, “Estudiante Admitido Nuevo” o “Estudiante Admitido Antiguo”) según el valor del semestre.</li>
<li>Incluir otros campos relevantes como <strong><code>ID_CATEGORIA</code></strong>, <strong><code>ID_CURSO</code></strong> y <strong><code>ID_TIPO_ESTUDIANTE</code></strong>, asignando valores fijos o provenientes de la fuente.</li>
</ul>
</li>
<li>
<p><strong>Cargar la información en el Data Warehouse:</strong>  </p>
<ul>
<li>Tras la transformación, los datos se insertan en la tabla de destino <strong><code>[Transversal].[FACT_MINERIA]</code></strong> usando un componente de destino ADO NET, asegurando la consistencia y calidad de la información para posteriores análisis.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="ubicacion_14"><strong>Ubicación</strong><a class="headerlink" href="#ubicacion_14" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Paquete SSIS:</strong> <code>Package\FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA</code></li>
<li><strong>Tarea de Flujo de Datos:</strong> <code>Admision</code></li>
<li><strong>Componentes Principales:</strong><ul>
<li><strong>Origen de ADO NET:</strong> Extrae los datos de admisión mediante una consulta SQL que integra registros de matrículas de estudiantes (afiliados, beneficiarios y empresas) y los transforma para obtener campos como el período académico, fechas y actividad.</li>
<li><strong>Destino de ADO NET:</strong> Carga los datos transformados en la tabla <strong><code>[Transversal].[FACT_MINERIA]</code></strong> en el Data Warehouse.</li>
</ul>
</li>
</ul>
<hr />
<h4 id="implementacion_14"><strong>Implementación</strong><a class="headerlink" href="#implementacion_14" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p><strong>Fuente de Datos:</strong></p>
<ul>
<li>Se utiliza el componente <strong><code>Origen de ADO NET</code></strong> para ejecutar una consulta SQL que extrae datos de admisión. La consulta:<ul>
<li>Selecciona campos como <strong><code>BP</code></strong>, <strong><code>ID_FECHA_MENSUAL</code></strong>, <strong><code>ID_ANIO_ACADEMICO</code></strong>, <strong><code>ID_UNIDAD</code></strong>, <strong><code>FECHA_INICIAL</code></strong>, <strong><code>FECHA_FINAL</code></strong>, <strong><code>ACTIVIDAD</code></strong>, <strong><code>TIEMPO_SEGUNDOS</code></strong>, y otros indicadores.</li>
<li>Utiliza funciones como <code>CAST</code> y <code>FORMAT</code> para transformar y normalizar las fechas. Por ejemplo, se calcula el <strong><code>ID_FECHA_MENSUAL</code></strong> a partir de la fecha de matrícula formateada como <code>yyyyMM01</code>.</li>
<li>Diferencia la actividad de admisión basándose en condiciones sobre el campo <strong><code>SEMESTRE</code></strong>, determinando si el estudiante es "Admitido Nuevo" o "Admitido Antiguo".</li>
<li>Integra datos de distintas fuentes (afiliados, beneficiarios y empresas) mediante cláusulas <code>UNION ALL</code>.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Transformación:</strong></p>
<ul>
<li>Se transforma la fecha de matrícula para generar:<ul>
<li><strong><code>ID_FECHA_MENSUAL</code></strong>: Un entero que representa el primer día del mes del año académico.</li>
<li><strong><code>FECHA_INICIAL</code></strong> y <strong><code>FECHA_FINAL</code></strong>: Convertidos a tipo <code>datetime</code> para poder usarse en análisis temporales.</li>
</ul>
</li>
<li>Se asigna un valor fijo de <code>1</code> a <strong><code>ID_UNIDAD</code></strong>, lo que puede representar la unidad organizativa correspondiente.</li>
<li>Se clasifica la actividad de admisión mediante un <code>CASE</code> que evalúa el campo <strong><code>SEMESTRE</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Carga:</strong></p>
<ul>
<li>El componente <strong><code>Destino de ADO NET</code></strong> recibe la salida del origen y la inserta en la tabla <strong><code>[Transversal].[FACT_MINERIA]</code></strong> usando la conexión administrada <strong><code>DWH_COMFENALCO</code></strong>.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="logica-de-negocio_17"><strong>Lógica de Negocio</strong><a class="headerlink" href="#logica-de-negocio_17" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Integración de Matrículas:</strong><br />
  Se consolidan diferentes tipos de registros de admisión (por afiliados, beneficiarios y empresas) en una única estructura, permitiendo analizar de manera integral la gestión de matrículas en el ámbito de la educación técnica y continua en minería.</p>
</li>
<li>
<p><strong>Conversión y Normalización de Fechas:</strong><br />
  La conversión de la fecha de matrícula a un formato estándar (<code>ID_FECHA_MENSUAL</code>) permite la correcta integración con la dimensión temporal del Data Warehouse, facilitando la generación de reportes y análisis por períodos.</p>
</li>
<li>
<p><strong>Clasificación de la Actividad:</strong><br />
  La lógica del <code>CASE</code> en la consulta SQL determina la etiqueta de la actividad de admisión, diferenciando entre "Estudiante Admitido Nuevo" y "Estudiante Admitido Antiguo", lo que permite analizar tendencias y desempeño en la admisión.</p>
</li>
<li>
<p><strong>Aseguramiento de la Calidad de los Datos:</strong><br />
  Las transformaciones y conversiones se realizan para garantizar que los datos sean consistentes, precisos y compatibles con la estructura de la tabla de destino.</p>
</li>
</ul>
<hr />
<h4 id="relacion-con-otros-componentes_17"><strong>Relación con Otros Componentes</strong><a class="headerlink" href="#relacion-con-otros-componentes_17" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Integración con la Dimensión Temporal:</strong><br />
  La generación del campo <strong><code>ID_FECHA_MENSUAL</code></strong> permite relacionar estos registros con la dimensión <strong><code>DIM_TIEMPO_MENSUAL</code></strong> para análisis temporales.</p>
</li>
<li>
<p><strong>Consolidación en el Data Warehouse:</strong><br />
  Los datos transformados se cargan en la tabla <strong><code>[Transversal].[FACT_MINERIA]</code></strong>, donde se integran con otras áreas del Data Warehouse para generar informes y análisis multidimensionales.</p>
</li>
</ul>
<hr />
<h3 id="componente-fact_mineriamineria_educacion_tecnica_y_continuapago">Componente <strong><code>FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Pago</code></strong><a class="headerlink" href="#componente-fact_mineriamineria_educacion_tecnica_y_continuapago" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general_4">Descripción General<a class="headerlink" href="#descripcion-general_4" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Pago</code></strong> es una tarea de flujo de datos (<strong><code>Data Flow Task</code></strong>) dentro del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>, ubicada en la jerarquía <strong><code>Package\FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA</code></strong>. Este componente está diseñado para procesar y cargar datos relacionados con pagos en el contexto de educación técnica y continua, integrándolos en la tabla de hechos <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_MINERIA]</code></strong> del Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>. Aunque no se proporciona el XML específico para esta tarea, su estructura y propósito pueden inferirse del contexto del paquete y de la documentación previa.</p>
<h4 id="proposito_5">Propósito<a class="headerlink" href="#proposito_5" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Procesamiento de Datos de Pagos</strong>:  <ul>
<li>Extrae información de pagos desde una fuente de datos (probablemente una tabla operacional o intermedia), la transforma para ajustarla al modelo de datos de <strong><code>FACT_MINERIA</code></strong>, y la carga en el Data Warehouse.  </li>
</ul>
</li>
<li><strong>Integración con Dimensiones</strong>:  <ul>
<li>Vincula los datos de pagos con dimensiones relevantes como <strong><code>DIM_TIEMPO_MENSUAL</code></strong>, <strong><code>DIM_AFILIADOS</code></strong>, o <strong><code>DIM_BENEFICIARIOS</code></strong> para enriquecer el análisis.  </li>
</ul>
</li>
<li><strong>Soporte al Análisis Educativo</strong>:  <ul>
<li>Proporciona métricas financieras clave (como el valor pagado y tiempos asociados) para análisis de minería de datos en el ámbito educativo.</li>
</ul>
</li>
</ol>
<h4 id="tablas-afectadas_1">Tablas Afectadas<a class="headerlink" href="#tablas-afectadas_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_MINERIA]</code></strong>:  <ul>
<li>Tabla de hechos destino que almacena datos procesados de pagos relacionados con educación técnica y continua.  </li>
</ul>
</li>
<li><strong>Fuentes Potenciales (Inferidas)</strong>:  <ul>
<li>Una tabla operacional o intermedia que contiene datos de pagos (e.g., <strong><code>FACT_PAGOS</code></strong> o similar).  </li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[DIM_TIEMPO_MENSUAL]</code></strong>: Dimensión temporal para vincular fechas.  </li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[DIM_AFILIADOS]</code></strong>: Dimensión de afiliados.  </li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[DIM_BENEFICIARIOS]</code></strong>: Dimensión de beneficiarios (si aplica).</li>
</ul>
</li>
</ul>
<h4 id="implementacion_15">Implementación<a class="headerlink" href="#implementacion_15" title="Permanent link">&para;</a></h4>
<p>Dado que no se proporciona el XML específico para <strong><code>Pago</code></strong>, la implementación se deduce del patrón observado en tareas similares (como <strong><code>PQRs</code></strong>), ajustada al contexto de procesamiento de pagos:</p>
<p><strong>Estructura del Flujo de Datos (Inferida):</strong><br />
1. <strong>Origen de ADO NET</strong>:<br />
      - <strong>Descripción</strong>: Extrae datos de pagos desde una fuente, probablemente una tabla como <strong><code>FACT_PAGOS</code></strong> o una consulta que combine datos financieros y educativos.<br />
      - <strong>Consulta SQL</strong>:<br />
     <div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">PARTNER</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">BP</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">FECHA_PAGO</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">FECHA_PAGO</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ANIO_ACADEMICO</span><span class="p">,</span>
<span class="w">    </span><span class="n">p</span><span class="p">.[</span><span class="n">ID_UNIDAD</span><span class="p">],</span>
<span class="w">    </span><span class="n">p</span><span class="p">.[</span><span class="n">FECHA_PAGO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_INICIAL</span><span class="p">,</span>
<span class="w">    </span><span class="n">p</span><span class="p">.[</span><span class="n">FECHA_PAGO</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_FINAL</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;PAGO CURSO&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIEMPO_SEGUNDOS</span><span class="p">,</span>
<span class="w">    </span><span class="n">p</span><span class="p">.[</span><span class="n">VALOR_PAGADO</span><span class="p">],</span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_CATEGORIA</span><span class="p">],</span>
<span class="w">    </span><span class="n">p</span><span class="p">.[</span><span class="n">ID_CURSO</span><span class="p">],</span>
<span class="w">    </span><span class="n">p</span><span class="p">.[</span><span class="n">ID_TIPO_ESTUDIANTE</span><span class="p">]</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_PAGOS</span><span class="p">]</span><span class="w"> </span><span class="n">p</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">tm</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">FECHA_PAGO</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_AFILIADOS</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">p</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">ID_UNIDAD</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">VALOR_PAGADO</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
</code></pre></div>
      - <strong>Conexión</strong>: Usa el administrador de conexiones <strong><code>DWH_COMFENALCO</code></strong>.<br />
      - <strong>Propiedades</strong>:<br />
        - <code>CommandTimeout</code>: 30 segundos (típico).<br />
        - <code>AccessMode</code>: 2 (SQL Command).  </p>
<ol>
<li>
<p><strong>Lookup (Opcional)</strong>:  </p>
<ul>
<li><strong>Descripción</strong>: Podría realizar una búsqueda en <strong><code>FACT_MINERIA</code></strong> para verificar duplicados o enriquecer datos usando una clave como <strong><code>BP</code></strong> o <strong><code>ID_CURSO</code></strong>.  </li>
<li><strong>Consulta SQL (Ejemplo)</strong>:<br />
 <div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_MINERIA</span><span class="p">]</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">BP</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span>
</code></pre></div></li>
<li><strong>Conexión</strong>: <strong><code>DWH_COMFENALCO_OLEDB</code></strong>.  </li>
<li><strong>Propiedades</strong>:  <ul>
<li><code>NoMatchBehavior</code>: 1 (enviar filas sin coincidencia a una salida específica).  </li>
<li><code>CacheType</code>: 0 (sin caché).  </li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino de ADO NET</strong>:  </p>
<ul>
<li><strong>Descripción</strong>: Carga los datos transformados en <strong><code>FACT_MINERIA</code></strong>.  </li>
<li><strong>Tabla Destino</strong>: <strong><code>[Transversal].[FACT_MINERIA]</code></strong>.  </li>
<li><strong>Columnas Mapeadas (Inferidas)</strong>:  <ul>
<li><code>BP</code> (wstr, 20): Identificador del afiliado o beneficiario.  </li>
<li><code>ID_FECHA_MENSUAL</code> (i4): Fecha mensual derivada.  </li>
<li><code>ID_ANIO_ACADEMICO</code> (i4): Año académico.  </li>
<li><code>ID_UNIDAD</code> (i4): Unidad operativa.  </li>
<li><code>FECHA_INICIAL</code> (dbTimeStamp): Fecha del pago.  </li>
<li><code>FECHA_FINAL</code> (dbTimeStamp): Igual a inicial (sin duración).  </li>
<li><code>ACTIVIDAD</code> (wstr, 100): "PAGO CURSO" o similar.  </li>
<li><code>TIEMPO_SEGUNDOS</code> (i4): 0 (sin tiempo asociado).  </li>
<li><code>VALOR_PAGADO</code> (i4): Monto del pago.  </li>
<li><code>ID_CATEGORIA</code> (i4): Categoría del afiliado.  </li>
<li><code>ID_CURSO</code> (i4): Identificador del curso.  </li>
<li><code>ID_TIPO_ESTUDIANTE</code> (i4): Tipo de estudiante.  </li>
</ul>
</li>
<li><strong>Conexión</strong>: <strong><code>DWH_COMFENALCO</code></strong>.  </li>
<li><strong>Propiedades</strong>:  <ul>
<li><code>BatchSize</code>: 0 (tamaño de búfer interno).  </li>
<li><code>CommandTimeout</code>: 30 segundos.  </li>
<li><code>UseBulkInsertWhenPossible</code>: True.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="configuracion-en-el-xml-inferida">Configuración en el XML (Inferida)<a class="headerlink" href="#configuracion-en-el-xml-inferida" title="Permanent link">&para;</a></h4>
<p>Basado en el patrón de <strong><code>PQRs</code></strong>, la configuración aproximada sería:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;ns0:Executable</span><span class="w"> </span><span class="na">xmlns:ns0=</span><span class="s">&quot;www.microsoft.com/SqlServer/Dts&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">ns0:refId=</span><span class="s">&quot;Package\FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\Pago&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">ns0:CreationName=</span><span class="s">&quot;Microsoft.Pipeline&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">ns0:Description=</span><span class="s">&quot;Data Flow Task&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">ns0:DTSID=</span><span class="s">&quot;{UNIQUE-GUID}&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">ns0:ExecutableType=</span><span class="s">&quot;Microsoft.Pipeline&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">ns0:ObjectName=</span><span class="s">&quot;Pago&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;ns0:ObjectData&gt;</span>
<span class="w">        </span><span class="nt">&lt;pipeline&gt;</span>
<span class="w">            </span><span class="nt">&lt;components&gt;</span>
<span class="w">                </span><span class="nt">&lt;component</span><span class="w"> </span><span class="na">refId=</span><span class="s">&quot;Origen de ADO NET&quot;</span><span class="w"> </span><span class="na">componentClassID=</span><span class="s">&quot;Microsoft.ManagedComponentHost&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Origen de ADO NET&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;component</span><span class="w"> </span><span class="na">refId=</span><span class="s">&quot;Destino de ADO NET&quot;</span><span class="w"> </span><span class="na">componentClassID=</span><span class="s">&quot;Microsoft.ManagedComponentHost&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Destino de ADO NET&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/components&gt;</span>
<span class="w">            </span><span class="nt">&lt;paths&gt;</span>
<span class="w">                </span><span class="nt">&lt;path</span><span class="w"> </span><span class="na">refId=</span><span class="s">&quot;Salida de origen&quot;</span><span class="w"> </span><span class="na">startId=</span><span class="s">&quot;Origen de ADO NET.Outputs[Salida de origen]&quot;</span><span class="w"> </span><span class="na">endId=</span><span class="s">&quot;Destino de ADO NET.Inputs[Entrada de destino]&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/paths&gt;</span>
<span class="w">        </span><span class="nt">&lt;/pipeline&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ns0:ObjectData&gt;</span>
<span class="nt">&lt;/ns0:Executable&gt;</span>
</code></pre></div>
<ul>
<li><strong>DTSID</strong>: Un GUID único (e.g., <code>{12345678-ABCD-1234-5678-1234567890AB}</code>).  </li>
<li><strong>Conexión</strong>: <strong><code>DWH_COMFENALCO</code></strong> para origen y destino.</li>
</ul>
<h4 id="diagrama-de-secuencia_1">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_1" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant SSIS as Paquete SSIS
    participant Origen as Origen ADO NET
    participant Destino as Destino ADO NET
    participant SQLServer as Servidor SQL
    SSIS -&gt;&gt; Origen: Ejecutar extracción
    Origen -&gt;&gt; SQLServer: SELECT desde FACT_PAGOS
    SQLServer --&gt;&gt; Origen: Datos extraídos
    Origen -&gt;&gt; Destino: Enviar datos transformados
    Destino -&gt;&gt; SQLServer: Cargar en FACT_MINERIA
    SQLServer --&gt;&gt; Destino: Confirmación
    Destino --&gt;&gt; SSIS: Finalizar tarea</code></pre>
<h4 id="contexto-dentro-del-paquete-ssis_1">Contexto dentro del Paquete SSIS<a class="headerlink" href="#contexto-dentro-del-paquete-ssis_1" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>Pago</code></strong> forma parte del procesamiento de la tabla <strong><code>FACT_MINERIA</code></strong> bajo el contenedor <strong><code>MINERIA_EDUCACION_TECNICA_Y_CONTINUA</code></strong>. Se ejecuta después de tareas preparatorias como <strong><code>Truncar Tablas Cubo</code></strong> y junto a otras tareas como <strong><code>PQRs</code></strong>, contribuyendo a la integración de datos financieros y educativos en el Data Warehouse. Su propósito es asegurar que los datos de pagos se alineen con el modelo dimensional para análisis de minería de datos.</p>
<h3 id="componente-packagefact_mineriamineria_educacion_tecnica_y_continuapqrs">Componente <strong><code>Package\FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA\PQRs</code></strong><a class="headerlink" href="#componente-packagefact_mineriamineria_educacion_tecnica_y_continuapqrs" title="Permanent link">&para;</a></h3>
<h4 id="descripcion-general_5">Descripción General<a class="headerlink" href="#descripcion-general_5" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>PQRs</code></strong> es una tarea de flujo de datos (<strong><code>Data Flow Task</code></strong>) dentro del paquete SSIS <strong><code>09-ETLS_CUBO</code></strong>, ubicada en la jerarquía <strong><code>Package\FACT_MINERIA\MINERIA_EDUCACION_TECNICA_Y_CONTINUA</code></strong>. Este componente está diseñado para extraer, transformar y cargar datos relacionados con PQRs (Peticiones, Quejas y Reclamos) en el ámbito de educación técnica y continua, integrándolos en la tabla de hechos <strong><code>[DWH_COMFENALCO].[Transversal].[FACT_MINERIA]</code></strong> del Data Warehouse <strong><code>DWH_COMFENALCO</code></strong>.</p>
<h4 id="proposito_6">Propósito<a class="headerlink" href="#proposito_6" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>Procesamiento de Datos de PQRs</strong>:  <ul>
<li>Extrae información de PQRs desde la tabla <strong><code>FACT_PQRS</code></strong>, la transforma para ajustarla al modelo de datos de <strong><code>FACT_MINERIA</code></strong>, y la carga en el Data Warehouse.  </li>
</ul>
</li>
<li><strong>Integración con Dimensiones</strong>:  <ul>
<li>Enlaza los datos con dimensiones como <strong><code>DIM_TIEMPO_MENSUAL</code></strong>, <strong><code>DIM_AFILIADOS</code></strong>, y <strong><code>DIM_BENEFICIARIOS</code></strong> para enriquecer el análisis.  </li>
</ul>
</li>
<li><strong>Soporte al Análisis Educativo</strong>:  <ul>
<li>Proporciona métricas clave (como tiempo de resolución y categorías) para análisis de minería de datos en el contexto educativo.</li>
</ul>
</li>
</ol>
<h4 id="tablas-afectadas_2">Tablas Afectadas<a class="headerlink" href="#tablas-afectadas_2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_MINERIA]</code></strong>:  <ul>
<li>Tabla de hechos destino que almacena datos procesados de PQRs relacionados con educación técnica y continua.  </li>
</ul>
</li>
<li>Fuentes de Datos:  <ul>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[FACT_PQRS]</code></strong>: Tabla de hechos origen con información cruda de PQRs.  </li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[DIM_TIEMPO_MENSUAL]</code></strong>: Dimensión temporal para vincular fechas.  </li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[DIM_AFILIADOS]</code></strong>: Dimensión de afiliados.  </li>
<li><strong><code>[DWH_COMFENALCO].[Transversal].[DIM_BENEFICIARIOS]</code></strong>: Dimensión de beneficiarios.</li>
</ul>
</li>
</ul>
<h4 id="implementacion_16">Implementación<a class="headerlink" href="#implementacion_16" title="Permanent link">&para;</a></h4>
<p><strong>Estructura del Flujo de Datos:</strong><br />
El componente <strong><code>PQRs</code></strong> es un <strong><code>Data Flow Task</code></strong> (identificado por <strong><code>Microsoft.Pipeline</code></strong>) que incluye tres subcomponentes principales:</p>
<ol>
<li>
<p><strong>Origen de ADO NET</strong>:  </p>
<ul>
<li><strong>Descripción</strong>: Extrae datos de PQRs desde <strong><code>FACT_PQRS</code></strong> con uniones a dimensiones relevantes.  </li>
<li><strong>Consulta SQL</strong>:<br />
 <div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="n">a</span><span class="p">.[</span><span class="n">PARTNER</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">BP</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ANIO_ACADEMICO</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID_UNIDAD</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="n">FECHA_CREACION</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_INICIAL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">FECHA_RESOLUCION</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_FINAL</span><span class="p">,</span>
<span class="w">    </span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;PQR &#39;</span><span class="p">,</span><span class="w"> </span><span class="k">LOWER</span><span class="p">([</span><span class="n">CAUSA</span><span class="p">]))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">    </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="k">SECOND</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">FECHA_CREACION</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">FECHA_RESOLUCION</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIEMPO_SEGUNDOS</span><span class="p">,</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">VALOR_PAGADO</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID_CATEGORIA</span><span class="p">],</span>
<span class="w">     </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">     </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_TIPO_ESTUDIANTE</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_PQRS</span><span class="p">]</span><span class="w"> </span><span class="n">f</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">tm</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_AFILIADOS</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">f</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">ID_AFILIADO</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="k">UNION</span><span class="w"> </span><span class="k">ALL</span>
<span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="n">b</span><span class="p">.[</span><span class="n">PARTNER</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">BP</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_FECHA_MENSUAL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_ANIO_ACADEMICO</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID_UNIDAD</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="n">FECHA_CREACION</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_INICIAL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">FECHA_RESOLUCION</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FECHA_FINAL</span><span class="p">,</span>
<span class="w">    </span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;PQR &#39;</span><span class="p">,</span><span class="w"> </span><span class="k">LOWER</span><span class="p">([</span><span class="n">CAUSA</span><span class="p">]))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ACTIVIDAD</span><span class="p">,</span>
<span class="w">    </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="k">SECOND</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">FECHA_CREACION</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">FECHA_RESOLUCION</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TIEMPO_SEGUNDOS</span><span class="p">,</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">VALOR_PAGADO</span><span class="p">,</span>
<span class="w">    </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">a</span><span class="p">.[</span><span class="n">ID_CATEGORIA</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CATEGORIA</span><span class="p">,</span>
<span class="w">     </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_CURSO</span><span class="p">,</span>
<span class="w">     </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID_TIPO_ESTUDIANTE</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_PQRS</span><span class="p">]</span><span class="w"> </span><span class="n">f</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_TIEMPO_MENSUAL</span><span class="p">]</span><span class="w"> </span><span class="n">tm</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">tm</span><span class="p">.[</span><span class="n">ID_FECHA</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="k">LEFT</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">ID_FECHA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">)</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_BENEFICIARIOS</span><span class="p">]</span><span class="w"> </span><span class="n">b</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">f</span><span class="p">.[</span><span class="n">ID_BENEFICIARIO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.[</span><span class="n">ID_BENEFICIARIO</span><span class="p">]</span>
<span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="p">[</span><span class="n">DWH_COMFENALCO</span><span class="p">].[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">DIM_AFILIADOS</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">b</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.[</span><span class="n">ID_AFILIADO</span><span class="p">]</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">ID_BENEFICIARIO</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ID_UNIDAD</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div></li>
<li><strong>Conexión</strong>: Usa el administrador de conexiones <strong><code>DWH_COMFENALCO</code></strong>.  </li>
<li><strong>Propiedades</strong>:  <ul>
<li><code>CommandTimeout</code>: 30 segundos.  </li>
<li><code>AccessMode</code>: 2 (SQL Command).  </li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lookup</strong>:  </p>
<ul>
<li><strong>Descripción</strong>: Realiza una búsqueda en <strong><code>FACT_MINERIA</code></strong> para verificar o enriquecer datos usando la columna <strong><code>BP</code></strong> como clave de unión.  </li>
<li><strong>Consulta SQL</strong>:<br />
 <div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">Transversal</span><span class="p">].[</span><span class="n">FACT_MINERIA</span><span class="p">]</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">BP</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span>
</code></pre></div></li>
<li><strong>Conexión</strong>: <strong><code>DWH_COMFENALCO_OLEDB</code></strong>.  </li>
<li><strong>Propiedades</strong>:  <ul>
<li><code>NoMatchBehavior</code>: 1 (enviar filas sin coincidencia a una salida específica).  </li>
<li><code>CacheType</code>: 0 (sin caché).  </li>
<li><code>ParameterMap</code>: Vincula la columna <strong><code>BP</code></strong> del origen como parámetro.  </li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Destino de ADO NET</strong>:  </p>
<ul>
<li><strong>Descripción</strong>: Carga los datos transformados en <strong><code>FACT_MINERIA</code></strong>.  </li>
<li><strong>Tabla Destino</strong>: <strong><code>[Transversal].[FACT_MINERIA]</code></strong>.  </li>
<li><strong>Columnas Mapeadas</strong>:  <ul>
<li><code>BP</code> (wstr, 20)  </li>
<li><code>ID_FECHA_MENSUAL</code> (i4)  </li>
<li><code>ID_ANIO_ACADEMICO</code> (i4)  </li>
<li><code>ID_UNIDAD</code> (i4)  </li>
<li><code>FECHA_INICIAL</code> (dbTimeStamp)  </li>
<li><code>FECHA_FINAL</code> (dbTimeStamp)  </li>
<li><code>ACTIVIDAD</code> (wstr, 100)  </li>
<li><code>TIEMPO_SEGUNDOS</code> (i4)  </li>
<li><code>VALOR_PAGADO</code> (i4)  </li>
<li><code>ID_CATEGORIA</code> (i4)  </li>
<li><code>ID_CURSO</code> (i4)  </li>
<li><code>ID_TIPO_ESTUDIANTE</code> (i4)  </li>
</ul>
</li>
<li><strong>Conexión</strong>: <strong><code>DWH_COMFENALCO</code></strong>.  </li>
<li><strong>Propiedades</strong>:  <ul>
<li><code>BatchSize</code>: 0 (tamaño de búfer interno).  </li>
<li><code>CommandTimeout</code>: 30 segundos.  </li>
<li><code>UseBulkInsertWhenPossible</code>: True (usa inserción masiva si es compatible).  </li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="configuracion-en-el-xml_1">Configuración en el XML<a class="headerlink" href="#configuracion-en-el-xml_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Identificador</strong>: <strong><code>DTSID="{58954d94-e22d-4d6e-acaa-93f8f254511b}"</code></strong>.  </li>
<li><strong>Tipo</strong>: <strong><code>Microsoft.Pipeline</code></strong>.  </li>
<li><strong>Nombre</strong>: <strong><code>PQRs</code></strong>.  </li>
<li><strong>Descripción</strong>: "Data Flow Task".  </li>
<li><strong>Estructura</strong>: Incluye los componentes <strong><code>Origen de ADO NET</code></strong>, <strong><code>Lookup</code></strong>, y <strong><code>Destino de ADO NET</code></strong>, conectados mediante caminos de datos (<strong><code>paths</code></strong>).</li>
</ul>
<h4 id="diagrama-de-secuencia_2">Diagrama de Secuencia<a class="headerlink" href="#diagrama-de-secuencia_2" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>sequenceDiagram
    participant SSIS as Paquete SSIS
    participant Origen as Origen ADO NET
    participant Lookup as Lookup
    participant Destino as Destino ADO NET
    participant SQLServer as Servidor SQL
    SSIS -&gt;&gt; Origen: Ejecutar extracción
    Origen -&gt;&gt; SQLServer: SELECT desde FACT_PQRS
    SQLServer --&gt;&gt; Origen: Datos extraídos
    Origen -&gt;&gt; Lookup: Enviar datos (BP como clave)
    Lookup -&gt;&gt; SQLServer: SELECT * FROM FACT_MINERIA WHERE BP = ?
    SQLServer --&gt;&gt; Lookup: Resultados de búsqueda
    Lookup -&gt;&gt; Destino: Enviar filas coincidentes
    Destino -&gt;&gt; SQLServer: Cargar en FACT_MINERIA
    SQLServer --&gt;&gt; Destino: Confirmación
    Destino --&gt;&gt; SSIS: Finalizar tarea</code></pre>
<h4 id="contexto-dentro-del-paquete-ssis_2">Contexto dentro del Paquete SSIS<a class="headerlink" href="#contexto-dentro-del-paquete-ssis_2" title="Permanent link">&para;</a></h4>
<p>El componente <strong><code>PQRs</code></strong> forma parte del procesamiento de la tabla <strong><code>FACT_MINERIA</code></strong> dentro del paquete <strong><code>09-ETLS_CUBO</code></strong>, específicamente bajo el contenedor <strong><code>MINERIA_EDUCACION_TECNICA_Y_CONTINUA</code></strong>. Se ejecuta tras tareas preparatorias como <strong><code>Truncar Tablas Cubo</code></strong> y contribuye a la integración de datos para análisis de minería en educación técnica y continua. Su diseño asegura que los datos de PQRs se alineen con el modelo dimensional del Data Warehouse.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../js/mkdocs_pagetree_plugin.js"></script>
      
        <script src="../../js/init_mermaid.js"></script>
      
    
  </body>
</html>